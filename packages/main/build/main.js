"use strict";var Sf=Object.defineProperty,$f=Object.defineProperties;var Cf=Object.getOwnPropertyDescriptors;var Tr=Object.getOwnPropertySymbols;var Ao=Object.prototype.hasOwnProperty,So=Object.prototype.propertyIsEnumerable;var $o=(e,t,n)=>t in e?Sf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))Ao.call(t,n)&&$o(e,n,t[n]);if(Tr)for(var n of Tr(t))So.call(t,n)&&$o(e,n,t[n]);return e},Ie=(e,t)=>$f(e,Cf(t));var Co=(e,t)=>{var n={};for(var r in e)Ao.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Tr)for(var r of Tr(e))t.indexOf(r)<0&&So.call(e,r)&&(n[r]=e[r]);return n};var bf=require("events"),Of=require("crypto"),If=require("fs"),Nf=require("stream"),Rf=require("url"),Df=require("string_decoder"),Pf=require("constants"),xf=require("util"),Ff=require("assert"),Lf=require("path"),Uf=require("fs/promises"),kf=require("os"),Mf=require("electron"),Bf=require("child_process"),qf=require("zlib"),Hf=require("http");function we(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function jf(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var bo=we(bf),Ar=we(Of),Ze=we(If),$n=we(Nf),St=we(Rf),Gf=we(Df),Vf=we(Pf),Oo=we(xf),Io=we(Ff),re=we(Lf),Yf=we(Uf),No=we(kf),Cn=we(Mf),Sr=we(Bf),Ro=we(qf),Wf=we(Hf),Be=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Xf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ht={},te={},$t={};Object.defineProperty($t,"__esModule",{value:!0});$t.CancellationError=$t.CancellationToken=void 0;const zf=bo.default;class Kf extends zf.EventEmitter{constructor(t){super();this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new Bi);const n=()=>{if(r!=null)try{this.removeListener("cancel",r),r=null}catch{}};let r=null;return new Promise((i,a)=>{let o=null;if(r=()=>{try{o!=null&&(o(),o=null)}finally{a(new Bi)}},this.cancelled){r();return}this.onCancel(r),t(i,a,s=>{o=s})}).then(i=>(n(),i)).catch(i=>{throw n(),i})}removeParentCancelHandler(){const t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}$t.CancellationToken=Kf;class Bi extends Error{constructor(){super("cancelled")}}$t.CancellationError=Bi;var J={},qi={exports:{}},jt=1e3,Gt=jt*60,Vt=Gt*60,Ct=Vt*24,Jf=Ct*7,Qf=Ct*365.25,Zf=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return ed(e);if(n==="number"&&isFinite(e))return t.long?nd(e):td(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function ed(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Qf;case"weeks":case"week":case"w":return n*Jf;case"days":case"day":case"d":return n*Ct;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Vt;case"minutes":case"minute":case"mins":case"min":case"m":return n*Gt;case"seconds":case"second":case"secs":case"sec":case"s":return n*jt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function td(e){var t=Math.abs(e);return t>=Ct?Math.round(e/Ct)+"d":t>=Vt?Math.round(e/Vt)+"h":t>=Gt?Math.round(e/Gt)+"m":t>=jt?Math.round(e/jt)+"s":e+"ms"}function nd(e){var t=Math.abs(e);return t>=Ct?$r(e,t,Ct,"day"):t>=Vt?$r(e,t,Vt,"hour"):t>=Gt?$r(e,t,Gt,"minute"):t>=jt?$r(e,t,jt,"second"):e+" ms"}function $r(e,t,n,r){var i=t>=n*1.5;return Math.round(e/n)+" "+r+(i?"s":"")}function rd(e){n.debug=n,n.default=n,n.coerce=l,n.disable=a,n.enable=i,n.enabled=o,n.humanize=Zf,n.destroy=p,Object.keys(e).forEach(f=>{n[f]=e[f]}),n.names=[],n.skips=[],n.formatters={};function t(f){let c=0;for(let m=0;m<f.length;m++)c=(c<<5)-c+f.charCodeAt(m),c|=0;return n.colors[Math.abs(c)%n.colors.length]}n.selectColor=t;function n(f){let c,m=null,g,w;function A(...S){if(!A.enabled)return;const C=A,$=Number(new Date),Q=$-(c||$);C.diff=Q,C.prev=c,C.curr=$,c=$,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let D=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(j,M)=>{if(j==="%%")return"%";D++;const O=n.formatters[M];if(typeof O=="function"){const y=S[D];j=O.call(C,y),S.splice(D,1),D--}return j}),n.formatArgs.call(C,S),(C.log||n.log).apply(C,S)}return A.namespace=f,A.useColors=n.useColors(),A.color=n.selectColor(f),A.extend=r,A.destroy=n.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(g!==n.namespaces&&(g=n.namespaces,w=n.enabled(f)),w),set:S=>{m=S}}),typeof n.init=="function"&&n.init(A),A}function r(f,c){const m=n(this.namespace+(typeof c=="undefined"?":":c)+f);return m.log=this.log,m}function i(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let c;const m=(typeof f=="string"?f:"").split(/[\s,]+/),g=m.length;for(c=0;c<g;c++)!m[c]||(f=m[c].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.substr(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function a(){const f=[...n.names.map(s),...n.skips.map(s).map(c=>"-"+c)].join(",");return n.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let c,m;for(c=0,m=n.skips.length;c<m;c++)if(n.skips[c].test(f))return!1;for(c=0,m=n.names.length;c<m;c++)if(n.names[c].test(f))return!0;return!1}function s(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function l(f){return f instanceof Error?f.stack||f.message:f}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var id=rd;(function(e,t){t.formatArgs=r,t.save=i,t.load=a,t.useColors=n,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;l.splice(1,0,p,"color: inherit");let f=0,c=0;l[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(f++,m==="%c"&&(c=f))}),l.splice(c,0,p)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function a(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process!="undefined"&&"env"in process&&(l={}.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=id(t);const{formatters:s}=e.exports;s.j=function(l){try{return JSON.stringify(l)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}})(qi,qi.exports);var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.ProgressCallbackTransform=void 0;const ad=$n.default;class od extends ad.Transform{constructor(t,n,r){super();this.total=t,this.cancellationToken=n,this.onProgress=r,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,n,r){if(this.cancellationToken.cancelled){r(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),r(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}}bn.ProgressCallbackTransform=od;Object.defineProperty(J,"__esModule",{value:!0});J.safeStringifyJson=J.configureRequestOptions=J.safeGetHeader=J.DigestTransform=J.configureRequestUrl=J.configureRequestOptionsFromUrl=J.HttpExecutor=J.parseJson=J.HttpError=J.createHttpError=void 0;const sd=Ar.default,ld=qi.exports,ud=Ze.default,cd=$n.default,Do=St.default,fd=$t,Po=te,dd=bn,On=ld.default("electron-builder");function Hi(e,t=null){return new ji(e.statusCode||-1,`${e.statusCode} ${e.statusMessage}`+(t==null?"":`
`+JSON.stringify(t,null,"  "))+`
Headers: `+Or(e.headers),t)}J.createHttpError=Hi;const hd=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class ji extends Error{constructor(t,n=`HTTP error: ${hd.get(t)||t}`,r=null){super(n);this.statusCode=t,this.description=r,this.name="HttpError",this.code=`HTTP_ERROR_${t}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}J.HttpError=ji;function pd(e){return e.then(t=>t==null||t.length===0?null:JSON.parse(t))}J.parseJson=pd;class Cr{constructor(){this.maxRedirects=10}request(t,n=new fd.CancellationToken,r){br(t);const i=r==null?void 0:JSON.stringify(r),a=i?Buffer.from(i):void 0;if(a!=null){On(i);const o=t,{headers:s}=o,l=Co(o,["headers"]);t=F({method:"post",headers:F({"Content-Type":"application/json","Content-Length":a.length},s)},l)}return this.doApiRequest(t,n,s=>s.end(a))}doApiRequest(t,n,r,i=0){return On.enabled&&On(`Request: ${Or(t)}`),n.createPromise((a,o,s)=>{const l=this.createRequest(t,p=>{try{this.handleResponse(p,t,n,a,o,i,r)}catch(f){o(f)}});this.addErrorAndTimeoutHandlers(l,o),this.addRedirectHandlers(l,t,o,i,p=>{this.doApiRequest(p,n,r,i).then(a).catch(o)}),r(l,o),s(()=>l.abort())})}addRedirectHandlers(t,n,r,i,a){}addErrorAndTimeoutHandlers(t,n){this.addTimeOutHandler(t,n),t.on("error",n),t.on("aborted",()=>{n(new Error("Request has been aborted by the server"))})}handleResponse(t,n,r,i,a,o,s){var l;if(On.enabled&&On(`Response: ${t.statusCode} ${t.statusMessage}, request options: ${Or(n)}`),t.statusCode===404){a(Hi(t,`method: ${n.method||"GET"} url: ${n.protocol||"https:"}//${n.hostname}${n.port?`:${n.port}`:""}${n.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(t.statusCode===204){i();return}const p=(l=t.statusCode)!==null&&l!==void 0?l:0,f=p>=300&&p<400,c=bt(t,"location");if(f&&c!=null){if(o>this.maxRedirects){a(this.createMaxRedirectError());return}this.doApiRequest(Cr.prepareRedirectUrlOptions(c,n),r,s,o).then(i).catch(a);return}t.setEncoding("utf8");let m="";t.on("error",a),t.on("data",g=>m+=g),t.on("end",()=>{try{if(t.statusCode!=null&&t.statusCode>=400){const g=bt(t,"content-type"),w=g!=null&&(Array.isArray(g)?g.find(A=>A.includes("json"))!=null:g.includes("json"));a(Hi(t,`method: ${n.method||"GET"} url: ${n.protocol||"https:"}//${n.hostname}${n.port?`:${n.port}`:""}${n.path}

          Data:
          ${w?JSON.stringify(JSON.parse(m)):m}
          `))}else i(m.length===0?null:m)}catch(g){a(g)}})}async downloadToBuffer(t,n){return await n.cancellationToken.createPromise((r,i,a)=>{let o=null;const s={headers:n.headers||void 0,redirect:"manual"};Gi(t,s),br(s),this.doDownload(s,{destination:null,options:n,onCancel:a,callback:l=>{l==null?r(o):i(l)},responseHandler:(l,p)=>{const f=bt(l,"content-length");let c=-1;if(f!=null){const m=parseInt(f,10);if(m>0){if(m>524288e3){p(new Error("Maximum allowed size is 500 MB"));return}o=Buffer.alloc(m),c=0}}l.on("data",m=>{if(c!==-1)m.copy(o,c),c+=m.length;else if(o==null)o=m;else{if(o.length>524288e3){p(new Error("Maximum allowed size is 500 MB"));return}o=Buffer.concat([o,m])}}),l.on("end",()=>{o!=null&&c!==-1&&c!==o.length?p(new Error(`Received data length ${c} is not equal to expected ${o.length}`)):p(null)})}},0)})}doDownload(t,n,r){const i=this.createRequest(t,a=>{if(a.statusCode>=400){n.callback(new Error(`Cannot download "${t.protocol||"https:"}//${t.hostname}${t.path}", status ${a.statusCode}: ${a.statusMessage}`));return}a.on("error",n.callback);const o=bt(a,"location");if(o!=null){r<this.maxRedirects?this.doDownload(Cr.prepareRedirectUrlOptions(o,t),n,r++):n.callback(this.createMaxRedirectError());return}n.responseHandler==null?gd(n,a):n.responseHandler(a,n.callback)});this.addErrorAndTimeoutHandlers(i,n.callback),this.addRedirectHandlers(i,t,n.callback,r,a=>{this.doDownload(a,n,r++)}),i.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(t,n){t.on("socket",r=>{r.setTimeout(60*1e3,()=>{t.abort(),n(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(t,n){const r=xo(t,F({},n)),i=r.headers;if(i==null?void 0:i.authorization){const a=new Do.URL(t);(a.hostname.endsWith(".amazonaws.com")||a.searchParams.has("X-Amz-Credential"))&&delete i.authorization}return r}static retryOnServerError(t,n=3){for(let r=0;;r++)try{return t()}catch(i){if(r<n&&(i instanceof ji&&i.isServerError()||i.code==="EPIPE"))continue;throw i}}}J.HttpExecutor=Cr;function xo(e,t){const n=br(t);return Gi(new Do.URL(e),n),n}J.configureRequestOptionsFromUrl=xo;function Gi(e,t){t.protocol=e.protocol,t.hostname=e.hostname,e.port?t.port=e.port:t.port&&delete t.port,t.path=e.pathname+e.search}J.configureRequestUrl=Gi;class Vi extends cd.Transform{constructor(t,n="sha512",r="base64"){super();this.expected=t,this.algorithm=n,this.encoding=r,this._actual=null,this.isValidateOnEnd=!0,this.digester=sd.createHash(n)}get actual(){return this._actual}_transform(t,n,r){this.digester.update(t),r(null,t)}_flush(t){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(n){t(n);return}t(null)}validate(){if(this._actual==null)throw Po.newError("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw Po.newError(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}J.DigestTransform=Vi;function md(e,t,n){return e!=null&&t!=null&&e!==t?(n(new Error(`checksum mismatch: expected ${t} but got ${e} (X-Checksum-Sha2 header)`)),!1):!0}function bt(e,t){const n=e.headers[t];return n==null?null:Array.isArray(n)?n.length===0?null:n[n.length-1]:n}J.safeGetHeader=bt;function gd(e,t){if(!md(bt(t,"X-Checksum-Sha2"),e.options.sha2,e.callback))return;const n=[];if(e.options.onProgress!=null){const o=bt(t,"content-length");o!=null&&n.push(new dd.ProgressCallbackTransform(parseInt(o,10),e.options.cancellationToken,e.options.onProgress))}const r=e.options.sha512;r!=null?n.push(new Vi(r,"sha512",r.length===128&&!r.includes("+")&&!r.includes("Z")&&!r.includes("=")?"hex":"base64")):e.options.sha2!=null&&n.push(new Vi(e.options.sha2,"sha256","hex"));const i=ud.createWriteStream(e.destination);n.push(i);let a=t;for(const o of n)o.on("error",s=>{e.options.cancellationToken.cancelled||e.callback(s)}),a=a.pipe(o);i.on("finish",()=>{i.close(e.callback)})}function br(e,t,n){n!=null&&(e.method=n),e.headers=F({},e.headers);const r=e.headers;return t!=null&&(r.authorization=t.startsWith("Basic")||t.startsWith("Bearer")?t:`token ${t}`),r["User-Agent"]==null&&(r["User-Agent"]="electron-builder"),(n==null||n==="GET"||r["Cache-Control"]==null)&&(r["Cache-Control"]="no-cache"),e.protocol==null&&process.versions.electron!=null&&(e.protocol="https:"),e}J.configureRequestOptions=br;function Or(e,t){return JSON.stringify(e,(n,r)=>n.endsWith("Authorization")||n.endsWith("authorization")||n.endsWith("Password")||n.endsWith("PASSWORD")||n.endsWith("Token")||n.includes("password")||n.includes("token")||t!=null&&t.has(n)?"<stripped sensitive data>":r,2)}J.safeStringifyJson=Or;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.getS3LikeProviderBaseUrl=Yt.githubUrl=void 0;function yd(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`}Yt.githubUrl=yd;function Ed(e){const t=e.provider;if(t==="s3")return vd(e);if(t==="spaces")return wd(e);throw new Error(`Not supported provider: ${t}`)}Yt.getS3LikeProviderBaseUrl=Ed;function vd(e){let t;if(e.endpoint!=null)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(e.region==null)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);e.region==="us-east-1"?t=`https://s3.amazonaws.com/${e.bucket}`:t=`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else e.region==="cn-north-1"?t=`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:t=`https://${e.bucket}.s3.amazonaws.com`;return Fo(t,e.path)}function Fo(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function wd(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return Fo(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.parseDn=void 0;function _d(e){let t=!1,n=null,r="",i=0;e=e.trim();const a=new Map;for(let o=0;o<=e.length;o++){if(o===e.length){n!==null&&a.set(n,r);break}const s=e[o];if(t){if(s==='"'){t=!1;continue}}else{if(s==='"'){t=!0;continue}if(s==="\\"){o++;const l=parseInt(e.slice(o,o+2),16);Number.isNaN(l)?r+=e[o]:(o++,r+=String.fromCharCode(l));continue}if(n===null&&s==="="){n=r,r="";continue}if(s===","||s===";"||s==="+"){n!==null&&a.set(n,r),n=null,r="";continue}}if(s===" "&&!t){if(r.length===0)continue;if(o>i){let l=o;for(;e[l]===" ";)l++;i=l}if(i>=e.length||e[i]===","||e[i]===";"||n===null&&e[i]==="="||n!==null&&e[i]==="+"){o=i-1;continue}}r+=s}return a}Ir.parseDn=_d;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.nil=Wt.UUID=void 0;const Lo=Ar.default,Uo=te,Td="options.name must be either a string or a Buffer",ko=Lo.randomBytes(16);ko[0]=ko[0]|1;const Nr={},L=[];for(let e=0;e<256;e++){const t=(e+256).toString(16).substr(1);Nr[t]=e,L[e]=t}class Ot{constructor(t){this.ascii=null,this.binary=null;const n=Ot.check(t);if(!n)throw new Error("not a UUID");this.version=n.version,n.format==="ascii"?this.ascii=t:this.binary=t}static v5(t,n){return Ad(t,"sha1",80,n)}toString(){return this.ascii==null&&(this.ascii=Sd(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(t,n=0){if(typeof t=="string")return t=t.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(t)?t==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(Nr[t[14]+t[15]]&240)>>4,variant:Mo((Nr[t[19]+t[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(t)){if(t.length<n+16)return!1;let r=0;for(;r<16&&t[n+r]===0;r++);return r===16?{version:void 0,variant:"nil",format:"binary"}:{version:(t[n+6]&240)>>4,variant:Mo((t[n+8]&224)>>5),format:"binary"}}throw Uo.newError("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(t){const n=Buffer.allocUnsafe(16);let r=0;for(let i=0;i<16;i++)n[i]=Nr[t[r++]+t[r++]],(i===3||i===5||i===7||i===9)&&(r+=1);return n}}Wt.UUID=Ot;Ot.OID=Ot.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function Mo(e){switch(e){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var In;(function(e){e[e.ASCII=0]="ASCII",e[e.BINARY=1]="BINARY",e[e.OBJECT=2]="OBJECT"})(In||(In={}));function Ad(e,t,n,r,i=In.ASCII){const a=Lo.createHash(t);if(typeof e!="string"&&!Buffer.isBuffer(e))throw Uo.newError(Td,"ERR_INVALID_UUID_NAME");a.update(r),a.update(e);const s=a.digest();let l;switch(i){case In.BINARY:s[6]=s[6]&15|n,s[8]=s[8]&63|128,l=s;break;case In.OBJECT:s[6]=s[6]&15|n,s[8]=s[8]&63|128,l=new Ot(s);break;default:l=L[s[0]]+L[s[1]]+L[s[2]]+L[s[3]]+"-"+L[s[4]]+L[s[5]]+"-"+L[s[6]&15|n]+L[s[7]]+"-"+L[s[8]&63|128]+L[s[9]]+"-"+L[s[10]]+L[s[11]]+L[s[12]]+L[s[13]]+L[s[14]]+L[s[15]];break}return l}function Sd(e){return L[e[0]]+L[e[1]]+L[e[2]]+L[e[3]]+"-"+L[e[4]]+L[e[5]]+"-"+L[e[6]]+L[e[7]]+"-"+L[e[8]]+L[e[9]]+"-"+L[e[10]]+L[e[11]]+L[e[12]]+L[e[13]]+L[e[14]]+L[e[15]]}Wt.nil=new Ot("00000000-0000-0000-0000-000000000000");var Xt={},Bo={};(function(e){(function(t){t.parser=function(d,u){return new r(d,u)},t.SAXParser=r,t.SAXStream=f,t.createStream=p,t.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(d,u){if(!(this instanceof r))return new r(d,u);var _=this;a(_),_.q=_.c="",_.bufferCheckPosition=t.MAX_BUFFER_LENGTH,_.opt=u||{},_.opt.lowercase=_.opt.lowercase||_.opt.lowercasetags,_.looseCase=_.opt.lowercase?"toLowerCase":"toUpperCase",_.tags=[],_.closed=_.closedRoot=_.sawRoot=!1,_.tag=_.error=null,_.strict=!!d,_.noscript=!!(d||_.opt.noscript),_.state=y.BEGIN,_.strictEntities=_.opt.strictEntities,_.ENTITIES=_.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),_.attribList=[],_.opt.xmlns&&(_.ns=Object.create(A)),_.trackPosition=_.opt.position!==!1,_.trackPosition&&(_.position=_.line=_.column=0),G(_,"onready")}Object.create||(Object.create=function(d){function u(){}u.prototype=d;var _=new u;return _}),Object.keys||(Object.keys=function(d){var u=[];for(var _ in d)d.hasOwnProperty(_)&&u.push(_);return u});function i(d){for(var u=Math.max(t.MAX_BUFFER_LENGTH,10),_=0,v=0,U=n.length;v<U;v++){var z=d[n[v]].length;if(z>u)switch(n[v]){case"textNode":V(d);break;case"cdata":N(d,"oncdata",d.cdata),d.cdata="";break;case"script":N(d,"onscript",d.script),d.script="";break;default:Z(d,"Max buffer length exceeded: "+n[v])}_=Math.max(_,z)}var ne=t.MAX_BUFFER_LENGTH-_;d.bufferCheckPosition=ne+d.position}function a(d){for(var u=0,_=n.length;u<_;u++)d[n[u]]=""}function o(d){V(d),d.cdata!==""&&(N(d,"oncdata",d.cdata),d.cdata=""),d.script!==""&&(N(d,"onscript",d.script),d.script="")}r.prototype={end:function(){B(this)},write:fr,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var s;try{s=require("stream").Stream}catch{s=function(){}}var l=t.EVENTS.filter(function(d){return d!=="error"&&d!=="end"});function p(d,u){return new f(d,u)}function f(d,u){if(!(this instanceof f))return new f(d,u);s.apply(this),this._parser=new r(d,u),this.writable=!0,this.readable=!0;var _=this;this._parser.onend=function(){_.emit("end")},this._parser.onerror=function(v){_.emit("error",v),_._parser.error=null},this._decoder=null,l.forEach(function(v){Object.defineProperty(_,"on"+v,{get:function(){return _._parser["on"+v]},set:function(U){if(!U)return _.removeAllListeners(v),_._parser["on"+v]=U,U;_.on(v,U)},enumerable:!0,configurable:!1})})}f.prototype=Object.create(s.prototype,{constructor:{value:f}}),f.prototype.write=function(d){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(d)){if(!this._decoder){var u=Gf.default.StringDecoder;this._decoder=new u("utf8")}d=this._decoder.write(d)}return this._parser.write(d.toString()),this.emit("data",d),!0},f.prototype.end=function(d){return d&&d.length&&this.write(d),this._parser.end(),!0},f.prototype.on=function(d,u){var _=this;return!_._parser["on"+d]&&l.indexOf(d)!==-1&&(_._parser["on"+d]=function(){var v=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);v.splice(0,0,d),_.emit.apply(_,v)}),s.prototype.on.call(_,d,u)};var c="[CDATA[",m="DOCTYPE",g="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",A={xml:g,xmlns:w},S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,$=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Q=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function D(d){return d===" "||d===`
`||d==="\r"||d==="	"}function le(d){return d==='"'||d==="'"}function j(d){return d===">"||D(d)}function M(d,u){return d.test(u)}function O(d,u){return!M(d,u)}var y=0;t.STATE={BEGIN:y++,BEGIN_WHITESPACE:y++,TEXT:y++,TEXT_ENTITY:y++,OPEN_WAKA:y++,SGML_DECL:y++,SGML_DECL_QUOTED:y++,DOCTYPE:y++,DOCTYPE_QUOTED:y++,DOCTYPE_DTD:y++,DOCTYPE_DTD_QUOTED:y++,COMMENT_STARTING:y++,COMMENT:y++,COMMENT_ENDING:y++,COMMENT_ENDED:y++,CDATA:y++,CDATA_ENDING:y++,CDATA_ENDING_2:y++,PROC_INST:y++,PROC_INST_BODY:y++,PROC_INST_ENDING:y++,OPEN_TAG:y++,OPEN_TAG_SLASH:y++,ATTRIB:y++,ATTRIB_NAME:y++,ATTRIB_NAME_SAW_WHITE:y++,ATTRIB_VALUE:y++,ATTRIB_VALUE_QUOTED:y++,ATTRIB_VALUE_CLOSED:y++,ATTRIB_VALUE_UNQUOTED:y++,ATTRIB_VALUE_ENTITY_Q:y++,ATTRIB_VALUE_ENTITY_U:y++,CLOSE_TAG:y++,CLOSE_TAG_SAW_WHITE:y++,SCRIPT:y++,SCRIPT_ENDING:y++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(d){var u=t.ENTITIES[d],_=typeof u=="number"?String.fromCharCode(u):u;t.ENTITIES[d]=_});for(var x in t.STATE)t.STATE[t.STATE[x]]=x;y=t.STATE;function G(d,u,_){d[u]&&d[u](_)}function N(d,u,_){d.textNode&&V(d),G(d,u,_)}function V(d){d.textNode=W(d.opt,d.textNode),d.textNode&&G(d,"ontext",d.textNode),d.textNode=""}function W(d,u){return d.trim&&(u=u.trim()),d.normalize&&(u=u.replace(/\s+/g," ")),u}function Z(d,u){return V(d),d.trackPosition&&(u+=`
Line: `+d.line+`
Column: `+d.column+`
Char: `+d.c),u=new Error(u),d.error=u,G(d,"onerror",u),d}function B(d){return d.sawRoot&&!d.closedRoot&&R(d,"Unclosed root tag"),d.state!==y.BEGIN&&d.state!==y.BEGIN_WHITESPACE&&d.state!==y.TEXT&&Z(d,"Unexpected end"),V(d),d.c="",d.closed=!0,G(d,"onend"),r.call(d,d.strict,d.opt),d}function R(d,u){if(typeof d!="object"||!(d instanceof r))throw new Error("bad call to strictFail");d.strict&&Z(d,u)}function X(d){d.strict||(d.tagName=d.tagName[d.looseCase]());var u=d.tags[d.tags.length-1]||d,_=d.tag={name:d.tagName,attributes:{}};d.opt.xmlns&&(_.ns=u.ns),d.attribList.length=0,N(d,"onopentagstart",_)}function Bt(d,u){var _=d.indexOf(":"),v=_<0?["",d]:d.split(":"),U=v[0],z=v[1];return u&&d==="xmlns"&&(U="xmlns",z=""),{prefix:U,local:z}}function En(d){if(d.strict||(d.attribName=d.attribName[d.looseCase]()),d.attribList.indexOf(d.attribName)!==-1||d.tag.attributes.hasOwnProperty(d.attribName)){d.attribName=d.attribValue="";return}if(d.opt.xmlns){var u=Bt(d.attribName,!0),_=u.prefix,v=u.local;if(_==="xmlns")if(v==="xml"&&d.attribValue!==g)R(d,"xml: prefix must be bound to "+g+`
Actual: `+d.attribValue);else if(v==="xmlns"&&d.attribValue!==w)R(d,"xmlns: prefix must be bound to "+w+`
Actual: `+d.attribValue);else{var U=d.tag,z=d.tags[d.tags.length-1]||d;U.ns===z.ns&&(U.ns=Object.create(z.ns)),U.ns[v]=d.attribValue}d.attribList.push([d.attribName,d.attribValue])}else d.tag.attributes[d.attribName]=d.attribValue,N(d,"onattribute",{name:d.attribName,value:d.attribValue});d.attribName=d.attribValue=""}function Ke(d,u){if(d.opt.xmlns){var _=d.tag,v=Bt(d.tagName);_.prefix=v.prefix,_.local=v.local,_.uri=_.ns[v.prefix]||"",_.prefix&&!_.uri&&(R(d,"Unbound namespace prefix: "+JSON.stringify(d.tagName)),_.uri=v.prefix);var U=d.tags[d.tags.length-1]||d;_.ns&&U.ns!==_.ns&&Object.keys(_.ns).forEach(function(hr){N(d,"onopennamespace",{prefix:hr,uri:_.ns[hr]})});for(var z=0,ne=d.attribList.length;z<ne;z++){var he=d.attribList[z],Fe=he[0],at=he[1],ue=Bt(Fe,!0),ke=ue.prefix,Di=ue.local,dr=ke===""?"":_.ns[ke]||"",wn={name:Fe,value:at,prefix:ke,local:Di,uri:dr};ke&&ke!=="xmlns"&&!dr&&(R(d,"Unbound namespace prefix: "+JSON.stringify(ke)),wn.uri=ke),d.tag.attributes[Fe]=wn,N(d,"onattribute",wn)}d.attribList.length=0}d.tag.isSelfClosing=!!u,d.sawRoot=!0,d.tags.push(d.tag),N(d,"onopentag",d.tag),u||(!d.noscript&&d.tagName.toLowerCase()==="script"?d.state=y.SCRIPT:d.state=y.TEXT,d.tag=null,d.tagName=""),d.attribName=d.attribValue="",d.attribList.length=0}function vn(d){if(!d.tagName){R(d,"Weird empty close tag."),d.textNode+="</>",d.state=y.TEXT;return}if(d.script){if(d.tagName!=="script"){d.script+="</"+d.tagName+">",d.tagName="",d.state=y.SCRIPT;return}N(d,"onscript",d.script),d.script=""}var u=d.tags.length,_=d.tagName;d.strict||(_=_[d.looseCase]());for(var v=_;u--;){var U=d.tags[u];if(U.name!==v)R(d,"Unexpected close tag");else break}if(u<0){R(d,"Unmatched closing tag: "+d.tagName),d.textNode+="</"+d.tagName+">",d.state=y.TEXT;return}d.tagName=_;for(var z=d.tags.length;z-- >u;){var ne=d.tag=d.tags.pop();d.tagName=d.tag.name,N(d,"onclosetag",d.tagName);var he={};for(var Fe in ne.ns)he[Fe]=ne.ns[Fe];var at=d.tags[d.tags.length-1]||d;d.opt.xmlns&&ne.ns!==at.ns&&Object.keys(ne.ns).forEach(function(ue){var ke=ne.ns[ue];N(d,"onclosenamespace",{prefix:ue,uri:ke})})}u===0&&(d.closedRoot=!0),d.tagName=d.attribValue=d.attribName="",d.attribList.length=0,d.state=y.TEXT}function Ri(d){var u=d.entity,_=u.toLowerCase(),v,U="";return d.ENTITIES[u]?d.ENTITIES[u]:d.ENTITIES[_]?d.ENTITIES[_]:(u=_,u.charAt(0)==="#"&&(u.charAt(1)==="x"?(u=u.slice(2),v=parseInt(u,16),U=v.toString(16)):(u=u.slice(1),v=parseInt(u,10),U=v.toString(10))),u=u.replace(/^0+/,""),isNaN(v)||U.toLowerCase()!==u?(R(d,"Invalid character entity"),"&"+d.entity+";"):String.fromCodePoint(v))}function cr(d,u){u==="<"?(d.state=y.OPEN_WAKA,d.startTagPosition=d.position):D(u)||(R(d,"Non-whitespace before first tag."),d.textNode=u,d.state=y.TEXT)}function q(d,u){var _="";return u<d.length&&(_=d.charAt(u)),_}function fr(d){var u=this;if(this.error)throw this.error;if(u.closed)return Z(u,"Cannot write after close. Assign an onready handler.");if(d===null)return B(u);typeof d=="object"&&(d=d.toString());for(var _=0,v="";v=q(d,_++),u.c=v,!!v;)switch(u.trackPosition&&(u.position++,v===`
`?(u.line++,u.column=0):u.column++),u.state){case y.BEGIN:if(u.state=y.BEGIN_WHITESPACE,v==="\uFEFF")continue;cr(u,v);continue;case y.BEGIN_WHITESPACE:cr(u,v);continue;case y.TEXT:if(u.sawRoot&&!u.closedRoot){for(var U=_-1;v&&v!=="<"&&v!=="&";)v=q(d,_++),v&&u.trackPosition&&(u.position++,v===`
`?(u.line++,u.column=0):u.column++);u.textNode+=d.substring(U,_-1)}v==="<"&&!(u.sawRoot&&u.closedRoot&&!u.strict)?(u.state=y.OPEN_WAKA,u.startTagPosition=u.position):(!D(v)&&(!u.sawRoot||u.closedRoot)&&R(u,"Text data outside of root node."),v==="&"?u.state=y.TEXT_ENTITY:u.textNode+=v);continue;case y.SCRIPT:v==="<"?u.state=y.SCRIPT_ENDING:u.script+=v;continue;case y.SCRIPT_ENDING:v==="/"?u.state=y.CLOSE_TAG:(u.script+="<"+v,u.state=y.SCRIPT);continue;case y.OPEN_WAKA:if(v==="!")u.state=y.SGML_DECL,u.sgmlDecl="";else if(!D(v))if(M(S,v))u.state=y.OPEN_TAG,u.tagName=v;else if(v==="/")u.state=y.CLOSE_TAG,u.tagName="";else if(v==="?")u.state=y.PROC_INST,u.procInstName=u.procInstBody="";else{if(R(u,"Unencoded <"),u.startTagPosition+1<u.position){var z=u.position-u.startTagPosition;v=new Array(z).join(" ")+v}u.textNode+="<"+v,u.state=y.TEXT}continue;case y.SGML_DECL:(u.sgmlDecl+v).toUpperCase()===c?(N(u,"onopencdata"),u.state=y.CDATA,u.sgmlDecl="",u.cdata=""):u.sgmlDecl+v==="--"?(u.state=y.COMMENT,u.comment="",u.sgmlDecl=""):(u.sgmlDecl+v).toUpperCase()===m?(u.state=y.DOCTYPE,(u.doctype||u.sawRoot)&&R(u,"Inappropriately located doctype declaration"),u.doctype="",u.sgmlDecl=""):v===">"?(N(u,"onsgmldeclaration",u.sgmlDecl),u.sgmlDecl="",u.state=y.TEXT):(le(v)&&(u.state=y.SGML_DECL_QUOTED),u.sgmlDecl+=v);continue;case y.SGML_DECL_QUOTED:v===u.q&&(u.state=y.SGML_DECL,u.q=""),u.sgmlDecl+=v;continue;case y.DOCTYPE:v===">"?(u.state=y.TEXT,N(u,"ondoctype",u.doctype),u.doctype=!0):(u.doctype+=v,v==="["?u.state=y.DOCTYPE_DTD:le(v)&&(u.state=y.DOCTYPE_QUOTED,u.q=v));continue;case y.DOCTYPE_QUOTED:u.doctype+=v,v===u.q&&(u.q="",u.state=y.DOCTYPE);continue;case y.DOCTYPE_DTD:u.doctype+=v,v==="]"?u.state=y.DOCTYPE:le(v)&&(u.state=y.DOCTYPE_DTD_QUOTED,u.q=v);continue;case y.DOCTYPE_DTD_QUOTED:u.doctype+=v,v===u.q&&(u.state=y.DOCTYPE_DTD,u.q="");continue;case y.COMMENT:v==="-"?u.state=y.COMMENT_ENDING:u.comment+=v;continue;case y.COMMENT_ENDING:v==="-"?(u.state=y.COMMENT_ENDED,u.comment=W(u.opt,u.comment),u.comment&&N(u,"oncomment",u.comment),u.comment=""):(u.comment+="-"+v,u.state=y.COMMENT);continue;case y.COMMENT_ENDED:v!==">"?(R(u,"Malformed comment"),u.comment+="--"+v,u.state=y.COMMENT):u.state=y.TEXT;continue;case y.CDATA:v==="]"?u.state=y.CDATA_ENDING:u.cdata+=v;continue;case y.CDATA_ENDING:v==="]"?u.state=y.CDATA_ENDING_2:(u.cdata+="]"+v,u.state=y.CDATA);continue;case y.CDATA_ENDING_2:v===">"?(u.cdata&&N(u,"oncdata",u.cdata),N(u,"onclosecdata"),u.cdata="",u.state=y.TEXT):v==="]"?u.cdata+="]":(u.cdata+="]]"+v,u.state=y.CDATA);continue;case y.PROC_INST:v==="?"?u.state=y.PROC_INST_ENDING:D(v)?u.state=y.PROC_INST_BODY:u.procInstName+=v;continue;case y.PROC_INST_BODY:if(!u.procInstBody&&D(v))continue;v==="?"?u.state=y.PROC_INST_ENDING:u.procInstBody+=v;continue;case y.PROC_INST_ENDING:v===">"?(N(u,"onprocessinginstruction",{name:u.procInstName,body:u.procInstBody}),u.procInstName=u.procInstBody="",u.state=y.TEXT):(u.procInstBody+="?"+v,u.state=y.PROC_INST_BODY);continue;case y.OPEN_TAG:M(C,v)?u.tagName+=v:(X(u),v===">"?Ke(u):v==="/"?u.state=y.OPEN_TAG_SLASH:(D(v)||R(u,"Invalid character in tag name"),u.state=y.ATTRIB));continue;case y.OPEN_TAG_SLASH:v===">"?(Ke(u,!0),vn(u)):(R(u,"Forward-slash in opening tag not followed by >"),u.state=y.ATTRIB);continue;case y.ATTRIB:if(D(v))continue;v===">"?Ke(u):v==="/"?u.state=y.OPEN_TAG_SLASH:M(S,v)?(u.attribName=v,u.attribValue="",u.state=y.ATTRIB_NAME):R(u,"Invalid attribute name");continue;case y.ATTRIB_NAME:v==="="?u.state=y.ATTRIB_VALUE:v===">"?(R(u,"Attribute without value"),u.attribValue=u.attribName,En(u),Ke(u)):D(v)?u.state=y.ATTRIB_NAME_SAW_WHITE:M(C,v)?u.attribName+=v:R(u,"Invalid attribute name");continue;case y.ATTRIB_NAME_SAW_WHITE:if(v==="=")u.state=y.ATTRIB_VALUE;else{if(D(v))continue;R(u,"Attribute without value"),u.tag.attributes[u.attribName]="",u.attribValue="",N(u,"onattribute",{name:u.attribName,value:""}),u.attribName="",v===">"?Ke(u):M(S,v)?(u.attribName=v,u.state=y.ATTRIB_NAME):(R(u,"Invalid attribute name"),u.state=y.ATTRIB)}continue;case y.ATTRIB_VALUE:if(D(v))continue;le(v)?(u.q=v,u.state=y.ATTRIB_VALUE_QUOTED):(R(u,"Unquoted attribute value"),u.state=y.ATTRIB_VALUE_UNQUOTED,u.attribValue=v);continue;case y.ATTRIB_VALUE_QUOTED:if(v!==u.q){v==="&"?u.state=y.ATTRIB_VALUE_ENTITY_Q:u.attribValue+=v;continue}En(u),u.q="",u.state=y.ATTRIB_VALUE_CLOSED;continue;case y.ATTRIB_VALUE_CLOSED:D(v)?u.state=y.ATTRIB:v===">"?Ke(u):v==="/"?u.state=y.OPEN_TAG_SLASH:M(S,v)?(R(u,"No whitespace between attributes"),u.attribName=v,u.attribValue="",u.state=y.ATTRIB_NAME):R(u,"Invalid attribute name");continue;case y.ATTRIB_VALUE_UNQUOTED:if(!j(v)){v==="&"?u.state=y.ATTRIB_VALUE_ENTITY_U:u.attribValue+=v;continue}En(u),v===">"?Ke(u):u.state=y.ATTRIB;continue;case y.CLOSE_TAG:if(u.tagName)v===">"?vn(u):M(C,v)?u.tagName+=v:u.script?(u.script+="</"+u.tagName,u.tagName="",u.state=y.SCRIPT):(D(v)||R(u,"Invalid tagname in closing tag"),u.state=y.CLOSE_TAG_SAW_WHITE);else{if(D(v))continue;O(S,v)?u.script?(u.script+="</"+v,u.state=y.SCRIPT):R(u,"Invalid tagname in closing tag."):u.tagName=v}continue;case y.CLOSE_TAG_SAW_WHITE:if(D(v))continue;v===">"?vn(u):R(u,"Invalid characters in closing tag");continue;case y.TEXT_ENTITY:case y.ATTRIB_VALUE_ENTITY_Q:case y.ATTRIB_VALUE_ENTITY_U:var ne,he;switch(u.state){case y.TEXT_ENTITY:ne=y.TEXT,he="textNode";break;case y.ATTRIB_VALUE_ENTITY_Q:ne=y.ATTRIB_VALUE_QUOTED,he="attribValue";break;case y.ATTRIB_VALUE_ENTITY_U:ne=y.ATTRIB_VALUE_UNQUOTED,he="attribValue";break}v===";"?(u[he]+=Ri(u),u.entity="",u.state=ne):M(u.entity.length?Q:$,v)?u.entity+=v:(R(u,"Invalid character in entity name"),u[he]+="&"+u.entity+v,u.entity="",u.state=ne);continue;default:throw new Error(u,"Unknown state: "+u.state)}return u.position>=u.bufferCheckPosition&&i(u),u}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var d=String.fromCharCode,u=Math.floor,_=function(){var v=16384,U=[],z,ne,he=-1,Fe=arguments.length;if(!Fe)return"";for(var at="";++he<Fe;){var ue=Number(arguments[he]);if(!isFinite(ue)||ue<0||ue>1114111||u(ue)!==ue)throw RangeError("Invalid code point: "+ue);ue<=65535?U.push(ue):(ue-=65536,z=(ue>>10)+55296,ne=ue%1024+56320,U.push(z,ne)),(he+1===Fe||U.length>v)&&(at+=d.apply(null,U),U.length=0)}return at};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:_,configurable:!0,writable:!0}):String.fromCodePoint=_}()})(e)})(Bo);Object.defineProperty(Xt,"__esModule",{value:!0});Xt.parseXml=Xt.XElement=void 0;const $d=Bo,Rr=te;class qo{constructor(t){if(this.name=t,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!t)throw Rr.newError("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!bd(t))throw Rr.newError(`Invalid element name: ${t}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(t){const n=this.attributes===null?null:this.attributes[t];if(n==null)throw Rr.newError(`No attribute "${t}"`,"ERR_XML_MISSED_ATTRIBUTE");return n}removeAttribute(t){this.attributes!==null&&delete this.attributes[t]}element(t,n=!1,r=null){const i=this.elementOrNull(t,n);if(i===null)throw Rr.newError(r||`No element "${t}"`,"ERR_XML_MISSED_ELEMENT");return i}elementOrNull(t,n=!1){if(this.elements===null)return null;for(const r of this.elements)if(Ho(r,t,n))return r;return null}getElements(t,n=!1){return this.elements===null?[]:this.elements.filter(r=>Ho(r,t,n))}elementValueOrEmpty(t,n=!1){const r=this.elementOrNull(t,n);return r===null?"":r.value}}Xt.XElement=qo;const Cd=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function bd(e){return Cd.test(e)}function Ho(e,t,n){const r=e.name;return r===t||n===!0&&r.length===t.length&&r.toLowerCase()===t.toLowerCase()}function Od(e){let t=null;const n=$d.parser(!0,{}),r=[];return n.onopentag=i=>{const a=new qo(i.name);if(a.attributes=i.attributes,t===null)t=a;else{const o=r[r.length-1];o.elements==null&&(o.elements=[]),o.elements.push(a)}r.push(a)},n.onclosetag=()=>{r.pop()},n.ontext=i=>{r.length>0&&(r[r.length-1].value=i)},n.oncdata=i=>{const a=r[r.length-1];a.value=i,a.isCData=!0},n.onerror=i=>{throw i},n.write(e),t}Xt.parseXml=Od;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.newError=e.asArray=e.CURRENT_APP_PACKAGE_FILE_NAME=e.CURRENT_APP_INSTALLER_FILE_NAME=e.XElement=e.parseXml=e.ProgressCallbackTransform=e.UUID=e.parseDn=e.githubUrl=e.getS3LikeProviderBaseUrl=e.configureRequestUrl=e.parseJson=e.safeStringifyJson=e.configureRequestOptionsFromUrl=e.configureRequestOptions=e.safeGetHeader=e.DigestTransform=e.HttpExecutor=e.createHttpError=e.HttpError=e.CancellationError=e.CancellationToken=void 0;var t=$t;Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}}),Object.defineProperty(e,"CancellationError",{enumerable:!0,get:function(){return t.CancellationError}});var n=J;Object.defineProperty(e,"HttpError",{enumerable:!0,get:function(){return n.HttpError}}),Object.defineProperty(e,"createHttpError",{enumerable:!0,get:function(){return n.createHttpError}}),Object.defineProperty(e,"HttpExecutor",{enumerable:!0,get:function(){return n.HttpExecutor}}),Object.defineProperty(e,"DigestTransform",{enumerable:!0,get:function(){return n.DigestTransform}}),Object.defineProperty(e,"safeGetHeader",{enumerable:!0,get:function(){return n.safeGetHeader}}),Object.defineProperty(e,"configureRequestOptions",{enumerable:!0,get:function(){return n.configureRequestOptions}}),Object.defineProperty(e,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return n.configureRequestOptionsFromUrl}}),Object.defineProperty(e,"safeStringifyJson",{enumerable:!0,get:function(){return n.safeStringifyJson}}),Object.defineProperty(e,"parseJson",{enumerable:!0,get:function(){return n.parseJson}}),Object.defineProperty(e,"configureRequestUrl",{enumerable:!0,get:function(){return n.configureRequestUrl}});var r=Yt;Object.defineProperty(e,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return r.getS3LikeProviderBaseUrl}}),Object.defineProperty(e,"githubUrl",{enumerable:!0,get:function(){return r.githubUrl}});var i=Ir;Object.defineProperty(e,"parseDn",{enumerable:!0,get:function(){return i.parseDn}});var a=Wt;Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return a.UUID}});var o=bn;Object.defineProperty(e,"ProgressCallbackTransform",{enumerable:!0,get:function(){return o.ProgressCallbackTransform}});var s=Xt;Object.defineProperty(e,"parseXml",{enumerable:!0,get:function(){return s.parseXml}}),Object.defineProperty(e,"XElement",{enumerable:!0,get:function(){return s.XElement}}),e.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",e.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function l(f){return f==null?[]:Array.isArray(f)?f:[f]}e.asArray=l;function p(f,c){const m=new Error(f);return m.code=c,m}e.newError=p})(te);var ut={},It={},Se={};Se.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((n,r)=>{e.call(this,...t,(i,a)=>i!=null?r(i):n(a))})},"name",{value:e.name})};Se.fromPromise=function(e){return Object.defineProperty(function(...t){const n=t[t.length-1];if(typeof n!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(r=>n(null,r),n)},"name",{value:e.name})};var ct=Vf.default,Id=process.cwd,Dr=null,Nd=process.platform;process.cwd=function(){return Dr||(Dr=Id.call(process)),Dr};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var jo=process.chdir;process.chdir=function(e){Dr=null,jo.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,jo)}var Rd=Dd;function Dd(e){ct.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||n(e),e.chown=a(e.chown),e.fchown=a(e.fchown),e.lchown=a(e.lchown),e.chmod=r(e.chmod),e.fchmod=r(e.fchmod),e.lchmod=r(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=s(e.stat),e.fstat=s(e.fstat),e.lstat=s(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(f,c,m){m&&process.nextTick(m)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(f,c,m,g){g&&process.nextTick(g)},e.lchownSync=function(){}),Nd==="win32"&&(e.rename=function(f){return function(c,m,g){var w=Date.now(),A=0;f(c,m,function S(C){if(C&&(C.code==="EACCES"||C.code==="EPERM")&&Date.now()-w<6e4){setTimeout(function(){e.stat(m,function($,Q){$&&$.code==="ENOENT"?f(c,m,S):g(C)})},A),A<100&&(A+=10);return}g&&g(C)})}}(e.rename)),e.read=function(f){function c(m,g,w,A,S,C){var $;if(C&&typeof C=="function"){var Q=0;$=function(D,le,j){if(D&&D.code==="EAGAIN"&&Q<10)return Q++,f.call(e,m,g,w,A,S,$);C.apply(this,arguments)}}return f.call(e,m,g,w,A,S,$)}return Object.setPrototypeOf&&Object.setPrototypeOf(c,f),c}(e.read),e.readSync=function(f){return function(c,m,g,w,A){for(var S=0;;)try{return f.call(e,c,m,g,w,A)}catch(C){if(C.code==="EAGAIN"&&S<10){S++;continue}throw C}}}(e.readSync);function t(f){f.lchmod=function(c,m,g){f.open(c,ct.O_WRONLY|ct.O_SYMLINK,m,function(w,A){if(w){g&&g(w);return}f.fchmod(A,m,function(S){f.close(A,function(C){g&&g(S||C)})})})},f.lchmodSync=function(c,m){var g=f.openSync(c,ct.O_WRONLY|ct.O_SYMLINK,m),w=!0,A;try{A=f.fchmodSync(g,m),w=!1}finally{if(w)try{f.closeSync(g)}catch{}else f.closeSync(g)}return A}}function n(f){ct.hasOwnProperty("O_SYMLINK")?(f.lutimes=function(c,m,g,w){f.open(c,ct.O_SYMLINK,function(A,S){if(A){w&&w(A);return}f.futimes(S,m,g,function(C){f.close(S,function($){w&&w(C||$)})})})},f.lutimesSync=function(c,m,g){var w=f.openSync(c,ct.O_SYMLINK),A,S=!0;try{A=f.futimesSync(w,m,g),S=!1}finally{if(S)try{f.closeSync(w)}catch{}else f.closeSync(w)}return A}):(f.lutimes=function(c,m,g,w){w&&process.nextTick(w)},f.lutimesSync=function(){})}function r(f){return f&&function(c,m,g){return f.call(e,c,m,function(w){p(w)&&(w=null),g&&g.apply(this,arguments)})}}function i(f){return f&&function(c,m){try{return f.call(e,c,m)}catch(g){if(!p(g))throw g}}}function a(f){return f&&function(c,m,g,w){return f.call(e,c,m,g,function(A){p(A)&&(A=null),w&&w.apply(this,arguments)})}}function o(f){return f&&function(c,m,g){try{return f.call(e,c,m,g)}catch(w){if(!p(w))throw w}}}function s(f){return f&&function(c,m,g){typeof m=="function"&&(g=m,m=null);function w(A,S){S&&(S.uid<0&&(S.uid+=4294967296),S.gid<0&&(S.gid+=4294967296)),g&&g.apply(this,arguments)}return m?f.call(e,c,m,w):f.call(e,c,w)}}function l(f){return f&&function(c,m){var g=m?f.call(e,c,m):f.call(e,c);return g&&(g.uid<0&&(g.uid+=4294967296),g.gid<0&&(g.gid+=4294967296)),g}}function p(f){if(!f||f.code==="ENOSYS")return!0;var c=!process.getuid||process.getuid()!==0;return!!(c&&(f.code==="EINVAL"||f.code==="EPERM"))}}var Go=$n.default.Stream,Pd=xd;function xd(e){return{ReadStream:t,WriteStream:n};function t(r,i){if(!(this instanceof t))return new t(r,i);Go.call(this);var a=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),s=0,l=o.length;s<l;s++){var p=o[s];this[p]=i[p]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){a._read()});return}e.open(this.path,this.flags,this.mode,function(f,c){if(f){a.emit("error",f),a.readable=!1;return}a.fd=c,a.emit("open",c),a._read()})}function n(r,i){if(!(this instanceof n))return new n(r,i);Go.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var a=Object.keys(i),o=0,s=a.length;o<s;o++){var l=a[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var Fd=Ud,Ld=Object.getPrototypeOf||function(e){return e.__proto__};function Ud(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:Ld(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}var oe=Ze.default,kd=Rd,Md=Pd,Bd=Fd,Pr=Oo.default,me,xr;typeof Symbol=="function"&&typeof Symbol.for=="function"?(me=Symbol.for("graceful-fs.queue"),xr=Symbol.for("graceful-fs.previous")):(me="___graceful-fs.queue",xr="___graceful-fs.previous");function qd(){}function Vo(e,t){Object.defineProperty(e,me,{get:function(){return t}})}var Nt=qd;Pr.debuglog?Nt=Pr.debuglog("gfs4"):/\bgfs4\b/i.test("")&&(Nt=function(){var e=Pr.format.apply(Pr,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!oe[me]){var Hd=Be[me]||[];Vo(oe,Hd),oe.close=function(e){function t(n,r){return e.call(oe,n,function(i){i||Wo(),typeof r=="function"&&r.apply(this,arguments)})}return Object.defineProperty(t,xr,{value:e}),t}(oe.close),oe.closeSync=function(e){function t(n){e.apply(oe,arguments),Wo()}return Object.defineProperty(t,xr,{value:e}),t}(oe.closeSync),/\bgfs4\b/i.test("")&&process.on("exit",function(){Nt(oe[me]),Io.default.equal(oe[me].length,0)})}Be[me]||Vo(Be,oe[me]);var xe=Yo(Bd(oe));function Yo(e){kd(e),e.gracefulify=Yo,e.createReadStream=D,e.createWriteStream=le;var t=e.readFile;e.readFile=n;function n(O,y,x){return typeof y=="function"&&(x=y,y=null),G(O,y,x);function G(N,V,W,Z){return t(N,V,function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?zt([G,[N,V,W],B,Z||Date.now(),Date.now()]):typeof W=="function"&&W.apply(this,arguments)})}}var r=e.writeFile;e.writeFile=i;function i(O,y,x,G){return typeof x=="function"&&(G=x,x=null),N(O,y,x,G);function N(V,W,Z,B,R){return r(V,W,Z,function(X){X&&(X.code==="EMFILE"||X.code==="ENFILE")?zt([N,[V,W,Z,B],X,R||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var a=e.appendFile;a&&(e.appendFile=o);function o(O,y,x,G){return typeof x=="function"&&(G=x,x=null),N(O,y,x,G);function N(V,W,Z,B,R){return a(V,W,Z,function(X){X&&(X.code==="EMFILE"||X.code==="ENFILE")?zt([N,[V,W,Z,B],X,R||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var s=e.copyFile;s&&(e.copyFile=l);function l(O,y,x,G){return typeof x=="function"&&(G=x,x=0),N(O,y,x,G);function N(V,W,Z,B,R){return s(V,W,Z,function(X){X&&(X.code==="EMFILE"||X.code==="ENFILE")?zt([N,[V,W,Z,B],X,R||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var p=e.readdir;e.readdir=f;function f(O,y,x){return typeof y=="function"&&(x=y,y=null),G(O,y,x);function G(N,V,W,Z){return p(N,V,function(B,R){B&&(B.code==="EMFILE"||B.code==="ENFILE")?zt([G,[N,V,W],B,Z||Date.now(),Date.now()]):(R&&R.sort&&R.sort(),typeof W=="function"&&W.call(this,B,R))})}}if(process.version.substr(0,4)==="v0.8"){var c=Md(e);S=c.ReadStream,$=c.WriteStream}var m=e.ReadStream;m&&(S.prototype=Object.create(m.prototype),S.prototype.open=C);var g=e.WriteStream;g&&($.prototype=Object.create(g.prototype),$.prototype.open=Q),Object.defineProperty(e,"ReadStream",{get:function(){return S},set:function(O){S=O},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return $},set:function(O){$=O},enumerable:!0,configurable:!0});var w=S;Object.defineProperty(e,"FileReadStream",{get:function(){return w},set:function(O){w=O},enumerable:!0,configurable:!0});var A=$;Object.defineProperty(e,"FileWriteStream",{get:function(){return A},set:function(O){A=O},enumerable:!0,configurable:!0});function S(O,y){return this instanceof S?(m.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function C(){var O=this;M(O.path,O.flags,O.mode,function(y,x){y?(O.autoClose&&O.destroy(),O.emit("error",y)):(O.fd=x,O.emit("open",x),O.read())})}function $(O,y){return this instanceof $?(g.apply(this,arguments),this):$.apply(Object.create($.prototype),arguments)}function Q(){var O=this;M(O.path,O.flags,O.mode,function(y,x){y?(O.destroy(),O.emit("error",y)):(O.fd=x,O.emit("open",x))})}function D(O,y){return new e.ReadStream(O,y)}function le(O,y){return new e.WriteStream(O,y)}var j=e.open;e.open=M;function M(O,y,x,G){return typeof x=="function"&&(G=x,x=null),N(O,y,x,G);function N(V,W,Z,B,R){return j(V,W,Z,function(X,Bt){X&&(X.code==="EMFILE"||X.code==="ENFILE")?zt([N,[V,W,Z,B],X,R||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}return e}function zt(e){Nt("ENQUEUE",e[0].name,e[1]),oe[me].push(e),Yi()}var Fr;function Wo(){for(var e=Date.now(),t=0;t<oe[me].length;++t)oe[me][t].length>2&&(oe[me][t][3]=e,oe[me][t][4]=e);Yi()}function Yi(){if(clearTimeout(Fr),Fr=void 0,oe[me].length!==0){var e=oe[me].shift(),t=e[0],n=e[1],r=e[2],i=e[3],a=e[4];if(i===void 0)Nt("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-i>=6e4){Nt("TIMEOUT",t.name,n);var o=n.pop();typeof o=="function"&&o.call(null,r)}else{var s=Date.now()-a,l=Math.max(a-i,1),p=Math.min(l*1.2,100);s>=p?(Nt("RETRY",t.name,n),t.apply(null,n.concat([i]))):oe[me].push(e)}Fr===void 0&&(Fr=setTimeout(Yi,0))}}(function(e){const t=Se.fromCallback,n=xe,r=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof n[i]=="function");Object.assign(e,n),r.forEach(i=>{e[i]=t(n[i])}),e.realpath.native=t(n.realpath.native),e.exists=function(i,a){return typeof a=="function"?n.exists(i,a):new Promise(o=>n.exists(i,o))},e.read=function(i,a,o,s,l,p){return typeof p=="function"?n.read(i,a,o,s,l,p):new Promise((f,c)=>{n.read(i,a,o,s,l,(m,g,w)=>{if(m)return c(m);f({bytesRead:g,buffer:w})})})},e.write=function(i,a,...o){return typeof o[o.length-1]=="function"?n.write(i,a,...o):new Promise((s,l)=>{n.write(i,a,...o,(p,f,c)=>{if(p)return l(p);s({bytesWritten:f,buffer:c})})})},typeof n.writev=="function"&&(e.writev=function(i,a,...o){return typeof o[o.length-1]=="function"?n.writev(i,a,...o):new Promise((s,l)=>{n.writev(i,a,...o,(p,f,c)=>{if(p)return l(p);s({bytesWritten:f,buffers:c})})})})})(It);var Wi={},Xo={};const jd=re.default;Xo.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(jd.parse(t).root,""))){const r=new Error(`Path contains invalid characters: ${t}`);throw r.code="EINVAL",r}};const zo=It,{checkPath:Ko}=Xo,Jo=e=>{const t={mode:511};return typeof e=="number"?e:F(F({},t),e).mode};Wi.makeDir=async(e,t)=>(Ko(e),zo.mkdir(e,{mode:Jo(t),recursive:!0}));Wi.makeDirSync=(e,t)=>(Ko(e),zo.mkdirSync(e,{mode:Jo(t),recursive:!0}));const Gd=Se.fromPromise,{makeDir:Vd,makeDirSync:Xi}=Wi,zi=Gd(Vd);var Xe={mkdirs:zi,mkdirsSync:Xi,mkdirp:zi,mkdirpSync:Xi,ensureDir:zi,ensureDirSync:Xi};const Kt=xe;function Yd(e,t,n,r){Kt.open(e,"r+",(i,a)=>{if(i)return r(i);Kt.futimes(a,t,n,o=>{Kt.close(a,s=>{r&&r(o||s)})})})}function Wd(e,t,n){const r=Kt.openSync(e,"r+");return Kt.futimesSync(r,t,n),Kt.closeSync(r)}var Qo={utimesMillis:Yd,utimesMillisSync:Wd};const Jt=It,fe=re.default,Xd=Oo.default;function zd(e,t,n){const r=n.dereference?i=>Jt.stat(i,{bigint:!0}):i=>Jt.lstat(i,{bigint:!0});return Promise.all([r(e),r(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,a])=>({srcStat:i,destStat:a}))}function Kd(e,t,n){let r;const i=n.dereference?o=>Jt.statSync(o,{bigint:!0}):o=>Jt.lstatSync(o,{bigint:!0}),a=i(e);try{r=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:a,destStat:null};throw o}return{srcStat:a,destStat:r}}function Jd(e,t,n,r,i){Xd.callbackify(zd)(e,t,r,(a,o)=>{if(a)return i(a);const{srcStat:s,destStat:l}=o;if(l){if(Nn(s,l)){const p=fe.basename(e),f=fe.basename(t);return n==="move"&&p!==f&&p.toLowerCase()===f.toLowerCase()?i(null,{srcStat:s,destStat:l,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!l.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!s.isDirectory()&&l.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return s.isDirectory()&&Ki(e,t)?i(new Error(Lr(e,t,n))):i(null,{srcStat:s,destStat:l})})}function Qd(e,t,n,r){const{srcStat:i,destStat:a}=Kd(e,t,r);if(a){if(Nn(i,a)){const o=fe.basename(e),s=fe.basename(t);if(n==="move"&&o!==s&&o.toLowerCase()===s.toLowerCase())return{srcStat:i,destStat:a,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!a.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&a.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Ki(e,t))throw new Error(Lr(e,t,n));return{srcStat:i,destStat:a}}function Zo(e,t,n,r,i){const a=fe.resolve(fe.dirname(e)),o=fe.resolve(fe.dirname(n));if(o===a||o===fe.parse(o).root)return i();Jt.stat(o,{bigint:!0},(s,l)=>s?s.code==="ENOENT"?i():i(s):Nn(t,l)?i(new Error(Lr(e,n,r))):Zo(e,t,o,r,i))}function es(e,t,n,r){const i=fe.resolve(fe.dirname(e)),a=fe.resolve(fe.dirname(n));if(a===i||a===fe.parse(a).root)return;let o;try{o=Jt.statSync(a,{bigint:!0})}catch(s){if(s.code==="ENOENT")return;throw s}if(Nn(t,o))throw new Error(Lr(e,n,r));return es(e,t,a,r)}function Nn(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Ki(e,t){const n=fe.resolve(e).split(fe.sep).filter(i=>i),r=fe.resolve(t).split(fe.sep).filter(i=>i);return n.reduce((i,a,o)=>i&&r[o]===a,!0)}function Lr(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}var Qt={checkPaths:Jd,checkPathsSync:Qd,checkParentPaths:Zo,checkParentPathsSync:es,isSrcSubdir:Ki,areIdentical:Nn};const _e=xe,Rn=re.default,Zd=Xe.mkdirsSync,eh=Qo.utimesMillisSync,Dn=Qt;function th(e,t,n){typeof n=="function"&&(n={filter:n}),n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);const{srcStat:r,destStat:i}=Dn.checkPathsSync(e,t,"copy",n);return Dn.checkParentPathsSync(e,r,t,"copy"),nh(i,e,t,n)}function nh(e,t,n,r){if(r.filter&&!r.filter(t,n))return;const i=Rn.dirname(n);return _e.existsSync(i)||Zd(i),ts(e,t,n,r)}function rh(e,t,n,r){if(!(r.filter&&!r.filter(t,n)))return ts(e,t,n,r)}function ts(e,t,n,r){const a=(r.dereference?_e.statSync:_e.lstatSync)(t);if(a.isDirectory())return ch(a,e,t,n,r);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return ih(a,e,t,n,r);if(a.isSymbolicLink())return hh(e,t,n,r);throw a.isSocket()?new Error(`Cannot copy a socket file: ${t}`):a.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function ih(e,t,n,r,i){return t?ah(e,n,r,i):ns(e,n,r,i)}function ah(e,t,n,r){if(r.overwrite)return _e.unlinkSync(n),ns(e,t,n,r);if(r.errorOnExist)throw new Error(`'${n}' already exists`)}function ns(e,t,n,r){return _e.copyFileSync(t,n),r.preserveTimestamps&&oh(e.mode,t,n),Ji(n,e.mode)}function oh(e,t,n){return sh(e)&&lh(n,e),uh(t,n)}function sh(e){return(e&128)==0}function lh(e,t){return Ji(e,t|128)}function Ji(e,t){return _e.chmodSync(e,t)}function uh(e,t){const n=_e.statSync(e);return eh(t,n.atime,n.mtime)}function ch(e,t,n,r,i){return t?rs(n,r,i):fh(e.mode,n,r,i)}function fh(e,t,n,r){return _e.mkdirSync(n),rs(t,n,r),Ji(n,e)}function rs(e,t,n){_e.readdirSync(e).forEach(r=>dh(r,e,t,n))}function dh(e,t,n,r){const i=Rn.join(t,e),a=Rn.join(n,e),{destStat:o}=Dn.checkPathsSync(i,a,"copy",r);return rh(o,i,a,r)}function hh(e,t,n,r){let i=_e.readlinkSync(t);if(r.dereference&&(i=Rn.resolve(process.cwd(),i)),e){let a;try{a=_e.readlinkSync(n)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return _e.symlinkSync(i,n);throw o}if(r.dereference&&(a=Rn.resolve(process.cwd(),a)),Dn.isSrcSubdir(i,a))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${a}'.`);if(_e.statSync(n).isDirectory()&&Dn.isSrcSubdir(a,i))throw new Error(`Cannot overwrite '${a}' with '${i}'.`);return ph(i,n)}else return _e.symlinkSync(i,n)}function ph(e,t){return _e.unlinkSync(t),_e.symlinkSync(e,t)}var mh=th,is={copySync:mh};const gh=Se.fromPromise,as=It;function yh(e){return as.access(e).then(()=>!0).catch(()=>!1)}var Rt={pathExists:gh(yh),pathExistsSync:as.existsSync};const Ne=xe,Pn=re.default,Eh=Xe.mkdirs,vh=Rt.pathExists,wh=Qo.utimesMillis,xn=Qt;function _h(e,t,n,r){typeof n=="function"&&!r?(r=n,n={}):typeof n=="function"&&(n={filter:n}),r=r||function(){},n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),xn.checkPaths(e,t,"copy",n,(i,a)=>{if(i)return r(i);const{srcStat:o,destStat:s}=a;xn.checkParentPaths(e,o,t,"copy",l=>l?r(l):n.filter?ss(os,s,e,t,n,r):os(s,e,t,n,r))})}function os(e,t,n,r,i){const a=Pn.dirname(n);vh(a,(o,s)=>{if(o)return i(o);if(s)return Ur(e,t,n,r,i);Eh(a,l=>l?i(l):Ur(e,t,n,r,i))})}function ss(e,t,n,r,i,a){Promise.resolve(i.filter(n,r)).then(o=>o?e(t,n,r,i,a):a(),o=>a(o))}function Th(e,t,n,r,i){return r.filter?ss(Ur,e,t,n,r,i):Ur(e,t,n,r,i)}function Ur(e,t,n,r,i){(r.dereference?Ne.stat:Ne.lstat)(t,(o,s)=>o?i(o):s.isDirectory()?Ih(s,e,t,n,r,i):s.isFile()||s.isCharacterDevice()||s.isBlockDevice()?Ah(s,e,t,n,r,i):s.isSymbolicLink()?Dh(e,t,n,r,i):s.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):s.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function Ah(e,t,n,r,i,a){return t?Sh(e,n,r,i,a):ls(e,n,r,i,a)}function Sh(e,t,n,r,i){if(r.overwrite)Ne.unlink(n,a=>a?i(a):ls(e,t,n,r,i));else return r.errorOnExist?i(new Error(`'${n}' already exists`)):i()}function ls(e,t,n,r,i){Ne.copyFile(t,n,a=>a?i(a):r.preserveTimestamps?$h(e.mode,t,n,i):kr(n,e.mode,i))}function $h(e,t,n,r){return Ch(e)?bh(n,e,i=>i?r(i):us(e,t,n,r)):us(e,t,n,r)}function Ch(e){return(e&128)==0}function bh(e,t,n){return kr(e,t|128,n)}function us(e,t,n,r){Oh(t,n,i=>i?r(i):kr(n,e,r))}function kr(e,t,n){return Ne.chmod(e,t,n)}function Oh(e,t,n){Ne.stat(e,(r,i)=>r?n(r):wh(t,i.atime,i.mtime,n))}function Ih(e,t,n,r,i,a){return t?cs(n,r,i,a):Nh(e.mode,n,r,i,a)}function Nh(e,t,n,r,i){Ne.mkdir(n,a=>{if(a)return i(a);cs(t,n,r,o=>o?i(o):kr(n,e,i))})}function cs(e,t,n,r){Ne.readdir(e,(i,a)=>i?r(i):fs(a,e,t,n,r))}function fs(e,t,n,r,i){const a=e.pop();return a?Rh(e,a,t,n,r,i):i()}function Rh(e,t,n,r,i,a){const o=Pn.join(n,t),s=Pn.join(r,t);xn.checkPaths(o,s,"copy",i,(l,p)=>{if(l)return a(l);const{destStat:f}=p;Th(f,o,s,i,c=>c?a(c):fs(e,n,r,i,a))})}function Dh(e,t,n,r,i){Ne.readlink(t,(a,o)=>{if(a)return i(a);if(r.dereference&&(o=Pn.resolve(process.cwd(),o)),e)Ne.readlink(n,(s,l)=>s?s.code==="EINVAL"||s.code==="UNKNOWN"?Ne.symlink(o,n,i):i(s):(r.dereference&&(l=Pn.resolve(process.cwd(),l)),xn.isSrcSubdir(o,l)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${l}'.`)):e.isDirectory()&&xn.isSrcSubdir(l,o)?i(new Error(`Cannot overwrite '${l}' with '${o}'.`)):Ph(o,n,i)));else return Ne.symlink(o,n,i)})}function Ph(e,t,n){Ne.unlink(t,r=>r?n(r):Ne.symlink(e,t,n))}var xh=_h;const Fh=Se.fromCallback;var ds={copy:Fh(xh)};const hs=xe,ps=re.default,H=Io.default,Fn=process.platform==="win32";function ms(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(n=>{e[n]=e[n]||hs[n],n=n+"Sync",e[n]=e[n]||hs[n]}),e.maxBusyTries=e.maxBusyTries||3}function Qi(e,t,n){let r=0;typeof t=="function"&&(n=t,t={}),H(e,"rimraf: missing path"),H.strictEqual(typeof e,"string","rimraf: path should be a string"),H.strictEqual(typeof n,"function","rimraf: callback function required"),H(t,"rimraf: invalid options argument provided"),H.strictEqual(typeof t,"object","rimraf: options should be object"),ms(t),gs(e,t,function i(a){if(a){if((a.code==="EBUSY"||a.code==="ENOTEMPTY"||a.code==="EPERM")&&r<t.maxBusyTries){r++;const o=r*100;return setTimeout(()=>gs(e,t,i),o)}a.code==="ENOENT"&&(a=null)}n(a)})}function gs(e,t,n){H(e),H(t),H(typeof n=="function"),t.lstat(e,(r,i)=>{if(r&&r.code==="ENOENT")return n(null);if(r&&r.code==="EPERM"&&Fn)return ys(e,t,r,n);if(i&&i.isDirectory())return Mr(e,t,r,n);t.unlink(e,a=>{if(a){if(a.code==="ENOENT")return n(null);if(a.code==="EPERM")return Fn?ys(e,t,a,n):Mr(e,t,a,n);if(a.code==="EISDIR")return Mr(e,t,a,n)}return n(a)})})}function ys(e,t,n,r){H(e),H(t),H(typeof r=="function"),t.chmod(e,438,i=>{i?r(i.code==="ENOENT"?null:n):t.stat(e,(a,o)=>{a?r(a.code==="ENOENT"?null:n):o.isDirectory()?Mr(e,t,n,r):t.unlink(e,r)})})}function Es(e,t,n){let r;H(e),H(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw n}try{r=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw n}r.isDirectory()?Br(e,t,n):t.unlinkSync(e)}function Mr(e,t,n,r){H(e),H(t),H(typeof r=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Lh(e,t,r):i&&i.code==="ENOTDIR"?r(n):r(i)})}function Lh(e,t,n){H(e),H(t),H(typeof n=="function"),t.readdir(e,(r,i)=>{if(r)return n(r);let a=i.length,o;if(a===0)return t.rmdir(e,n);i.forEach(s=>{Qi(ps.join(e,s),t,l=>{if(!o){if(l)return n(o=l);--a==0&&t.rmdir(e,n)}})})})}function vs(e,t){let n;t=t||{},ms(t),H(e,"rimraf: missing path"),H.strictEqual(typeof e,"string","rimraf: path should be a string"),H(t,"rimraf: missing options"),H.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(r){if(r.code==="ENOENT")return;r.code==="EPERM"&&Fn&&Es(e,t,r)}try{n&&n.isDirectory()?Br(e,t,null):t.unlinkSync(e)}catch(r){if(r.code==="ENOENT")return;if(r.code==="EPERM")return Fn?Es(e,t,r):Br(e,t,r);if(r.code!=="EISDIR")throw r;Br(e,t,r)}}function Br(e,t,n){H(e),H(t);try{t.rmdirSync(e)}catch(r){if(r.code==="ENOTDIR")throw n;if(r.code==="ENOTEMPTY"||r.code==="EEXIST"||r.code==="EPERM")Uh(e,t);else if(r.code!=="ENOENT")throw r}}function Uh(e,t){if(H(e),H(t),t.readdirSync(e).forEach(n=>vs(ps.join(e,n),t)),Fn){const n=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-n<500)}else return t.rmdirSync(e,t)}var kh=Qi;Qi.sync=vs;const qr=xe,Mh=Se.fromCallback,ws=kh;function Bh(e,t){if(qr.rm)return qr.rm(e,{recursive:!0,force:!0},t);ws(e,t)}function qh(e){if(qr.rmSync)return qr.rmSync(e,{recursive:!0,force:!0});ws.sync(e)}var Hr={remove:Mh(Bh),removeSync:qh};const Hh=Se.fromPromise,_s=It,Ts=re.default,As=Xe,Ss=Hr,$s=Hh(async function(t){let n;try{n=await _s.readdir(t)}catch{return As.mkdirs(t)}return Promise.all(n.map(r=>Ss.remove(Ts.join(t,r))))});function Cs(e){let t;try{t=_s.readdirSync(e)}catch{return As.mkdirsSync(e)}t.forEach(n=>{n=Ts.join(e,n),Ss.removeSync(n)})}var jh={emptyDirSync:Cs,emptydirSync:Cs,emptyDir:$s,emptydir:$s};const Gh=Se.fromCallback,bs=re.default,ft=xe,Os=Xe;function Vh(e,t){function n(){ft.writeFile(e,"",r=>{if(r)return t(r);t()})}ft.stat(e,(r,i)=>{if(!r&&i.isFile())return t();const a=bs.dirname(e);ft.stat(a,(o,s)=>{if(o)return o.code==="ENOENT"?Os.mkdirs(a,l=>{if(l)return t(l);n()}):t(o);s.isDirectory()?n():ft.readdir(a,l=>{if(l)return t(l)})})})}function Yh(e){let t;try{t=ft.statSync(e)}catch{}if(t&&t.isFile())return;const n=bs.dirname(e);try{ft.statSync(n).isDirectory()||ft.readdirSync(n)}catch(r){if(r&&r.code==="ENOENT")Os.mkdirsSync(n);else throw r}ft.writeFileSync(e,"")}var Wh={createFile:Gh(Vh),createFileSync:Yh};const Xh=Se.fromCallback,Is=re.default,dt=xe,Ns=Xe,zh=Rt.pathExists,{areIdentical:Rs}=Qt;function Kh(e,t,n){function r(i,a){dt.link(i,a,o=>{if(o)return n(o);n(null)})}dt.lstat(t,(i,a)=>{dt.lstat(e,(o,s)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);if(a&&Rs(s,a))return n(null);const l=Is.dirname(t);zh(l,(p,f)=>{if(p)return n(p);if(f)return r(e,t);Ns.mkdirs(l,c=>{if(c)return n(c);r(e,t)})})})})}function Jh(e,t){let n;try{n=dt.lstatSync(t)}catch{}try{const a=dt.lstatSync(e);if(n&&Rs(a,n))return}catch(a){throw a.message=a.message.replace("lstat","ensureLink"),a}const r=Is.dirname(t);return dt.existsSync(r)||Ns.mkdirsSync(r),dt.linkSync(e,t)}var Qh={createLink:Xh(Kh),createLinkSync:Jh};const ht=re.default,Ln=xe,Zh=Rt.pathExists;function ep(e,t,n){if(ht.isAbsolute(e))return Ln.lstat(e,r=>r?(r.message=r.message.replace("lstat","ensureSymlink"),n(r)):n(null,{toCwd:e,toDst:e}));{const r=ht.dirname(t),i=ht.join(r,e);return Zh(i,(a,o)=>a?n(a):o?n(null,{toCwd:i,toDst:e}):Ln.lstat(e,s=>s?(s.message=s.message.replace("lstat","ensureSymlink"),n(s)):n(null,{toCwd:e,toDst:ht.relative(r,e)})))}}function tp(e,t){let n;if(ht.isAbsolute(e)){if(n=Ln.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const r=ht.dirname(t),i=ht.join(r,e);if(n=Ln.existsSync(i),n)return{toCwd:i,toDst:e};if(n=Ln.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:ht.relative(r,e)}}}var np={symlinkPaths:ep,symlinkPathsSync:tp};const Ds=xe;function rp(e,t,n){if(n=typeof t=="function"?t:n,t=typeof t=="function"?!1:t,t)return n(null,t);Ds.lstat(e,(r,i)=>{if(r)return n(null,"file");t=i&&i.isDirectory()?"dir":"file",n(null,t)})}function ip(e,t){let n;if(t)return t;try{n=Ds.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}var ap={symlinkType:rp,symlinkTypeSync:ip};const op=Se.fromCallback,Ps=re.default,qe=It,xs=Xe,sp=xs.mkdirs,lp=xs.mkdirsSync,Fs=np,up=Fs.symlinkPaths,cp=Fs.symlinkPathsSync,Ls=ap,fp=Ls.symlinkType,dp=Ls.symlinkTypeSync,hp=Rt.pathExists,{areIdentical:Us}=Qt;function pp(e,t,n,r){r=typeof n=="function"?n:r,n=typeof n=="function"?!1:n,qe.lstat(t,(i,a)=>{!i&&a.isSymbolicLink()?Promise.all([qe.stat(e),qe.stat(t)]).then(([o,s])=>{if(Us(o,s))return r(null);ks(e,t,n,r)}):ks(e,t,n,r)})}function ks(e,t,n,r){up(e,t,(i,a)=>{if(i)return r(i);e=a.toDst,fp(a.toCwd,n,(o,s)=>{if(o)return r(o);const l=Ps.dirname(t);hp(l,(p,f)=>{if(p)return r(p);if(f)return qe.symlink(e,t,s,r);sp(l,c=>{if(c)return r(c);qe.symlink(e,t,s,r)})})})})}function mp(e,t,n){let r;try{r=qe.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){const s=qe.statSync(e),l=qe.statSync(t);if(Us(s,l))return}const i=cp(e,t);e=i.toDst,n=dp(i.toCwd,n);const a=Ps.dirname(t);return qe.existsSync(a)||lp(a),qe.symlinkSync(e,t,n)}var gp={createSymlink:op(pp),createSymlinkSync:mp};const jr=Wh,Gr=Qh,Vr=gp;var yp={createFile:jr.createFile,createFileSync:jr.createFileSync,ensureFile:jr.createFile,ensureFileSync:jr.createFileSync,createLink:Gr.createLink,createLinkSync:Gr.createLinkSync,ensureLink:Gr.createLink,ensureLinkSync:Gr.createLinkSync,createSymlink:Vr.createSymlink,createSymlinkSync:Vr.createSymlinkSync,ensureSymlink:Vr.createSymlink,ensureSymlinkSync:Vr.createSymlinkSync};function Ep(e,{EOL:t=`
`,finalEOL:n=!0,replacer:r=null,spaces:i}={}){const a=n?t:"";return JSON.stringify(e,r,i).replace(/\n/g,t)+a}function vp(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var Zi={stringify:Ep,stripBom:vp};let Zt;try{Zt=require("graceful-fs")}catch{Zt=Ze.default}const Yr=Se,{stringify:Ms,stripBom:Bs}=Zi;async function wp(e,t={}){typeof t=="string"&&(t={encoding:t});const n=t.fs||Zt,r="throws"in t?t.throws:!0;let i=await Yr.fromCallback(n.readFile)(e,t);i=Bs(i);let a;try{a=JSON.parse(i,t?t.reviver:null)}catch(o){if(r)throw o.message=`${e}: ${o.message}`,o;return null}return a}const _p=Yr.fromPromise(wp);function Tp(e,t={}){typeof t=="string"&&(t={encoding:t});const n=t.fs||Zt,r="throws"in t?t.throws:!0;try{let i=n.readFileSync(e,t);return i=Bs(i),JSON.parse(i,t.reviver)}catch(i){if(r)throw i.message=`${e}: ${i.message}`,i;return null}}async function Ap(e,t,n={}){const r=n.fs||Zt,i=Ms(t,n);await Yr.fromCallback(r.writeFile)(e,i,n)}const Sp=Yr.fromPromise(Ap);function $p(e,t,n={}){const r=n.fs||Zt,i=Ms(t,n);return r.writeFileSync(e,i,n)}const Cp={readFile:_p,readFileSync:Tp,writeFile:Sp,writeFileSync:$p};var bp=Cp;const Wr=bp;var Op={readJson:Wr.readFile,readJsonSync:Wr.readFileSync,writeJson:Wr.writeFile,writeJsonSync:Wr.writeFileSync};const Ip=Se.fromCallback,Un=xe,qs=re.default,Hs=Xe,Np=Rt.pathExists;function Rp(e,t,n,r){typeof n=="function"&&(r=n,n="utf8");const i=qs.dirname(e);Np(i,(a,o)=>{if(a)return r(a);if(o)return Un.writeFile(e,t,n,r);Hs.mkdirs(i,s=>{if(s)return r(s);Un.writeFile(e,t,n,r)})})}function Dp(e,...t){const n=qs.dirname(e);if(Un.existsSync(n))return Un.writeFileSync(e,...t);Hs.mkdirsSync(n),Un.writeFileSync(e,...t)}var ea={outputFile:Ip(Rp),outputFileSync:Dp};const{stringify:Pp}=Zi,{outputFile:xp}=ea;async function Fp(e,t,n={}){const r=Pp(t,n);await xp(e,r,n)}var Lp=Fp;const{stringify:Up}=Zi,{outputFileSync:kp}=ea;function Mp(e,t,n){const r=Up(t,n);kp(e,r,n)}var Bp=Mp;const qp=Se.fromPromise,$e=Op;$e.outputJson=qp(Lp);$e.outputJsonSync=Bp;$e.outputJSON=$e.outputJson;$e.outputJSONSync=$e.outputJsonSync;$e.writeJSON=$e.writeJson;$e.writeJSONSync=$e.writeJsonSync;$e.readJSON=$e.readJson;$e.readJSONSync=$e.readJsonSync;var Hp=$e;const js=xe,ta=re.default,jp=is.copySync,Gs=Hr.removeSync,Gp=Xe.mkdirpSync,Vs=Qt;function Vp(e,t,n){n=n||{};const r=n.overwrite||n.clobber||!1,{srcStat:i,isChangingCase:a=!1}=Vs.checkPathsSync(e,t,"move",n);return Vs.checkParentPathsSync(e,i,t,"move"),Yp(t)||Gp(ta.dirname(t)),Wp(e,t,r,a)}function Yp(e){const t=ta.dirname(e);return ta.parse(t).root===t}function Wp(e,t,n,r){if(r)return na(e,t,n);if(n)return Gs(t),na(e,t,n);if(js.existsSync(t))throw new Error("dest already exists.");return na(e,t,n)}function na(e,t,n){try{js.renameSync(e,t)}catch(r){if(r.code!=="EXDEV")throw r;return Xp(e,t,n)}}function Xp(e,t,n){return jp(e,t,{overwrite:n,errorOnExist:!0}),Gs(e)}var zp=Vp,Kp={moveSync:zp};const Jp=xe,ra=re.default,Qp=ds.copy,Ys=Hr.remove,Zp=Xe.mkdirp,em=Rt.pathExists,Ws=Qt;function tm(e,t,n,r){typeof n=="function"&&(r=n,n={});const i=n.overwrite||n.clobber||!1;Ws.checkPaths(e,t,"move",n,(a,o)=>{if(a)return r(a);const{srcStat:s,isChangingCase:l=!1}=o;Ws.checkParentPaths(e,s,t,"move",p=>{if(p)return r(p);if(nm(t))return Xs(e,t,i,l,r);Zp(ra.dirname(t),f=>f?r(f):Xs(e,t,i,l,r))})})}function nm(e){const t=ra.dirname(e);return ra.parse(t).root===t}function Xs(e,t,n,r,i){if(r)return ia(e,t,n,i);if(n)return Ys(t,a=>a?i(a):ia(e,t,n,i));em(t,(a,o)=>a?i(a):o?i(new Error("dest already exists.")):ia(e,t,n,i))}function ia(e,t,n,r){Jp.rename(e,t,i=>i?i.code!=="EXDEV"?r(i):rm(e,t,n,r):r())}function rm(e,t,n,r){Qp(e,t,{overwrite:n,errorOnExist:!0},a=>a?r(a):Ys(e,r))}var im=tm;const am=Se.fromCallback;var om={move:am(im)},Dt=F(F(F(F(F(F(F(F(F(F(F(F({},It),is),ds),jh),yp),Hp),Xe),Kp),om),ea),Rt),Hr),ge={},aa={},He={};function zs(e){return typeof e=="undefined"||e===null}function sm(e){return typeof e=="object"&&e!==null}function lm(e){return Array.isArray(e)?e:zs(e)?[]:[e]}function um(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;n<r;n+=1)i=a[n],e[i]=t[i];return e}function cm(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function fm(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}He.isNothing=zs;He.isObject=sm;He.toArray=lm;He.repeat=cm;He.isNegativeZero=fm;He.extend=um;function Ks(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function kn(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Ks(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}kn.prototype=Object.create(Error.prototype);kn.prototype.constructor=kn;kn.prototype.toString=function(t){return this.name+": "+Ks(this,t)};var Mn=kn,Bn=He;function oa(e,t,n,r,i){var a="",o="",s=Math.floor(i/2)-1;return r-t>s&&(a=" ... ",t=r-s+a.length),n-r>s&&(o=" ...",n=r+s-o.length),{str:a+e.slice(t,n).replace(/\t/g,"\u2192")+o,pos:r-t+a.length}}function sa(e,t){return Bn.repeat(" ",t-e.length)+e}function dm(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],a,o=-1;a=n.exec(e.buffer);)i.push(a.index),r.push(a.index+a[0].length),e.position<=a.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var s="",l,p,f=Math.min(e.line+t.linesAfter,i.length).toString().length,c=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)p=oa(e.buffer,r[o-l],i[o-l],e.position-(r[o]-r[o-l]),c),s=Bn.repeat(" ",t.indent)+sa((e.line-l+1).toString(),f)+" | "+p.str+`
`+s;for(p=oa(e.buffer,r[o],i[o],e.position,c),s+=Bn.repeat(" ",t.indent)+sa((e.line+1).toString(),f)+" | "+p.str+`
`,s+=Bn.repeat("-",t.indent+f+3+p.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)p=oa(e.buffer,r[o+l],i[o+l],e.position-(r[o]-r[o+l]),c),s+=Bn.repeat(" ",t.indent)+sa((e.line+l+1).toString(),f)+" | "+p.str+`
`;return s.replace(/\n$/,"")}var hm=dm,Js=Mn,pm=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],mm=["scalar","sequence","mapping"];function gm(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function ym(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(pm.indexOf(n)===-1)throw new Js('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=gm(t.styleAliases||null),mm.indexOf(this.kind)===-1)throw new Js('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Ce=ym,qn=Mn,la=Ce;function Qs(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(a,o){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(i=o)}),n[i]=r}),n}function Em(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function ua(e){return this.extend(e)}ua.prototype.extend=function(t){var n=[],r=[];if(t instanceof la)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new qn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof la))throw new qn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new qn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new qn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof la))throw new qn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(ua.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=Qs(i,"implicit"),i.compiledExplicit=Qs(i,"explicit"),i.compiledTypeMap=Em(i.compiledImplicit,i.compiledExplicit),i};var Zs=ua,vm=Ce,el=new vm("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),wm=Ce,tl=new wm("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),_m=Ce,nl=new _m("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Tm=Zs,rl=new Tm({explicit:[el,tl,nl]}),Am=Ce;function Sm(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function $m(){return null}function Cm(e){return e===null}var il=new Am("tag:yaml.org,2002:null",{kind:"scalar",resolve:Sm,construct:$m,predicate:Cm,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),bm=Ce;function Om(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Im(e){return e==="true"||e==="True"||e==="TRUE"}function Nm(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var al=new bm("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Om,construct:Im,predicate:Nm,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),Rm=He,Dm=Ce;function Pm(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function xm(e){return 48<=e&&e<=55}function Fm(e){return 48<=e&&e<=57}function Lm(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!Pm(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!xm(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!Fm(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function Um(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function km(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!Rm.isNegativeZero(e)}var ol=new Dm("tag:yaml.org,2002:int",{kind:"scalar",resolve:Lm,construct:Um,predicate:km,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),sl=He,Mm=Ce,Bm=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function qm(e){return!(e===null||!Bm.test(e)||e[e.length-1]==="_")}function Hm(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var jm=/^[-+]?[0-9]+e/;function Gm(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(sl.isNegativeZero(e))return"-0.0";return n=e.toString(10),jm.test(n)?n.replace("e",".e"):n}function Vm(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||sl.isNegativeZero(e))}var ll=new Mm("tag:yaml.org,2002:float",{kind:"scalar",resolve:qm,construct:Hm,predicate:Vm,represent:Gm,defaultStyle:"lowercase"}),ul=rl.extend({implicit:[il,al,ol,ll]}),cl=ul,Ym=Ce,fl=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),dl=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Wm(e){return e===null?!1:fl.exec(e)!==null||dl.exec(e)!==null}function Xm(e){var t,n,r,i,a,o,s,l=0,p=null,f,c,m;if(t=fl.exec(e),t===null&&(t=dl.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],c=+(t[11]||0),p=(f*60+c)*6e4,t[9]==="-"&&(p=-p)),m=new Date(Date.UTC(n,r,i,a,o,s,l)),p&&m.setTime(m.getTime()-p),m}function zm(e){return e.toISOString()}var hl=new Ym("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Wm,construct:Xm,instanceOf:Date,represent:zm}),Km=Ce;function Jm(e){return e==="<<"||e===null}var pl=new Km("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Jm}),Qm=Ce,ca=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Zm(e){if(e===null)return!1;var t,n,r=0,i=e.length,a=ca;for(n=0;n<i;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8==0}function eg(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=ca,o=0,s=[];for(t=0;t<i;t++)t%4==0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|a.indexOf(r.charAt(t));return n=i%4*6,n===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):n===18?(s.push(o>>10&255),s.push(o>>2&255)):n===12&&s.push(o>>4&255),new Uint8Array(s)}function tg(e){var t="",n=0,r,i,a=e.length,o=ca;for(r=0;r<a;r++)r%3==0&&r&&(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]),n=(n<<8)+e[r];return i=a%3,i===0?(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]):i===2?(t+=o[n>>10&63],t+=o[n>>4&63],t+=o[n<<2&63],t+=o[64]):i===1&&(t+=o[n>>2&63],t+=o[n<<4&63],t+=o[64],t+=o[64]),t}function ng(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var ml=new Qm("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Zm,construct:eg,predicate:ng,represent:tg}),rg=Ce,ig=Object.prototype.hasOwnProperty,ag=Object.prototype.toString;function og(e){if(e===null)return!0;var t=[],n,r,i,a,o,s=e;for(n=0,r=s.length;n<r;n+=1){if(i=s[n],o=!1,ag.call(i)!=="[object Object]")return!1;for(a in i)if(ig.call(i,a))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function sg(e){return e!==null?e:[]}var gl=new rg("tag:yaml.org,2002:omap",{kind:"sequence",resolve:og,construct:sg}),lg=Ce,ug=Object.prototype.toString;function cg(e){if(e===null)return!0;var t,n,r,i,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1){if(r=o[t],ug.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;a[t]=[i[0],r[i[0]]]}return!0}function fg(e){if(e===null)return[];var t,n,r,i,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1)r=o[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}var yl=new lg("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:cg,construct:fg}),dg=Ce,hg=Object.prototype.hasOwnProperty;function pg(e){if(e===null)return!0;var t,n=e;for(t in n)if(hg.call(n,t)&&n[t]!==null)return!1;return!0}function mg(e){return e!==null?e:{}}var El=new dg("tag:yaml.org,2002:set",{kind:"mapping",resolve:pg,construct:mg}),fa=cl.extend({implicit:[hl,pl],explicit:[ml,gl,yl,El]}),Pt=He,vl=Mn,gg=hm,yg=fa,pt=Object.prototype.hasOwnProperty,Xr=1,wl=2,_l=3,zr=4,da=1,Eg=2,Tl=3,vg=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,wg=/[\x85\u2028\u2029]/,_g=/[,\[\]\{\}]/,Al=/^(?:!|!!|![a-z\-]+!)$/i,Sl=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function $l(e){return Object.prototype.toString.call(e)}function ze(e){return e===10||e===13}function xt(e){return e===9||e===32}function Re(e){return e===9||e===32||e===10||e===13}function en(e){return e===44||e===91||e===93||e===123||e===125}function Tg(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Ag(e){return e===120?2:e===117?4:e===85?8:0}function Sg(e){return 48<=e&&e<=57?e-48:-1}function Cl(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function $g(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var bl=new Array(256),Ol=new Array(256);for(var tn=0;tn<256;tn++)bl[tn]=Cl(tn)?1:0,Ol[tn]=Cl(tn);function Cg(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||yg,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Il(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=gg(n),new vl(t,n)}function I(e,t){throw Il(e,t)}function Kr(e,t){e.onWarning&&e.onWarning.call(null,Il(e,t))}var Nl={YAML:function(t,n,r){var i,a,o;t.version!==null&&I(t,"duplication of %YAML directive"),r.length!==1&&I(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&I(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),o=parseInt(i[2],10),a!==1&&I(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Kr(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,a;r.length!==2&&I(t,"TAG directive accepts exactly two arguments"),i=r[0],a=r[1],Al.test(i)||I(t,"ill-formed tag handle (first argument) of the TAG directive"),pt.call(t.tagMap,i)&&I(t,'there is a previously declared suffix for "'+i+'" tag handle'),Sl.test(a)||I(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{I(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function mt(e,t,n,r){var i,a,o,s;if(t<n){if(s=e.input.slice(t,n),r)for(i=0,a=s.length;i<a;i+=1)o=s.charCodeAt(i),o===9||32<=o&&o<=1114111||I(e,"expected valid JSON character");else vg.test(s)&&I(e,"the stream contains non-printable characters");e.result+=s}}function Rl(e,t,n,r){var i,a,o,s;for(Pt.isObject(n)||I(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,s=i.length;o<s;o+=1)a=i[o],pt.call(t,a)||(t[a]=n[a],r[a]=!0)}function nn(e,t,n,r,i,a,o,s,l){var p,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),p=0,f=i.length;p<f;p+=1)Array.isArray(i[p])&&I(e,"nested arrays are not supported inside keys"),typeof i=="object"&&$l(i[p])==="[object Object]"&&(i[p]="[object Object]");if(typeof i=="object"&&$l(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(p=0,f=a.length;p<f;p+=1)Rl(e,t,a[p],n);else Rl(e,t,a,n);else!e.json&&!pt.call(n,i)&&pt.call(t,i)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,I(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete n[i];return t}function ha(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):I(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function se(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;xt(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(ze(i))for(ha(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&Kr(e,"deficient indentation"),r}function Jr(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Re(n)))}function pa(e,t){t===1?e.result+=" ":t>1&&(e.result+=Pt.repeat(`
`,t-1))}function bg(e,t,n){var r,i,a,o,s,l,p,f,c=e.kind,m=e.result,g;if(g=e.input.charCodeAt(e.position),Re(g)||en(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(i=e.input.charCodeAt(e.position+1),Re(i)||n&&en(i)))return!1;for(e.kind="scalar",e.result="",a=o=e.position,s=!1;g!==0;){if(g===58){if(i=e.input.charCodeAt(e.position+1),Re(i)||n&&en(i))break}else if(g===35){if(r=e.input.charCodeAt(e.position-1),Re(r))break}else{if(e.position===e.lineStart&&Jr(e)||n&&en(g))break;if(ze(g))if(l=e.line,p=e.lineStart,f=e.lineIndent,se(e,!1,-1),e.lineIndent>=t){s=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=p,e.lineIndent=f;break}}s&&(mt(e,a,o,!1),pa(e,e.line-l),a=o=e.position,s=!1),xt(g)||(o=e.position+1),g=e.input.charCodeAt(++e.position)}return mt(e,a,o,!1),e.result?!0:(e.kind=c,e.result=m,!1)}function Og(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(mt(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else ze(n)?(mt(e,r,i,!0),pa(e,se(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Jr(e)?I(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);I(e,"unexpected end of the stream within a single quoted scalar")}function Ig(e,t){var n,r,i,a,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return mt(e,n,e.position,!0),e.position++,!0;if(s===92){if(mt(e,n,e.position,!0),s=e.input.charCodeAt(++e.position),ze(s))se(e,!1,t);else if(s<256&&bl[s])e.result+=Ol[s],e.position++;else if((o=Ag(s))>0){for(i=o,a=0;i>0;i--)s=e.input.charCodeAt(++e.position),(o=Tg(s))>=0?a=(a<<4)+o:I(e,"expected hexadecimal character");e.result+=$g(a),e.position++}else I(e,"unknown escape sequence");n=r=e.position}else ze(s)?(mt(e,n,r,!0),pa(e,se(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Jr(e)?I(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}I(e,"unexpected end of the stream within a double quoted scalar")}function Ng(e,t){var n=!0,r,i,a,o=e.tag,s,l=e.anchor,p,f,c,m,g,w=Object.create(null),A,S,C,$;if($=e.input.charCodeAt(e.position),$===91)f=93,g=!1,s=[];else if($===123)f=125,g=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),$=e.input.charCodeAt(++e.position);$!==0;){if(se(e,!0,t),$=e.input.charCodeAt(e.position),$===f)return e.position++,e.tag=o,e.anchor=l,e.kind=g?"mapping":"sequence",e.result=s,!0;n?$===44&&I(e,"expected the node content, but found ','"):I(e,"missed comma between flow collection entries"),S=A=C=null,c=m=!1,$===63&&(p=e.input.charCodeAt(e.position+1),Re(p)&&(c=m=!0,e.position++,se(e,!0,t))),r=e.line,i=e.lineStart,a=e.position,rn(e,t,Xr,!1,!0),S=e.tag,A=e.result,se(e,!0,t),$=e.input.charCodeAt(e.position),(m||e.line===r)&&$===58&&(c=!0,$=e.input.charCodeAt(++e.position),se(e,!0,t),rn(e,t,Xr,!1,!0),C=e.result),g?nn(e,s,w,S,A,C,r,i,a):c?s.push(nn(e,null,w,S,A,C,r,i,a)):s.push(A),se(e,!0,t),$=e.input.charCodeAt(e.position),$===44?(n=!0,$=e.input.charCodeAt(++e.position)):n=!1}I(e,"unexpected end of the stream within a flow collection")}function Rg(e,t){var n,r,i=da,a=!1,o=!1,s=t,l=0,p=!1,f,c;if(c=e.input.charCodeAt(e.position),c===124)r=!1;else if(c===62)r=!0;else return!1;for(e.kind="scalar",e.result="";c!==0;)if(c=e.input.charCodeAt(++e.position),c===43||c===45)da===i?i=c===43?Tl:Eg:I(e,"repeat of a chomping mode identifier");else if((f=Sg(c))>=0)f===0?I(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?I(e,"repeat of an indentation width identifier"):(s=t+f-1,o=!0);else break;if(xt(c)){do c=e.input.charCodeAt(++e.position);while(xt(c));if(c===35)do c=e.input.charCodeAt(++e.position);while(!ze(c)&&c!==0)}for(;c!==0;){for(ha(e),e.lineIndent=0,c=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&c===32;)e.lineIndent++,c=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),ze(c)){l++;continue}if(e.lineIndent<s){i===Tl?e.result+=Pt.repeat(`
`,a?1+l:l):i===da&&a&&(e.result+=`
`);break}for(r?xt(c)?(p=!0,e.result+=Pt.repeat(`
`,a?1+l:l)):p?(p=!1,e.result+=Pt.repeat(`
`,l+1)):l===0?a&&(e.result+=" "):e.result+=Pt.repeat(`
`,l):e.result+=Pt.repeat(`
`,a?1+l:l),a=!0,o=!0,l=0,n=e.position;!ze(c)&&c!==0;)c=e.input.charCodeAt(++e.position);mt(e,n,e.position,!1)}return!0}function Dl(e,t){var n,r=e.tag,i=e.anchor,a=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,I(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Re(o))));){if(s=!0,e.position++,se(e,!0,-1)&&e.lineIndent<=t){a.push(null),l=e.input.charCodeAt(e.position);continue}if(n=e.line,rn(e,t,_l,!1,!0),a.push(e.result),se(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&l!==0)I(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function Dg(e,t,n){var r,i,a,o,s,l,p=e.tag,f=e.anchor,c={},m=Object.create(null),g=null,w=null,A=null,S=!1,C=!1,$;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),$=e.input.charCodeAt(e.position);$!==0;){if(!S&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,I(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,($===63||$===58)&&Re(r))$===63?(S&&(nn(e,c,m,g,w,null,o,s,l),g=w=A=null),C=!0,S=!0,i=!0):S?(S=!1,i=!0):I(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,$=r;else{if(o=e.line,s=e.lineStart,l=e.position,!rn(e,n,wl,!1,!0))break;if(e.line===a){for($=e.input.charCodeAt(e.position);xt($);)$=e.input.charCodeAt(++e.position);if($===58)$=e.input.charCodeAt(++e.position),Re($)||I(e,"a whitespace character is expected after the key-value separator within a block mapping"),S&&(nn(e,c,m,g,w,null,o,s,l),g=w=A=null),C=!0,S=!1,i=!1,g=e.tag,w=e.result;else if(C)I(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=p,e.anchor=f,!0}else if(C)I(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=p,e.anchor=f,!0}if((e.line===a||e.lineIndent>t)&&(S&&(o=e.line,s=e.lineStart,l=e.position),rn(e,t,zr,!0,i)&&(S?w=e.result:A=e.result),S||(nn(e,c,m,g,w,A,o,s,l),g=w=A=null),se(e,!0,-1),$=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&$!==0)I(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return S&&nn(e,c,m,g,w,null,o,s,l),C&&(e.tag=p,e.anchor=f,e.kind="mapping",e.result=c),C}function Pg(e){var t,n=!1,r=!1,i,a,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&I(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(n=!0,o=e.input.charCodeAt(++e.position)):o===33?(r=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(a=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):I(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Re(o);)o===33&&(r?I(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Al.test(i)||I(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),_g.test(a)&&I(e,"tag suffix cannot contain flow indicator characters")}a&&!Sl.test(a)&&I(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{I(e,"tag name is malformed: "+a)}return n?e.tag=a:pt.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:I(e,'undeclared tag handle "'+i+'"'),!0}function xg(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&I(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Re(n)&&!en(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&I(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Fg(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Re(r)&&!en(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&I(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),pt.call(e.anchorMap,n)||I(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],se(e,!0,-1),!0}function rn(e,t,n,r,i){var a,o,s,l=1,p=!1,f=!1,c,m,g,w,A,S;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=zr===n||_l===n,r&&se(e,!0,-1)&&(p=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;Pg(e)||xg(e);)se(e,!0,-1)?(p=!0,s=a,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):s=!1;if(s&&(s=p||i),(l===1||zr===n)&&(Xr===n||wl===n?A=t:A=t+1,S=e.position-e.lineStart,l===1?s&&(Dl(e,S)||Dg(e,S,A))||Ng(e,A)?f=!0:(o&&Rg(e,A)||Og(e,A)||Ig(e,A)?f=!0:Fg(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&I(e,"alias node should not have any properties")):bg(e,A,Xr===n)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=s&&Dl(e,S))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&I(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,m=e.implicitTypes.length;c<m;c+=1)if(w=e.implicitTypes[c],w.resolve(e.result)){e.result=w.construct(e.result),e.tag=w.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(pt.call(e.typeMap[e.kind||"fallback"],e.tag))w=e.typeMap[e.kind||"fallback"][e.tag];else for(w=null,g=e.typeMap.multi[e.kind||"fallback"],c=0,m=g.length;c<m;c+=1)if(e.tag.slice(0,g[c].tag.length)===g[c].tag){w=g[c];break}w||I(e,"unknown tag !<"+e.tag+">"),e.result!==null&&w.kind!==e.kind&&I(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+w.kind+'", not "'+e.kind+'"'),w.resolve(e.result,e.tag)?(e.result=w.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):I(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function Lg(e){var t=e.position,n,r,i,a=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(se(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(a=!0,o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!Re(o);)o=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&I(e,"directive name must not be less than one character in length");o!==0;){for(;xt(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!ze(o));break}if(ze(o))break;for(n=e.position;o!==0&&!Re(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}o!==0&&ha(e),pt.call(Nl,r)?Nl[r](e,r,i):Kr(e,'unknown document directive "'+r+'"')}if(se(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,se(e,!0,-1)):a&&I(e,"directives end mark is expected"),rn(e,e.lineIndent-1,zr,!1,!0),se(e,!0,-1),e.checkLineBreaks&&wg.test(e.input.slice(t,e.position))&&Kr(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Jr(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,se(e,!0,-1));return}if(e.position<e.length-1)I(e,"end of the stream or a document separator is expected");else return}function Pl(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Cg(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,I(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Lg(n);return n.documents}function Ug(e,t,n){t!==null&&typeof t=="object"&&typeof n=="undefined"&&(n=t,t=null);var r=Pl(e,n);if(typeof t!="function")return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])}function kg(e,t){var n=Pl(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new vl("expected a single document in the stream, but found more")}}aa.loadAll=Ug;aa.load=kg;var xl={},Qr=He,Hn=Mn,Mg=fa,Fl=Object.prototype.toString,Ll=Object.prototype.hasOwnProperty,ma=65279,Bg=9,jn=10,qg=13,Hg=32,jg=33,Gg=34,ga=35,Vg=37,Yg=38,Wg=39,Xg=42,Ul=44,zg=45,Zr=58,Kg=61,Jg=62,Qg=63,Zg=64,kl=91,Ml=93,e0=96,Bl=123,t0=124,ql=125,Te={};Te[0]="\\0";Te[7]="\\a";Te[8]="\\b";Te[9]="\\t";Te[10]="\\n";Te[11]="\\v";Te[12]="\\f";Te[13]="\\r";Te[27]="\\e";Te[34]='\\"';Te[92]="\\\\";Te[133]="\\N";Te[160]="\\_";Te[8232]="\\L";Te[8233]="\\P";var n0=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],r0=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function i0(e,t){var n,r,i,a,o,s,l;if(t===null)return{};for(n={},r=Object.keys(t),i=0,a=r.length;i<a;i+=1)o=r[i],s=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&Ll.call(l.styleAliases,s)&&(s=l.styleAliases[s]),n[o]=s;return n}function a0(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new Hn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Qr.repeat("0",r-t.length)+t}var o0=1,Gn=2;function s0(e){this.schema=e.schema||Mg,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Qr.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=i0(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Gn:o0,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Hl(e,t){for(var n=Qr.repeat(" ",t),r=0,i=-1,a="",o,s=e.length;r<s;)i=e.indexOf(`
`,r),i===-1?(o=e.slice(r),r=s):(o=e.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(a+=n),a+=o;return a}function ya(e,t){return`
`+Qr.repeat(" ",e.indent*t)}function l0(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function ei(e){return e===Hg||e===Bg}function Vn(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==ma||65536<=e&&e<=1114111}function jl(e){return Vn(e)&&e!==ma&&e!==qg&&e!==jn}function Gl(e,t,n){var r=jl(e),i=r&&!ei(e);return(n?r:r&&e!==Ul&&e!==kl&&e!==Ml&&e!==Bl&&e!==ql)&&e!==ga&&!(t===Zr&&!i)||jl(t)&&!ei(t)&&e===ga||t===Zr&&i}function u0(e){return Vn(e)&&e!==ma&&!ei(e)&&e!==zg&&e!==Qg&&e!==Zr&&e!==Ul&&e!==kl&&e!==Ml&&e!==Bl&&e!==ql&&e!==ga&&e!==Yg&&e!==Xg&&e!==jg&&e!==t0&&e!==Kg&&e!==Jg&&e!==Wg&&e!==Gg&&e!==Vg&&e!==Zg&&e!==e0}function c0(e){return!ei(e)&&e!==Zr}function Yn(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function Vl(e){var t=/^\n* /;return t.test(e)}var Yl=1,Ea=2,Wl=3,Xl=4,an=5;function f0(e,t,n,r,i,a,o,s){var l,p=0,f=null,c=!1,m=!1,g=r!==-1,w=-1,A=u0(Yn(e,0))&&c0(Yn(e,e.length-1));if(t||o)for(l=0;l<e.length;p>=65536?l+=2:l++){if(p=Yn(e,l),!Vn(p))return an;A=A&&Gl(p,f,s),f=p}else{for(l=0;l<e.length;p>=65536?l+=2:l++){if(p=Yn(e,l),p===jn)c=!0,g&&(m=m||l-w-1>r&&e[w+1]!==" ",w=l);else if(!Vn(p))return an;A=A&&Gl(p,f,s),f=p}m=m||g&&l-w-1>r&&e[w+1]!==" "}return!c&&!m?A&&!o&&!i(e)?Yl:a===Gn?an:Ea:n>9&&Vl(e)?an:o?a===Gn?an:Ea:m?Xl:Wl}function d0(e,t,n,r,i){e.dump=function(){if(t.length===0)return e.quotingType===Gn?'""':"''";if(!e.noCompatMode&&(n0.indexOf(t)!==-1||r0.test(t)))return e.quotingType===Gn?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,n),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),s=r||e.flowLevel>-1&&n>=e.flowLevel;function l(p){return l0(e,p)}switch(f0(t,s,e.indent,o,l,e.quotingType,e.forceQuotes&&!r,i)){case Yl:return t;case Ea:return"'"+t.replace(/'/g,"''")+"'";case Wl:return"|"+zl(t,e.indent)+Kl(Hl(t,a));case Xl:return">"+zl(t,e.indent)+Kl(Hl(h0(t,o),a));case an:return'"'+p0(t)+'"';default:throw new Hn("impossible error: invalid scalar style")}}()}function zl(e,t){var n=Vl(e)?String(t):"",r=e[e.length-1]===`
`,i=r&&(e[e.length-2]===`
`||e===`
`),a=i?"+":r?"":"-";return n+a+`
`}function Kl(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function h0(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var p=e.indexOf(`
`);return p=p!==-1?p:e.length,n.lastIndex=p,Jl(e.slice(0,p),t)}(),i=e[0]===`
`||e[0]===" ",a,o;o=n.exec(e);){var s=o[1],l=o[2];a=l[0]===" ",r+=s+(!i&&!a&&l!==""?`
`:"")+Jl(l,t),i=a}return r}function Jl(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,i=0,a,o=0,s=0,l="";r=n.exec(e);)s=r.index,s-i>t&&(a=o>i?o:s,l+=`
`+e.slice(i,a),i=a+1),o=s;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}function p0(e){for(var t="",n=0,r,i=0;i<e.length;n>=65536?i+=2:i++)n=Yn(e,i),r=Te[n],!r&&Vn(n)?(t+=e[i],n>=65536&&(t+=e[i+1])):t+=r||a0(n);return t}function m0(e,t,n){var r="",i=e.tag,a,o,s;for(a=0,o=n.length;a<o;a+=1)s=n[a],e.replacer&&(s=e.replacer.call(n,String(a),s)),(et(e,t,s,!1,!1)||typeof s=="undefined"&&et(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=i,e.dump="["+r+"]"}function Ql(e,t,n,r){var i="",a=e.tag,o,s,l;for(o=0,s=n.length;o<s;o+=1)l=n[o],e.replacer&&(l=e.replacer.call(n,String(o),l)),(et(e,t+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&et(e,t+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=ya(e,t)),e.dump&&jn===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=a,e.dump=i||"[]"}function g0(e,t,n){var r="",i=e.tag,a=Object.keys(n),o,s,l,p,f;for(o=0,s=a.length;o<s;o+=1)f="",r!==""&&(f+=", "),e.condenseFlow&&(f+='"'),l=a[o],p=n[l],e.replacer&&(p=e.replacer.call(n,l,p)),!!et(e,t,l,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!et(e,t,p,!1,!1)&&(f+=e.dump,r+=f));e.tag=i,e.dump="{"+r+"}"}function y0(e,t,n,r){var i="",a=e.tag,o=Object.keys(n),s,l,p,f,c,m;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Hn("sortKeys must be a boolean or a function");for(s=0,l=o.length;s<l;s+=1)m="",(!r||i!=="")&&(m+=ya(e,t)),p=o[s],f=n[p],e.replacer&&(f=e.replacer.call(n,p,f)),!!et(e,t+1,p,!0,!0,!0)&&(c=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,c&&(e.dump&&jn===e.dump.charCodeAt(0)?m+="?":m+="? "),m+=e.dump,c&&(m+=ya(e,t)),!!et(e,t+1,f,!0,c)&&(e.dump&&jn===e.dump.charCodeAt(0)?m+=":":m+=": ",m+=e.dump,i+=m));e.tag=a,e.dump=i||"{}"}function Zl(e,t,n){var r,i,a,o,s,l;for(i=n?e.explicitTypes:e.implicitTypes,a=0,o=i.length;a<o;a+=1)if(s=i[a],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t=="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(n?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,Fl.call(s.represent)==="[object Function]")r=s.represent(t,l);else if(Ll.call(s.represent,l))r=s.represent[l](t,l);else throw new Hn("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');e.dump=r}return!0}return!1}function et(e,t,n,r,i,a,o){e.tag=null,e.dump=n,Zl(e,n,!1)||Zl(e,n,!0);var s=Fl.call(e.dump),l=r,p;r&&(r=e.flowLevel<0||e.flowLevel>t);var f=s==="[object Object]"||s==="[object Array]",c,m;if(f&&(c=e.duplicates.indexOf(n),m=c!==-1),(e.tag!==null&&e.tag!=="?"||m||e.indent!==2&&t>0)&&(i=!1),m&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(f&&m&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),s==="[object Object]")r&&Object.keys(e.dump).length!==0?(y0(e,t,e.dump,i),m&&(e.dump="&ref_"+c+e.dump)):(g0(e,t,e.dump),m&&(e.dump="&ref_"+c+" "+e.dump));else if(s==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Ql(e,t-1,e.dump,i):Ql(e,t,e.dump,i),m&&(e.dump="&ref_"+c+e.dump)):(m0(e,t,e.dump),m&&(e.dump="&ref_"+c+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&d0(e,e.dump,t,a,l);else{if(s==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Hn("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(p=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",e.dump=p+" "+e.dump)}return!0}function E0(e,t){var n=[],r=[],i,a;for(va(e,n,r),i=0,a=r.length;i<a;i+=1)t.duplicates.push(n[r[i]]);t.usedDuplicates=new Array(a)}function va(e,t,n){var r,i,a;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)va(e[i],t,n);else for(r=Object.keys(e),i=0,a=r.length;i<a;i+=1)va(e[r[i]],t,n)}function v0(e,t){t=t||{};var n=new s0(t);n.noRefs||E0(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),et(n,0,r,!0,!0)?n.dump+`
`:""}xl.dump=v0;var eu=aa,w0=xl;function wa(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}ge.Type=Ce;ge.Schema=Zs;ge.FAILSAFE_SCHEMA=rl;ge.JSON_SCHEMA=ul;ge.CORE_SCHEMA=cl;ge.DEFAULT_SCHEMA=fa;ge.load=eu.load;ge.loadAll=eu.loadAll;ge.dump=w0.dump;ge.YAMLException=Mn;ge.types={binary:ml,float:ll,map:nl,null:il,pairs:yl,set:El,timestamp:hl,bool:al,int:ol,merge:pl,omap:gl,seq:tl,str:el};ge.safeLoad=wa("safeLoad","load");ge.safeLoadAll=wa("safeLoadAll","loadAll");ge.safeDump=wa("safeDump","dump");var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.Lazy=void 0;class _0{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;const t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}}ti.Lazy=_0;var gt={exports:{}};const T0="2.0.0",A0=256,S0=Number.MAX_SAFE_INTEGER||9007199254740991,$0=16;var ni={SEMVER_SPEC_VERSION:T0,MAX_LENGTH:A0,MAX_SAFE_INTEGER:S0,MAX_SAFE_COMPONENT_LENGTH:$0};const C0=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ri=C0;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n}=ni,r=ri;t=e.exports={};const i=t.re=[],a=t.src=[],o=t.t={};let s=0;const l=(p,f,c)=>{const m=s++;r(m,f),o[p]=m,a[m]=f,i[m]=new RegExp(f,c?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${a[o.NUMERICIDENTIFIER]})\\.(${a[o.NUMERICIDENTIFIER]})\\.(${a[o.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${a[o.NUMERICIDENTIFIERLOOSE]})\\.(${a[o.NUMERICIDENTIFIERLOOSE]})\\.(${a[o.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${a[o.NUMERICIDENTIFIER]}|${a[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${a[o.NUMERICIDENTIFIERLOOSE]}|${a[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${a[o.PRERELEASEIDENTIFIER]}(?:\\.${a[o.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${a[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[o.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${a[o.BUILDIDENTIFIER]}(?:\\.${a[o.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${a[o.MAINVERSION]}${a[o.PRERELEASE]}?${a[o.BUILD]}?`),l("FULL",`^${a[o.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${a[o.MAINVERSIONLOOSE]}${a[o.PRERELEASELOOSE]}?${a[o.BUILD]}?`),l("LOOSE",`^${a[o.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${a[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${a[o.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${a[o.XRANGEIDENTIFIER]})(?:\\.(${a[o.XRANGEIDENTIFIER]})(?:\\.(${a[o.XRANGEIDENTIFIER]})(?:${a[o.PRERELEASE]})?${a[o.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${a[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[o.XRANGEIDENTIFIERLOOSE]})(?:${a[o.PRERELEASELOOSE]})?${a[o.BUILD]}?)?)?`),l("XRANGE",`^${a[o.GTLT]}\\s*${a[o.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${a[o.GTLT]}\\s*${a[o.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),l("COERCERTL",a[o.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${a[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",l("TILDE",`^${a[o.LONETILDE]}${a[o.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${a[o.LONETILDE]}${a[o.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${a[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",l("CARET",`^${a[o.LONECARET]}${a[o.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${a[o.LONECARET]}${a[o.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${a[o.GTLT]}\\s*(${a[o.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${a[o.GTLT]}\\s*(${a[o.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${a[o.GTLT]}\\s*(${a[o.LOOSEPLAIN]}|${a[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${a[o.XRANGEPLAIN]})\\s+-\\s+(${a[o.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${a[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[o.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0.0.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})(gt,gt.exports);const b0=["includePrerelease","loose","rtl"],O0=e=>e?typeof e!="object"?{loose:!0}:b0.filter(t=>e[t]).reduce((t,n)=>(t[n]=!0,t),{}):{};var ii=O0;const tu=/^[0-9]+$/,nu=(e,t)=>{const n=tu.test(e),r=tu.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},I0=(e,t)=>nu(t,e);var _a={compareIdentifiers:nu,rcompareIdentifiers:I0};const ai=ri,{MAX_LENGTH:ru,MAX_SAFE_INTEGER:oi}=ni,{re:iu,t:au}=gt.exports,N0=ii,{compareIdentifiers:Wn}=_a;class je{constructor(t,n){if(n=N0(n),t instanceof je){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>ru)throw new TypeError(`version is longer than ${ru} characters`);ai("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?iu[au.LOOSE]:iu[au.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>oi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>oi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>oi||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<oi)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ai("SemVer.compare",this.version,this.options,t),!(t instanceof je)){if(typeof t=="string"&&t===this.version)return 0;t=new je(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof je||(t=new je(t,this.options)),Wn(this.major,t.major)||Wn(this.minor,t.minor)||Wn(this.patch,t.patch)}comparePre(t){if(t instanceof je||(t=new je(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(ai("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Wn(r,i)}while(++n)}compareBuild(t){t instanceof je||(t=new je(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(ai("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Wn(r,i)}while(++n)}inc(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}var be=je;const{MAX_LENGTH:R0}=ni,{re:ou,t:su}=gt.exports,lu=be,D0=ii,P0=(e,t)=>{if(t=D0(t),e instanceof lu)return e;if(typeof e!="string"||e.length>R0||!(t.loose?ou[su.LOOSE]:ou[su.FULL]).test(e))return null;try{return new lu(e,t)}catch{return null}};var on=P0;const x0=on,F0=(e,t)=>{const n=x0(e,t);return n?n.version:null};var L0=F0;const U0=on,k0=(e,t)=>{const n=U0(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var M0=k0;const B0=be,q0=(e,t,n,r)=>{typeof n=="string"&&(r=n,n=void 0);try{return new B0(e,n).inc(t,r).version}catch{return null}};var H0=q0;const uu=be,j0=(e,t,n)=>new uu(e,n).compare(new uu(t,n));var Ge=j0;const G0=Ge,V0=(e,t,n)=>G0(e,t,n)===0;var Ta=V0;const cu=on,Y0=Ta,W0=(e,t)=>{if(Y0(e,t))return null;{const n=cu(e),r=cu(t),i=n.prerelease.length||r.prerelease.length,a=i?"pre":"",o=i?"prerelease":"";for(const s in n)if((s==="major"||s==="minor"||s==="patch")&&n[s]!==r[s])return a+s;return o}};var X0=W0;const z0=be,K0=(e,t)=>new z0(e,t).major;var J0=K0;const Q0=be,Z0=(e,t)=>new Q0(e,t).minor;var ey=Z0;const ty=be,ny=(e,t)=>new ty(e,t).patch;var ry=ny;const iy=on,ay=(e,t)=>{const n=iy(e,t);return n&&n.prerelease.length?n.prerelease:null};var oy=ay;const sy=Ge,ly=(e,t,n)=>sy(t,e,n);var uy=ly;const cy=Ge,fy=(e,t)=>cy(e,t,!0);var dy=fy;const fu=be,hy=(e,t,n)=>{const r=new fu(e,n),i=new fu(t,n);return r.compare(i)||r.compareBuild(i)};var Aa=hy;const py=Aa,my=(e,t)=>e.sort((n,r)=>py(n,r,t));var gy=my;const yy=Aa,Ey=(e,t)=>e.sort((n,r)=>yy(r,n,t));var vy=Ey;const wy=Ge,_y=(e,t,n)=>wy(e,t,n)>0;var si=_y;const Ty=Ge,Ay=(e,t,n)=>Ty(e,t,n)<0;var Sa=Ay;const Sy=Ge,$y=(e,t,n)=>Sy(e,t,n)!==0;var du=$y;const Cy=Ge,by=(e,t,n)=>Cy(e,t,n)>=0;var $a=by;const Oy=Ge,Iy=(e,t,n)=>Oy(e,t,n)<=0;var Ca=Iy;const Ny=Ta,Ry=du,Dy=si,Py=$a,xy=Sa,Fy=Ca,Ly=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return Ny(e,n,r);case"!=":return Ry(e,n,r);case">":return Dy(e,n,r);case">=":return Py(e,n,r);case"<":return xy(e,n,r);case"<=":return Fy(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var hu=Ly;const Uy=be,ky=on,{re:li,t:ui}=gt.exports,My=(e,t)=>{if(e instanceof Uy)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(li[ui.COERCE]);else{let r;for(;(r=li[ui.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),li[ui.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;li[ui.COERCERTL].lastIndex=-1}return n===null?null:ky(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)};var By=My,qy=k;k.Node=Ft;k.create=k;function k(e){var t=this;if(t instanceof k||(t=new k),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}k.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};k.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};k.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};k.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)jy(this,arguments[e]);return this.length};k.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Gy(this,arguments[e]);return this.length};k.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};k.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};k.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};k.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};k.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};k.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};k.prototype.map=function(e,t){t=t||this;for(var n=new k,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};k.prototype.mapReverse=function(e,t){t=t||this;for(var n=new k,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};k.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};k.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};k.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};k.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};k.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new k;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};k.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new k;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};k.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var a=[],r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=Hy(this,i,n[r]);return a};k.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function Hy(e,t,n){var r=t===e.head?new Ft(n,null,t,e):new Ft(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function jy(e,t){e.tail=new Ft(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Gy(e,t){e.head=new Ft(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Ft(e,t,n,r){if(!(this instanceof Ft))return new Ft(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{require("./iterator.js")(k)}catch{}const Vy=qy,Lt=Symbol("max"),tt=Symbol("length"),sn=Symbol("lengthCalculator"),Xn=Symbol("allowStale"),Ut=Symbol("maxAge"),nt=Symbol("dispose"),pu=Symbol("noDisposeOnSet"),de=Symbol("lruList"),Ve=Symbol("cache"),mu=Symbol("updateAgeOnGet"),ba=()=>1;class Yy{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Lt]=t.max||1/0;const n=t.length||ba;if(this[sn]=typeof n!="function"?ba:n,this[Xn]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ut]=t.maxAge||0,this[nt]=t.dispose,this[pu]=t.noDisposeOnSet||!1,this[mu]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Lt]=t||1/0,zn(this)}get max(){return this[Lt]}set allowStale(t){this[Xn]=!!t}get allowStale(){return this[Xn]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Ut]=t,zn(this)}get maxAge(){return this[Ut]}set lengthCalculator(t){typeof t!="function"&&(t=ba),t!==this[sn]&&(this[sn]=t,this[tt]=0,this[de].forEach(n=>{n.length=this[sn](n.value,n.key),this[tt]+=n.length})),zn(this)}get lengthCalculator(){return this[sn]}get length(){return this[tt]}get itemCount(){return this[de].length}rforEach(t,n){n=n||this;for(let r=this[de].tail;r!==null;){const i=r.prev;gu(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[de].head;r!==null;){const i=r.next;gu(this,t,r,n),r=i}}keys(){return this[de].toArray().map(t=>t.key)}values(){return this[de].toArray().map(t=>t.value)}reset(){this[nt]&&this[de]&&this[de].length&&this[de].forEach(t=>this[nt](t.key,t.value)),this[Ve]=new Map,this[de]=new Vy,this[tt]=0}dump(){return this[de].map(t=>ci(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[de]}set(t,n,r){if(r=r||this[Ut],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,a=this[sn](n,t);if(this[Ve].has(t)){if(a>this[Lt])return ln(this,this[Ve].get(t)),!1;const l=this[Ve].get(t).value;return this[nt]&&(this[pu]||this[nt](t,l.value)),l.now=i,l.maxAge=r,l.value=n,this[tt]+=a-l.length,l.length=a,this.get(t),zn(this),!0}const o=new Wy(t,n,a,i,r);return o.length>this[Lt]?(this[nt]&&this[nt](t,n),!1):(this[tt]+=o.length,this[de].unshift(o),this[Ve].set(t,this[de].head),zn(this),!0)}has(t){if(!this[Ve].has(t))return!1;const n=this[Ve].get(t).value;return!ci(this,n)}get(t){return Oa(this,t,!0)}peek(t){return Oa(this,t,!1)}pop(){const t=this[de].tail;return t?(ln(this,t),t.value):null}del(t){ln(this,this[Ve].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],a=i.e||0;if(a===0)this.set(i.k,i.v);else{const o=a-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Ve].forEach((t,n)=>Oa(this,n,!1))}}const Oa=(e,t,n)=>{const r=e[Ve].get(t);if(r){const i=r.value;if(ci(e,i)){if(ln(e,r),!e[Xn])return}else n&&(e[mu]&&(r.value.now=Date.now()),e[de].unshiftNode(r));return i.value}},ci=(e,t)=>{if(!t||!t.maxAge&&!e[Ut])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Ut]&&n>e[Ut]},zn=e=>{if(e[tt]>e[Lt])for(let t=e[de].tail;e[tt]>e[Lt]&&t!==null;){const n=t.prev;ln(e,t),t=n}},ln=(e,t)=>{if(t){const n=t.value;e[nt]&&e[nt](n.key,n.value),e[tt]-=n.length,e[Ve].delete(n.key),e[de].removeNode(t)}};class Wy{constructor(t,n,r,i,a){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=a||0}}const gu=(e,t,n,r)=>{let i=n.value;ci(e,i)&&(ln(e,n),e[Xn]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var Xy=Yy;class Kn{constructor(t,n){if(n=Ky(n),t instanceof Kn)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new Kn(t.raw,n);if(t instanceof Ia)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const r=this.set[0];if(this.set=this.set.filter(i=>!Eu(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(const i of this.set)if(i.length===1&&tE(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const r=`parseRange:${Object.keys(this.options).join(",")}:${t}`,i=yu.get(r);if(i)return i;const a=this.options.loose,o=a?Ae[ye.HYPHENRANGELOOSE]:Ae[ye.HYPHENRANGE];t=t.replace(o,fE(this.options.includePrerelease)),ie("hyphen replace",t),t=t.replace(Ae[ye.COMPARATORTRIM],Qy),ie("comparator trim",t,Ae[ye.COMPARATORTRIM]),t=t.replace(Ae[ye.TILDETRIM],Zy),t=t.replace(Ae[ye.CARETTRIM],eE),t=t.split(/\s+/).join(" ");const s=a?Ae[ye.COMPARATORLOOSE]:Ae[ye.COMPARATOR],l=t.split(" ").map(c=>nE(c,this.options)).join(" ").split(/\s+/).map(c=>cE(c,this.options)).filter(this.options.loose?c=>!!c.match(s):()=>!0).map(c=>new Ia(c,this.options));l.length;const p=new Map;for(const c of l){if(Eu(c))return[c];p.set(c.value,c)}p.size>1&&p.has("")&&p.delete("");const f=[...p.values()];return yu.set(r,f),f}intersects(t,n){if(!(t instanceof Kn))throw new TypeError("a Range is required");return this.set.some(r=>vu(r,n)&&t.set.some(i=>vu(i,n)&&r.every(a=>i.every(o=>a.intersects(o,n)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new Jy(t,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(dE(this.set[n],t,this.options))return!0;return!1}}var Ye=Kn;const zy=Xy,yu=new zy({max:1e3}),Ky=ii,Ia=di,ie=ri,Jy=be,{re:Ae,t:ye,comparatorTrimReplace:Qy,tildeTrimReplace:Zy,caretTrimReplace:eE}=gt.exports,Eu=e=>e.value==="<0.0.0-0",tE=e=>e.value==="",vu=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every(a=>i.intersects(a,t)),i=r.pop();return n},nE=(e,t)=>(ie("comp",e,t),e=aE(e,t),ie("caret",e),e=rE(e,t),ie("tildes",e),e=sE(e,t),ie("xrange",e),e=uE(e,t),ie("stars",e),e),Oe=e=>!e||e.toLowerCase()==="x"||e==="*",rE=(e,t)=>e.trim().split(/\s+/).map(n=>iE(n,t)).join(" "),iE=(e,t)=>{const n=t.loose?Ae[ye.TILDELOOSE]:Ae[ye.TILDE];return e.replace(n,(r,i,a,o,s)=>{ie("tilde",e,r,i,a,o,s);let l;return Oe(i)?l="":Oe(a)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:Oe(o)?l=`>=${i}.${a}.0 <${i}.${+a+1}.0-0`:s?(ie("replaceTilde pr",s),l=`>=${i}.${a}.${o}-${s} <${i}.${+a+1}.0-0`):l=`>=${i}.${a}.${o} <${i}.${+a+1}.0-0`,ie("tilde return",l),l})},aE=(e,t)=>e.trim().split(/\s+/).map(n=>oE(n,t)).join(" "),oE=(e,t)=>{ie("caret",e,t);const n=t.loose?Ae[ye.CARETLOOSE]:Ae[ye.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(i,a,o,s,l)=>{ie("caret",e,i,a,o,s,l);let p;return Oe(a)?p="":Oe(o)?p=`>=${a}.0.0${r} <${+a+1}.0.0-0`:Oe(s)?a==="0"?p=`>=${a}.${o}.0${r} <${a}.${+o+1}.0-0`:p=`>=${a}.${o}.0${r} <${+a+1}.0.0-0`:l?(ie("replaceCaret pr",l),a==="0"?o==="0"?p=`>=${a}.${o}.${s}-${l} <${a}.${o}.${+s+1}-0`:p=`>=${a}.${o}.${s}-${l} <${a}.${+o+1}.0-0`:p=`>=${a}.${o}.${s}-${l} <${+a+1}.0.0-0`):(ie("no pr"),a==="0"?o==="0"?p=`>=${a}.${o}.${s}${r} <${a}.${o}.${+s+1}-0`:p=`>=${a}.${o}.${s}${r} <${a}.${+o+1}.0-0`:p=`>=${a}.${o}.${s} <${+a+1}.0.0-0`),ie("caret return",p),p})},sE=(e,t)=>(ie("replaceXRanges",e,t),e.split(/\s+/).map(n=>lE(n,t)).join(" ")),lE=(e,t)=>{e=e.trim();const n=t.loose?Ae[ye.XRANGELOOSE]:Ae[ye.XRANGE];return e.replace(n,(r,i,a,o,s,l)=>{ie("xRange",e,r,i,a,o,s,l);const p=Oe(a),f=p||Oe(o),c=f||Oe(s),m=c;return i==="="&&m&&(i=""),l=t.includePrerelease?"-0":"",p?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&m?(f&&(o=0),s=0,i===">"?(i=">=",f?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):i==="<="&&(i="<",f?a=+a+1:o=+o+1),i==="<"&&(l="-0"),r=`${i+a}.${o}.${s}${l}`):f?r=`>=${a}.0.0${l} <${+a+1}.0.0-0`:c&&(r=`>=${a}.${o}.0${l} <${a}.${+o+1}.0-0`),ie("xRange return",r),r})},uE=(e,t)=>(ie("replaceStars",e,t),e.trim().replace(Ae[ye.STAR],"")),cE=(e,t)=>(ie("replaceGTE0",e,t),e.trim().replace(Ae[t.includePrerelease?ye.GTE0PRE:ye.GTE0],"")),fE=e=>(t,n,r,i,a,o,s,l,p,f,c,m,g)=>(Oe(r)?n="":Oe(i)?n=`>=${r}.0.0${e?"-0":""}`:Oe(a)?n=`>=${r}.${i}.0${e?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${e?"-0":""}`,Oe(p)?l="":Oe(f)?l=`<${+p+1}.0.0-0`:Oe(c)?l=`<${p}.${+f+1}.0-0`:m?l=`<=${p}.${f}.${c}-${m}`:e?l=`<${p}.${f}.${+c+1}-0`:l=`<=${l}`,`${n} ${l}`.trim()),dE=(e,t,n)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let r=0;r<e.length;r++)if(ie(e[r].semver),e[r].semver!==Ia.ANY&&e[r].semver.prerelease.length>0){const i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},Jn=Symbol("SemVer ANY");class fi{static get ANY(){return Jn}constructor(t,n){if(n=hE(n),t instanceof fi){if(t.loose===!!n.loose)return t;t=t.value}Ra("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===Jn?this.value="":this.value=this.operator+this.semver.version,Ra("comp",this)}parse(t){const n=this.options.loose?wu[_u.COMPARATORLOOSE]:wu[_u.COMPARATOR],r=t.match(n);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Tu(r[2],this.options.loose):this.semver=Jn}toString(){return this.value}test(t){if(Ra("Comparator.test",t,this.options.loose),this.semver===Jn||t===Jn)return!0;if(typeof t=="string")try{t=new Tu(t,this.options)}catch{return!1}return Na(t,this.operator,this.semver,this.options)}intersects(t,n){if(!(t instanceof fi))throw new TypeError("a Comparator is required");if((!n||typeof n!="object")&&(n={loose:!!n,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Au(t.value,n).test(this.value);if(t.operator==="")return t.value===""?!0:new Au(this.value,n).test(t.semver);const r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),a=this.semver.version===t.semver.version,o=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),s=Na(this.semver,"<",t.semver,n)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),l=Na(this.semver,">",t.semver,n)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||a&&o||s||l}}var di=fi;const hE=ii,{re:wu,t:_u}=gt.exports,Na=hu,Ra=ri,Tu=be,Au=Ye,pE=Ye,mE=(e,t,n)=>{try{t=new pE(t,n)}catch{return!1}return t.test(e)};var hi=mE;const gE=Ye,yE=(e,t)=>new gE(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var EE=yE;const vE=be,wE=Ye,_E=(e,t,n)=>{let r=null,i=null,a=null;try{a=new wE(t,n)}catch{return null}return e.forEach(o=>{a.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new vE(r,n))}),r};var TE=_E;const AE=be,SE=Ye,$E=(e,t,n)=>{let r=null,i=null,a=null;try{a=new SE(t,n)}catch{return null}return e.forEach(o=>{a.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new AE(r,n))}),r};var CE=$E;const Da=be,bE=Ye,Su=si,OE=(e,t)=>{e=new bE(e,t);let n=new Da("0.0.0");if(e.test(n)||(n=new Da("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){const i=e.set[r];let a=null;i.forEach(o=>{const s=new Da(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!a||Su(s,a))&&(a=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),a&&(!n||Su(n,a))&&(n=a)}return n&&e.test(n)?n:null};var IE=OE;const NE=Ye,RE=(e,t)=>{try{return new NE(e,t).range||"*"}catch{return null}};var DE=RE;const PE=be,$u=di,{ANY:xE}=$u,FE=Ye,LE=hi,Cu=si,bu=Sa,UE=Ca,kE=$a,ME=(e,t,n,r)=>{e=new PE(e,r),t=new FE(t,r);let i,a,o,s,l;switch(n){case">":i=Cu,a=UE,o=bu,s=">",l=">=";break;case"<":i=bu,a=kE,o=Cu,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(LE(e,t,r))return!1;for(let p=0;p<t.set.length;++p){const f=t.set[p];let c=null,m=null;if(f.forEach(g=>{g.semver===xE&&(g=new $u(">=0.0.0")),c=c||g,m=m||g,i(g.semver,c.semver,r)?c=g:o(g.semver,m.semver,r)&&(m=g)}),c.operator===s||c.operator===l||(!m.operator||m.operator===s)&&a(e,m.semver))return!1;if(m.operator===l&&o(e,m.semver))return!1}return!0};var Pa=ME;const BE=Pa,qE=(e,t,n)=>BE(e,t,">",n);var HE=qE;const jE=Pa,GE=(e,t,n)=>jE(e,t,"<",n);var VE=GE;const Ou=Ye,YE=(e,t,n)=>(e=new Ou(e,n),t=new Ou(t,n),e.intersects(t));var WE=YE;const XE=hi,zE=Ge;var KE=(e,t,n)=>{const r=[];let i=null,a=null;const o=e.sort((f,c)=>zE(f,c,n));for(const f of o)XE(f,t,n)?(a=f,i||(i=f)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);const s=[];for(const[f,c]of r)f===c?s.push(f):!c&&f===o[0]?s.push("*"):c?f===o[0]?s.push(`<=${c}`):s.push(`${f} - ${c}`):s.push(`>=${f}`);const l=s.join(" || "),p=typeof t.raw=="string"?t.raw:String(t);return l.length<p.length?l:t};const Iu=Ye,pi=di,{ANY:xa}=pi,Qn=hi,Fa=Ge,JE=(e,t,n={})=>{if(e===t)return!0;e=new Iu(e,n),t=new Iu(t,n);let r=!1;e:for(const i of e.set){for(const a of t.set){const o=QE(i,a,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},QE=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===xa){if(t.length===1&&t[0].semver===xa)return!0;n.includePrerelease?e=[new pi(">=0.0.0-0")]:e=[new pi(">=0.0.0")]}if(t.length===1&&t[0].semver===xa){if(n.includePrerelease)return!0;t=[new pi(">=0.0.0")]}const r=new Set;let i,a;for(const g of e)g.operator===">"||g.operator===">="?i=Nu(i,g,n):g.operator==="<"||g.operator==="<="?a=Ru(a,g,n):r.add(g.semver);if(r.size>1)return null;let o;if(i&&a){if(o=Fa(i.semver,a.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const g of r){if(i&&!Qn(g,String(i),n)||a&&!Qn(g,String(a),n))return null;for(const w of t)if(!Qn(g,String(w),n))return!1;return!0}let s,l,p,f,c=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,m=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;c&&c.prerelease.length===1&&a.operator==="<"&&c.prerelease[0]===0&&(c=!1);for(const g of t){if(f=f||g.operator===">"||g.operator===">=",p=p||g.operator==="<"||g.operator==="<=",i){if(m&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===m.major&&g.semver.minor===m.minor&&g.semver.patch===m.patch&&(m=!1),g.operator===">"||g.operator===">="){if(s=Nu(i,g,n),s===g&&s!==i)return!1}else if(i.operator===">="&&!Qn(i.semver,String(g),n))return!1}if(a){if(c&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===c.major&&g.semver.minor===c.minor&&g.semver.patch===c.patch&&(c=!1),g.operator==="<"||g.operator==="<="){if(l=Ru(a,g,n),l===g&&l!==a)return!1}else if(a.operator==="<="&&!Qn(a.semver,String(g),n))return!1}if(!g.operator&&(a||i)&&o!==0)return!1}return!(i&&p&&!a&&o!==0||a&&f&&!i&&o!==0||m||c)},Nu=(e,t,n)=>{if(!e)return t;const r=Fa(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},Ru=(e,t,n)=>{if(!e)return t;const r=Fa(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};var ZE=JE;const La=gt.exports;var Du={re:La.re,src:La.src,tokens:La.t,SEMVER_SPEC_VERSION:ni.SEMVER_SPEC_VERSION,SemVer:be,compareIdentifiers:_a.compareIdentifiers,rcompareIdentifiers:_a.rcompareIdentifiers,parse:on,valid:L0,clean:M0,inc:H0,diff:X0,major:J0,minor:ey,patch:ry,prerelease:oy,compare:Ge,rcompare:uy,compareLoose:dy,compareBuild:Aa,sort:gy,rsort:vy,gt:si,lt:Sa,eq:Ta,neq:du,gte:$a,lte:Ca,cmp:hu,coerce:By,Comparator:di,Range:Ye,satisfies:hi,toComparators:EE,maxSatisfying:TE,minSatisfying:CE,minVersion:IE,validRange:DE,outside:Pa,gtr:HE,ltr:VE,intersects:WE,simplifyRange:KE,subset:ZE},un={},Ua={exports:{}};(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,s="[object Arguments]",l="[object Array]",p="[object AsyncFunction]",f="[object Boolean]",c="[object Date]",m="[object Error]",g="[object Function]",w="[object GeneratorFunction]",A="[object Map]",S="[object Number]",C="[object Null]",$="[object Object]",Q="[object Promise]",D="[object Proxy]",le="[object RegExp]",j="[object Set]",M="[object String]",O="[object Symbol]",y="[object Undefined]",x="[object WeakMap]",G="[object ArrayBuffer]",N="[object DataView]",V="[object Float32Array]",W="[object Float64Array]",Z="[object Int8Array]",B="[object Int16Array]",R="[object Int32Array]",X="[object Uint8Array]",Bt="[object Uint8ClampedArray]",En="[object Uint16Array]",Ke="[object Uint32Array]",vn=/[\\^$.*+?()[\]{}|]/g,Ri=/^\[object .+?Constructor\]$/,cr=/^(?:0|[1-9]\d*)$/,q={};q[V]=q[W]=q[Z]=q[B]=q[R]=q[X]=q[Bt]=q[En]=q[Ke]=!0,q[s]=q[l]=q[G]=q[f]=q[N]=q[c]=q[m]=q[g]=q[A]=q[S]=q[$]=q[le]=q[j]=q[M]=q[x]=!1;var fr=typeof Be=="object"&&Be&&Be.Object===Object&&Be,d=typeof self=="object"&&self&&self.Object===Object&&self,u=fr||d||Function("return this")(),_=t&&!t.nodeType&&t,v=_&&!0&&e&&!e.nodeType&&e,U=v&&v.exports===_,z=U&&fr.process,ne=function(){try{return z&&z.binding&&z.binding("util")}catch{}}(),he=ne&&ne.isTypedArray;function Fe(h,E){for(var T=-1,b=h==null?0:h.length,Y=0,P=[];++T<b;){var ee=h[T];E(ee,T,h)&&(P[Y++]=ee)}return P}function at(h,E){for(var T=-1,b=E.length,Y=h.length;++T<b;)h[Y+T]=E[T];return h}function ue(h,E){for(var T=-1,b=h==null?0:h.length;++T<b;)if(E(h[T],T,h))return!0;return!1}function ke(h,E){for(var T=-1,b=Array(h);++T<h;)b[T]=E(T);return b}function Di(h){return function(E){return h(E)}}function dr(h,E){return h.has(E)}function wn(h,E){return h==null?void 0:h[E]}function hr(h){var E=-1,T=Array(h.size);return h.forEach(function(b,Y){T[++E]=[Y,b]}),T}function _c(h,E){return function(T){return h(E(T))}}function Tc(h){var E=-1,T=Array(h.size);return h.forEach(function(b){T[++E]=b}),T}var Ac=Array.prototype,Sc=Function.prototype,pr=Object.prototype,Pi=u["__core-js_shared__"],io=Sc.toString,We=pr.hasOwnProperty,ao=function(){var h=/[^.]+$/.exec(Pi&&Pi.keys&&Pi.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),oo=pr.toString,$c=RegExp("^"+io.call(We).replace(vn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),so=U?u.Buffer:void 0,mr=u.Symbol,lo=u.Uint8Array,uo=pr.propertyIsEnumerable,Cc=Ac.splice,vt=mr?mr.toStringTag:void 0,co=Object.getOwnPropertySymbols,bc=so?so.isBuffer:void 0,Oc=_c(Object.keys,Object),xi=qt(u,"DataView"),_n=qt(u,"Map"),Fi=qt(u,"Promise"),Li=qt(u,"Set"),Ui=qt(u,"WeakMap"),Tn=qt(Object,"create"),Ic=Tt(xi),Nc=Tt(_n),Rc=Tt(Fi),Dc=Tt(Li),Pc=Tt(Ui),fo=mr?mr.prototype:void 0,ki=fo?fo.valueOf:void 0;function wt(h){var E=-1,T=h==null?0:h.length;for(this.clear();++E<T;){var b=h[E];this.set(b[0],b[1])}}function xc(){this.__data__=Tn?Tn(null):{},this.size=0}function Fc(h){var E=this.has(h)&&delete this.__data__[h];return this.size-=E?1:0,E}function Lc(h){var E=this.__data__;if(Tn){var T=E[h];return T===r?void 0:T}return We.call(E,h)?E[h]:void 0}function Uc(h){var E=this.__data__;return Tn?E[h]!==void 0:We.call(E,h)}function kc(h,E){var T=this.__data__;return this.size+=this.has(h)?0:1,T[h]=Tn&&E===void 0?r:E,this}wt.prototype.clear=xc,wt.prototype.delete=Fc,wt.prototype.get=Lc,wt.prototype.has=Uc,wt.prototype.set=kc;function Je(h){var E=-1,T=h==null?0:h.length;for(this.clear();++E<T;){var b=h[E];this.set(b[0],b[1])}}function Mc(){this.__data__=[],this.size=0}function Bc(h){var E=this.__data__,T=yr(E,h);if(T<0)return!1;var b=E.length-1;return T==b?E.pop():Cc.call(E,T,1),--this.size,!0}function qc(h){var E=this.__data__,T=yr(E,h);return T<0?void 0:E[T][1]}function Hc(h){return yr(this.__data__,h)>-1}function jc(h,E){var T=this.__data__,b=yr(T,h);return b<0?(++this.size,T.push([h,E])):T[b][1]=E,this}Je.prototype.clear=Mc,Je.prototype.delete=Bc,Je.prototype.get=qc,Je.prototype.has=Hc,Je.prototype.set=jc;function _t(h){var E=-1,T=h==null?0:h.length;for(this.clear();++E<T;){var b=h[E];this.set(b[0],b[1])}}function Gc(){this.size=0,this.__data__={hash:new wt,map:new(_n||Je),string:new wt}}function Vc(h){var E=Er(this,h).delete(h);return this.size-=E?1:0,E}function Yc(h){return Er(this,h).get(h)}function Wc(h){return Er(this,h).has(h)}function Xc(h,E){var T=Er(this,h),b=T.size;return T.set(h,E),this.size+=T.size==b?0:1,this}_t.prototype.clear=Gc,_t.prototype.delete=Vc,_t.prototype.get=Yc,_t.prototype.has=Wc,_t.prototype.set=Xc;function gr(h){var E=-1,T=h==null?0:h.length;for(this.__data__=new _t;++E<T;)this.add(h[E])}function zc(h){return this.__data__.set(h,r),this}function Kc(h){return this.__data__.has(h)}gr.prototype.add=gr.prototype.push=zc,gr.prototype.has=Kc;function ot(h){var E=this.__data__=new Je(h);this.size=E.size}function Jc(){this.__data__=new Je,this.size=0}function Qc(h){var E=this.__data__,T=E.delete(h);return this.size=E.size,T}function Zc(h){return this.__data__.get(h)}function ef(h){return this.__data__.has(h)}function tf(h,E){var T=this.__data__;if(T instanceof Je){var b=T.__data__;if(!_n||b.length<n-1)return b.push([h,E]),this.size=++T.size,this;T=this.__data__=new _t(b)}return T.set(h,E),this.size=T.size,this}ot.prototype.clear=Jc,ot.prototype.delete=Qc,ot.prototype.get=Zc,ot.prototype.has=ef,ot.prototype.set=tf;function nf(h,E){var T=vr(h),b=!T&&Ef(h),Y=!T&&!b&&Mi(h),P=!T&&!b&&!Y&&_o(h),ee=T||b||Y||P,ce=ee?ke(h.length,String):[],pe=ce.length;for(var K in h)(E||We.call(h,K))&&!(ee&&(K=="length"||Y&&(K=="offset"||K=="parent")||P&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||hf(K,pe)))&&ce.push(K);return ce}function yr(h,E){for(var T=h.length;T--;)if(yo(h[T][0],E))return T;return-1}function rf(h,E,T){var b=E(h);return vr(h)?b:at(b,T(h))}function An(h){return h==null?h===void 0?y:C:vt&&vt in Object(h)?ff(h):yf(h)}function ho(h){return Sn(h)&&An(h)==s}function po(h,E,T,b,Y){return h===E?!0:h==null||E==null||!Sn(h)&&!Sn(E)?h!==h&&E!==E:af(h,E,T,b,po,Y)}function af(h,E,T,b,Y,P){var ee=vr(h),ce=vr(E),pe=ee?l:st(h),K=ce?l:st(E);pe=pe==s?$:pe,K=K==s?$:K;var Pe=pe==$,Me=K==$,ve=pe==K;if(ve&&Mi(h)){if(!Mi(E))return!1;ee=!0,Pe=!1}if(ve&&!Pe)return P||(P=new ot),ee||_o(h)?mo(h,E,T,b,Y,P):uf(h,E,pe,T,b,Y,P);if(!(T&i)){var Le=Pe&&We.call(h,"__wrapped__"),Ue=Me&&We.call(E,"__wrapped__");if(Le||Ue){var lt=Le?h.value():h,Qe=Ue?E.value():E;return P||(P=new ot),Y(lt,Qe,T,b,P)}}return ve?(P||(P=new ot),cf(h,E,T,b,Y,P)):!1}function of(h){if(!wo(h)||mf(h))return!1;var E=Eo(h)?$c:Ri;return E.test(Tt(h))}function sf(h){return Sn(h)&&vo(h.length)&&!!q[An(h)]}function lf(h){if(!gf(h))return Oc(h);var E=[];for(var T in Object(h))We.call(h,T)&&T!="constructor"&&E.push(T);return E}function mo(h,E,T,b,Y,P){var ee=T&i,ce=h.length,pe=E.length;if(ce!=pe&&!(ee&&pe>ce))return!1;var K=P.get(h);if(K&&P.get(E))return K==E;var Pe=-1,Me=!0,ve=T&a?new gr:void 0;for(P.set(h,E),P.set(E,h);++Pe<ce;){var Le=h[Pe],Ue=E[Pe];if(b)var lt=ee?b(Ue,Le,Pe,E,h,P):b(Le,Ue,Pe,h,E,P);if(lt!==void 0){if(lt)continue;Me=!1;break}if(ve){if(!ue(E,function(Qe,At){if(!dr(ve,At)&&(Le===Qe||Y(Le,Qe,T,b,P)))return ve.push(At)})){Me=!1;break}}else if(!(Le===Ue||Y(Le,Ue,T,b,P))){Me=!1;break}}return P.delete(h),P.delete(E),Me}function uf(h,E,T,b,Y,P,ee){switch(T){case N:if(h.byteLength!=E.byteLength||h.byteOffset!=E.byteOffset)return!1;h=h.buffer,E=E.buffer;case G:return!(h.byteLength!=E.byteLength||!P(new lo(h),new lo(E)));case f:case c:case S:return yo(+h,+E);case m:return h.name==E.name&&h.message==E.message;case le:case M:return h==E+"";case A:var ce=hr;case j:var pe=b&i;if(ce||(ce=Tc),h.size!=E.size&&!pe)return!1;var K=ee.get(h);if(K)return K==E;b|=a,ee.set(h,E);var Pe=mo(ce(h),ce(E),b,Y,P,ee);return ee.delete(h),Pe;case O:if(ki)return ki.call(h)==ki.call(E)}return!1}function cf(h,E,T,b,Y,P){var ee=T&i,ce=go(h),pe=ce.length,K=go(E),Pe=K.length;if(pe!=Pe&&!ee)return!1;for(var Me=pe;Me--;){var ve=ce[Me];if(!(ee?ve in E:We.call(E,ve)))return!1}var Le=P.get(h);if(Le&&P.get(E))return Le==E;var Ue=!0;P.set(h,E),P.set(E,h);for(var lt=ee;++Me<pe;){ve=ce[Me];var Qe=h[ve],At=E[ve];if(b)var To=ee?b(At,Qe,ve,E,h,P):b(Qe,At,ve,h,E,P);if(!(To===void 0?Qe===At||Y(Qe,At,T,b,P):To)){Ue=!1;break}lt||(lt=ve=="constructor")}if(Ue&&!lt){var wr=h.constructor,_r=E.constructor;wr!=_r&&"constructor"in h&&"constructor"in E&&!(typeof wr=="function"&&wr instanceof wr&&typeof _r=="function"&&_r instanceof _r)&&(Ue=!1)}return P.delete(h),P.delete(E),Ue}function go(h){return rf(h,_f,df)}function Er(h,E){var T=h.__data__;return pf(E)?T[typeof E=="string"?"string":"hash"]:T.map}function qt(h,E){var T=wn(h,E);return of(T)?T:void 0}function ff(h){var E=We.call(h,vt),T=h[vt];try{h[vt]=void 0;var b=!0}catch{}var Y=oo.call(h);return b&&(E?h[vt]=T:delete h[vt]),Y}var df=co?function(h){return h==null?[]:(h=Object(h),Fe(co(h),function(E){return uo.call(h,E)}))}:Tf,st=An;(xi&&st(new xi(new ArrayBuffer(1)))!=N||_n&&st(new _n)!=A||Fi&&st(Fi.resolve())!=Q||Li&&st(new Li)!=j||Ui&&st(new Ui)!=x)&&(st=function(h){var E=An(h),T=E==$?h.constructor:void 0,b=T?Tt(T):"";if(b)switch(b){case Ic:return N;case Nc:return A;case Rc:return Q;case Dc:return j;case Pc:return x}return E});function hf(h,E){return E=E??o,!!E&&(typeof h=="number"||cr.test(h))&&h>-1&&h%1==0&&h<E}function pf(h){var E=typeof h;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?h!=="__proto__":h===null}function mf(h){return!!ao&&ao in h}function gf(h){var E=h&&h.constructor,T=typeof E=="function"&&E.prototype||pr;return h===T}function yf(h){return oo.call(h)}function Tt(h){if(h!=null){try{return io.call(h)}catch{}try{return h+""}catch{}}return""}function yo(h,E){return h===E||h!==h&&E!==E}var Ef=ho(function(){return arguments}())?ho:function(h){return Sn(h)&&We.call(h,"callee")&&!uo.call(h,"callee")},vr=Array.isArray;function vf(h){return h!=null&&vo(h.length)&&!Eo(h)}var Mi=bc||Af;function wf(h,E){return po(h,E)}function Eo(h){if(!wo(h))return!1;var E=An(h);return E==g||E==w||E==p||E==D}function vo(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=o}function wo(h){var E=typeof h;return h!=null&&(E=="object"||E=="function")}function Sn(h){return h!=null&&typeof h=="object"}var _o=he?Di(he):sf;function _f(h){return vf(h)?nf(h):lf(h)}function Tf(){return[]}function Af(){return!1}e.exports=wf})(Ua,Ua.exports);Object.defineProperty(un,"__esModule",{value:!0});un.createTempUpdateFile=un.DownloadedUpdateHelper=void 0;const ev=Ar.default,tv=Ze.default,Pu=Ua.exports,kt=Dt,Zn=re.default;class nv{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return Zn.join(this.cacheDir,"pending")}async validateDownloadedPath(t,n,r,i){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return Pu(this.versionInfo,n)&&Pu(this.fileInfo.info,r.info)&&await kt.pathExists(t)?t:null;const a=await this.getValidCachedUpdateFile(r,i);return a===null?null:(i.info(`Update has already been downloaded to ${t}).`),this._file=a,a)}async setDownloadedFile(t,n,r,i,a,o){this._file=t,this._packageFile=n,this.versionInfo=r,this.fileInfo=i,this._downloadedFileInfo={fileName:a,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},o&&await kt.outputJson(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await kt.emptyDir(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,n){var r;const i=this.getUpdateInfoFile();if(!await kt.pathExists(i))return null;let o;try{o=await kt.readJson(i)}catch(f){let c="No cached update info available";return f.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),c+=` (error on read: ${f.message})`),n.info(c),null}if(!((r=(o==null?void 0:o.fileName)!==null)!==null&&r!==void 0?r:!1))return n.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==o.sha512)return n.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${o.sha512}, expected: ${t.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const l=Zn.join(this.cacheDirForPendingUpdate,o.fileName);if(!await kt.pathExists(l))return n.info("Cached update file doesn't exist"),null;const p=await rv(l);return t.info.sha512!==p?(n.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${p}, expected: ${t.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=o,l)}getUpdateInfoFile(){return Zn.join(this.cacheDirForPendingUpdate,"update-info.json")}}un.DownloadedUpdateHelper=nv;function rv(e,t="sha512",n="base64",r){return new Promise((i,a)=>{const o=ev.createHash(t);o.on("error",a).setEncoding(n),tv.createReadStream(e,Ie(F({},r),{highWaterMark:1024*1024})).on("error",a).on("end",()=>{o.end(),i(o.read())}).pipe(o,{end:!1})})}async function iv(e,t,n){let r=0,i=Zn.join(t,e);for(let a=0;a<3;a++)try{return await kt.unlink(i),i}catch(o){if(o.code==="ENOENT")return i;n.warn(`Error on remove temp update file: ${o}`),i=Zn.join(t,`${r++}-${e}`)}return i}un.createTempUpdateFile=iv;var mi={},gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.getAppCacheDir=void 0;const ka=re.default,av=No.default;function ov(){const e=av.homedir();let t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||ka.join(e,"AppData","Local"):process.platform==="darwin"?t=ka.join(e,"Library","Application Support","Caches"):t=process.env.XDG_CACHE_HOME||ka.join(e,".cache"),t}gi.getAppCacheDir=ov;Object.defineProperty(mi,"__esModule",{value:!0});mi.ElectronAppAdapter=void 0;const xu=re.default,sv=gi;class lv{constructor(t=Cn.default.app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?xu.join(process.resourcesPath,"app-update.yml"):xu.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return sv.getAppCacheDir()}quit(){this.app.quit()}onQuit(t){this.app.once("quit",(n,r)=>t(r))}}mi.ElectronAppAdapter=lv;var Fu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronHttpExecutor=e.getNetSession=e.NET_SESSION_NAME=void 0;const t=te;e.NET_SESSION_NAME="electron-updater";function n(){return Cn.default.session.fromPartition(e.NET_SESSION_NAME,{cache:!1})}e.getNetSession=n;class r extends t.HttpExecutor{constructor(a){super();this.proxyLoginCallback=a,this.cachedSession=null}async download(a,o,s){return await s.cancellationToken.createPromise((l,p,f)=>{const c={headers:s.headers||void 0,redirect:"manual"};t.configureRequestUrl(a,c),t.configureRequestOptions(c),this.doDownload(c,{destination:o,options:s,onCancel:f,callback:m=>{m==null?l(o):p(m)},responseHandler:null},0)})}createRequest(a,o){a.headers&&a.headers.Host&&(a.host=a.headers.Host,delete a.headers.Host),this.cachedSession==null&&(this.cachedSession=n());const s=Cn.default.net.request(Ie(F({},a),{session:this.cachedSession}));return s.on("response",o),this.proxyLoginCallback!=null&&s.on("login",this.proxyLoginCallback),s}addRedirectHandlers(a,o,s,l,p){a.on("redirect",(f,c,m)=>{a.abort(),l>this.maxRedirects?s(this.createMaxRedirectError()):p(t.HttpExecutor.prepareRedirectUrlOptions(m,o))})}}e.ElectronHttpExecutor=r})(Fu);var er={},Ee={},uv=1/0,cv="[object Symbol]",Lu=/[\\^$.*+?()[\]{}|]/g,fv=RegExp(Lu.source),dv=typeof Be=="object"&&Be&&Be.Object===Object&&Be,hv=typeof self=="object"&&self&&self.Object===Object&&self,pv=dv||hv||Function("return this")(),mv=Object.prototype,gv=mv.toString,Uu=pv.Symbol,ku=Uu?Uu.prototype:void 0,Mu=ku?ku.toString:void 0;function yv(e){if(typeof e=="string")return e;if(vv(e))return Mu?Mu.call(e):"";var t=e+"";return t=="0"&&1/e==-uv?"-0":t}function Ev(e){return!!e&&typeof e=="object"}function vv(e){return typeof e=="symbol"||Ev(e)&&gv.call(e)==cv}function wv(e){return e==null?"":yv(e)}function _v(e){return e=wv(e),e&&fv.test(e)?e.replace(Lu,"\\$&"):e}var Tv=_v;Object.defineProperty(Ee,"__esModule",{value:!0});Ee.blockmapFiles=Ee.getChannelFilename=Ee.newUrlFromBase=Ee.newBaseUrl=void 0;const Bu=St.default,Av=Tv;function Sv(e){const t=new Bu.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}Ee.newBaseUrl=Sv;function Ma(e,t,n=!1){const r=new Bu.URL(e,t),i=t.search;return i!=null&&i.length!==0?r.search=i:n&&(r.search=`noCache=${Date.now().toString(32)}`),r}Ee.newUrlFromBase=Ma;function $v(e){return`${e}.yml`}Ee.getChannelFilename=$v;function Cv(e,t,n){const r=Ma(`${e.pathname}.blockmap`,e);return[Ma(`${e.pathname.replace(new RegExp(Av(n),"g"),t)}.blockmap`,e),r]}Ee.blockmapFiles=Cv;var ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.resolveFiles=ae.getFileList=ae.parseUpdateInfo=ae.findFile=ae.Provider=void 0;const yt=te,bv=ge,qu=Ee;class Ov{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){const t=process.env.TEST_UPDATER_ARCH||process.arch,n=t==="x64"?"":`-${t}`;return"-linux"+n}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return`${t}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,n,r){return this.executor.request(this.createRequestOptions(t,n),r)}createRequestOptions(t,n){const r={};return this.requestHeaders==null?n!=null&&(r.headers=n):r.headers=n==null?this.requestHeaders:F(F({},this.requestHeaders),n),yt.configureRequestUrl(t,r),r}}ae.Provider=Ov;function Iv(e,t,n){if(e.length===0)throw yt.newError("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const r=e.find(i=>i.url.pathname.toLowerCase().endsWith(`.${t}`));return r??(n==null?e[0]:e.find(i=>!n.some(a=>i.url.pathname.toLowerCase().endsWith(`.${a}`))))}ae.findFile=Iv;function Nv(e,t,n){if(e==null)throw yt.newError(`Cannot parse update info from ${t} in the latest release artifacts (${n}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let r;try{r=bv.load(e)}catch(i){throw yt.newError(`Cannot parse update info from ${t} in the latest release artifacts (${n}): ${i.stack||i.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return r}ae.parseUpdateInfo=Nv;function Hu(e){const t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw yt.newError(`No files provided: ${yt.safeStringifyJson(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}ae.getFileList=Hu;function Rv(e,t,n=r=>r){const i=Hu(e).map(s=>{if(s.sha2==null&&s.sha512==null)throw yt.newError(`Update info doesn't contain nor sha256 neither sha512 checksum: ${yt.safeStringifyJson(s)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:qu.newUrlFromBase(n(s.url),t),info:s}}),a=e.packages,o=a==null?null:a[process.arch]||a.ia32;return o!=null&&(i[0].packageInfo=Ie(F({},o),{path:qu.newUrlFromBase(n(o.path),t).href})),i}ae.resolveFiles=Rv;Object.defineProperty(er,"__esModule",{value:!0});er.GenericProvider=void 0;const ju=te,Ba=Ee,qa=ae;class Dv extends qa.Provider{constructor(t,n,r){super(r);this.configuration=t,this.updater=n,this.baseUrl=Ba.newBaseUrl(this.configuration.url)}get channel(){const t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){const t=Ba.getChannelFilename(this.channel),n=Ba.newUrlFromBase(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let r=0;;r++)try{return qa.parseUpdateInfo(await this.httpRequest(n),t,n)}catch(i){if(i instanceof ju.HttpError&&i.statusCode===404)throw ju.newError(`Cannot find channel "${t}" update info: ${i.stack||i.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&r<3){await new Promise((a,o)=>{try{setTimeout(a,1e3*r)}catch(s){o(s)}});continue}throw i}}resolveFiles(t){return qa.resolveFiles(t,this.baseUrl)}}er.GenericProvider=Dv;var cn={},yi={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.BintrayClient=void 0;const Gu=J;class Pv{constructor(t,n,r,i){if(this.httpExecutor=n,this.cancellationToken=r,this.requestHeaders=null,t.owner==null)throw new Error("owner is not specified");if(t.package==null)throw new Error("package is not specified");this.repo=t.repo||"generic",this.packageName=t.package,this.owner=t.owner,this.user=t.user||t.owner,this.component=t.component||null,this.distribution=t.distribution||"stable",this.auth=i==null?null:`Basic ${Buffer.from(`${this.user}:${i}`).toString("base64")}`,this.basePath=`/packages/${this.owner}/${this.repo}/${this.packageName}`}setRequestHeaders(t){this.requestHeaders=t}bintrayRequest(t,n,r=null,i,a){return Gu.parseJson(this.httpExecutor.request(Gu.configureRequestOptions({hostname:"api.bintray.com",path:t,headers:this.requestHeaders||void 0},n,a),i,r))}getVersion(t){return this.bintrayRequest(`${this.basePath}/versions/${t}`,this.auth,null,this.cancellationToken)}getVersionFiles(t){return this.bintrayRequest(`${this.basePath}/versions/${t}/files`,this.auth,null,this.cancellationToken)}createVersion(t){return this.bintrayRequest(`${this.basePath}/versions`,this.auth,{name:t},this.cancellationToken)}deleteVersion(t){return this.bintrayRequest(`${this.basePath}/versions/${t}`,this.auth,null,this.cancellationToken,"DELETE")}}Ei.BintrayClient=Pv;Object.defineProperty(yi,"__esModule",{value:!0});yi.BintrayProvider=void 0;const Ha=te,xv=Ei,Fv=St.default,Vu=Ee,ja=ae;class Lv extends ja.Provider{constructor(t,n){super(n);this.client=new xv.BintrayClient(t,n.executor,new Ha.CancellationToken),this.baseUrl=Vu.newBaseUrl(`https://dl.bintray.com/${this.client.owner}/${this.client.repo}`)}setRequestHeaders(t){super.setRequestHeaders(t),this.client.setRequestHeaders(t)}async getLatestVersion(){try{const t=await this.client.getVersion("_latest"),n=Vu.getChannelFilename(this.getDefaultChannelName()),r=await this.client.getVersionFiles(t.name),i=r.find(o=>o.name.endsWith(`_${n}`)||o.name.endsWith(`-${n}`));if(i==null)throw Ha.newError(`Cannot find channel file "${n}", existing files:
${r.map(o=>JSON.stringify(o,null,2)).join(`,
`)}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const a=new Fv.URL(`https://dl.bintray.com/${this.client.owner}/${this.client.repo}/${i.name}`);return ja.parseUpdateInfo(await this.httpRequest(a),n,a)}catch(t){throw"statusCode"in t&&t.statusCode===404?Ha.newError(`No latest version, please ensure that user, package and repository correctly configured. Or at least one version is published. ${t.stack||t.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND"):t}}resolveFiles(t){return ja.resolveFiles(t,this.baseUrl)}}yi.BintrayProvider=Lv;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.BitbucketProvider=void 0;const Yu=te,Ga=Ee,Va=ae;class Uv extends Va.Provider{constructor(t,n,r){super(Ie(F({},r),{isUseMultipleRangeRequest:!1}));this.configuration=t,this.updater=n;const{owner:i,slug:a}=t;this.baseUrl=Ga.newBaseUrl(`https://api.bitbucket.org/2.0/repositories/${i}/${a}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const t=new Yu.CancellationToken,n=Ga.getChannelFilename(this.getCustomChannelName(this.channel)),r=Ga.newUrlFromBase(n,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(r,void 0,t);return Va.parseUpdateInfo(i,n,r)}catch(i){throw Yu.newError(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return Va.resolveFiles(t,this.baseUrl)}toString(){const{owner:t,slug:n}=this.configuration;return`Bitbucket (owner: ${t}, slug: ${n}, channel: ${this.channel})`}}vi.BitbucketProvider=Uv;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.computeReleaseNotes=rt.GitHubProvider=rt.BaseGitHubProvider=void 0;const it=te,Wu=Du,kv=St.default,fn=Ee,Ya=ae,Xu=/\/tag\/([^/]+)$/;class zu extends Ya.Provider{constructor(t,n,r){super(Ie(F({},r),{isUseMultipleRangeRequest:!1}));this.options=t,this.baseUrl=fn.newBaseUrl(it.githubUrl(t,n));const i=n==="github.com"?"api.github.com":n;this.baseApiUrl=fn.newBaseUrl(it.githubUrl(t,i))}computeGithubBasePath(t){const n=this.options.host;return n!=null&&n!=="github.com"&&n!=="api.github.com"?`/api/v3${t}`:t}}rt.BaseGitHubProvider=zu;class Mv extends zu{constructor(t,n,r){super(t,"github.com",r);this.options=t,this.updater=n}async getLatestVersion(){const t=new it.CancellationToken,n=await this.httpRequest(fn.newUrlFromBase(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},t),r=it.parseXml(n);let i=r.element("entry",!1,"No published versions on GitHub"),a;try{if(this.updater.allowPrerelease)a=Xu.exec(i.element("link").attribute("href"))[1];else{a=await this.getLatestTagName(t);for(const c of r.getElements("entry"))if(Xu.exec(c.element("link").attribute("href"))[1]===a){i=c;break}}}catch(c){throw it.newError(`Cannot parse releases feed: ${c.stack||c.message},
XML:
${n}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(a==null)throw it.newError("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");const o=fn.getChannelFilename(this.getDefaultChannelName()),s=fn.newUrlFromBase(this.getBaseDownloadPath(a,o),this.baseUrl),l=this.createRequestOptions(s);let p;try{p=await this.executor.request(l,t)}catch(c){throw!this.updater.allowPrerelease&&c instanceof it.HttpError&&c.statusCode===404?it.newError(`Cannot find ${o} in the latest release artifacts (${s}): ${c.stack||c.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):c}const f=Ya.parseUpdateInfo(p,o,s);return f.releaseName==null&&(f.releaseName=i.elementValueOrEmpty("title")),f.releaseNotes==null&&(f.releaseNotes=Ju(this.updater.currentVersion,this.updater.fullChangelog,r,i)),F({tag:a},f)}async getLatestTagName(t){const n=this.options,r=n.host==null||n.host==="github.com"?fn.newUrlFromBase(`${this.basePath}/latest`,this.baseUrl):new kv.URL(`${this.computeGithubBasePath(`/repos/${n.owner}/${n.repo}/releases`)}/latest`,this.baseApiUrl);try{const i=await this.httpRequest(r,{Accept:"application/json"},t);return i==null?null:JSON.parse(i).tag_name}catch(i){throw it.newError(`Unable to find latest version on GitHub (${r}), please ensure a production release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(t){return Ya.resolveFiles(t,this.baseUrl,n=>this.getBaseDownloadPath(t.tag,n.replace(/ /g,"-")))}getBaseDownloadPath(t,n){return`${this.basePath}/download/${t}/${n}`}}rt.GitHubProvider=Mv;function Ku(e){const t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function Ju(e,t,n,r){if(!t)return Ku(r);const i=[];for(const a of n.getElements("entry")){const o=/\/tag\/v?([^/]+)$/.exec(a.element("link").attribute("href"))[1];Wu.lt(e,o)&&i.push({version:o,note:Ku(a)})}return i.sort((a,o)=>Wu.rcompare(a.version,o.version))}rt.computeReleaseNotes=Ju;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.KeygenProvider=void 0;const Qu=te,Wa=Ee,Xa=ae;class Bv extends Xa.Provider{constructor(t,n,r){super(Ie(F({},r),{isUseMultipleRangeRequest:!1}));this.configuration=t,this.updater=n,this.baseUrl=Wa.newBaseUrl(`https://api.keygen.sh/v1/accounts/${this.configuration.account}/artifacts`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const t=new Qu.CancellationToken,n=Wa.getChannelFilename(this.getCustomChannelName(this.channel)),r=Wa.newUrlFromBase(n,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(r,{Accept:"application/vnd.api+json"},t);return Xa.parseUpdateInfo(i,n,r)}catch(i){throw Qu.newError(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return Xa.resolveFiles(t,this.baseUrl)}toString(){const{account:t,product:n,platform:r}=this.configuration;return`Keygen (account: ${t}, product: ${n}, platform: ${r}, channel: ${this.channel})`}}wi.KeygenProvider=Bv;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.PrivateGitHubProvider=void 0;const dn=te,qv=ge,Hv=re.default,Zu=St.default,ec=Ee,jv=rt,Gv=ae;class Vv extends jv.BaseGitHubProvider{constructor(t,n,r,i){super(t,"api.github.com",i);this.updater=n,this.token=r}createRequestOptions(t,n){const r=super.createRequestOptions(t,n);return r.redirect="manual",r}async getLatestVersion(){const t=new dn.CancellationToken,n=ec.getChannelFilename(this.getDefaultChannelName()),r=await this.getLatestVersionInfo(t),i=r.assets.find(s=>s.name===n);if(i==null)throw dn.newError(`Cannot find ${n} in the release ${r.html_url||r.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const a=new Zu.URL(i.url);let o;try{o=qv.load(await this.httpRequest(a,this.configureHeaders("application/octet-stream"),t))}catch(s){throw s instanceof dn.HttpError&&s.statusCode===404?dn.newError(`Cannot find ${n} in the latest release artifacts (${a}): ${s.stack||s.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):s}return o.assets=r.assets,o}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:`token ${this.token}`}}async getLatestVersionInfo(t){const n=this.updater.allowPrerelease;let r=this.basePath;n||(r=`${r}/latest`);const i=ec.newUrlFromBase(r,this.baseUrl);try{const a=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return n?a.find(o=>o.prerelease)||a[0]:a}catch(a){throw dn.newError(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${a.stack||a.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(t){return Gv.getFileList(t).map(n=>{const r=Hv.posix.basename(n.url).replace(/ /g,"-"),i=t.assets.find(a=>a!=null&&a.name===r);if(i==null)throw dn.newError(`Cannot find asset "${r}" in: ${JSON.stringify(t.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new Zu.URL(i.url),info:n}})}}_i.PrivateGitHubProvider=Vv;Object.defineProperty(cn,"__esModule",{value:!0});cn.createClient=cn.isUrlProbablySupportMultiRangeRequests=void 0;const Ti=te,Yv=yi,Wv=vi,tc=er,Xv=rt,zv=wi,Kv=_i;function nc(e){return!e.includes("s3.amazonaws.com")}cn.isUrlProbablySupportMultiRangeRequests=nc;function Jv(e,t,n){if(typeof e=="string")throw Ti.newError("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const r=e.provider;switch(r){case"github":{const i=e,a=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return a==null?new Xv.GitHubProvider(i,t,n):new Kv.PrivateGitHubProvider(i,t,a,n)}case"bitbucket":return new Wv.BitbucketProvider(e,t,n);case"keygen":return new zv.KeygenProvider(e,t,n);case"s3":case"spaces":return new tc.GenericProvider({provider:"generic",url:Ti.getS3LikeProviderBaseUrl(e),channel:e.channel||null},t,Ie(F({},n),{isUseMultipleRangeRequest:!1}));case"generic":{const i=e;return new tc.GenericProvider(i,t,Ie(F({},n),{isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&nc(i.url)}))}case"bintray":return new Yv.BintrayProvider(e,n);case"custom":{const i=e,a=i.updateProvider;if(!a)throw Ti.newError("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new a(i,t,n)}default:throw Ti.newError(`Unsupported provider: ${r}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}cn.createClient=Jv;Object.defineProperty(ut,"__esModule",{value:!0});ut.NoOpLogger=ut.AppUpdater=void 0;const De=te,Qv=Ar.default,Zv=bo.default,ew=Dt,tr=Yf.default,tw=ge,za=ti,hn=re.default,pn=Du,rc=un,nw=mi,ic=Fu,rw=er,Ai=Ht,Ka=cn;class Ja extends Zv.EventEmitter{constructor(t,n){super();this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new Ai.UpdaterSignal(this),this._appUpdateConfigPath=null,this.clientPromise=null,this.stagingUserIdPromise=new za.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new za.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",a=>{this._logger.error(`Error: ${a.stack||a.message}`)}),n==null?(this.app=new nw.ElectronAppAdapter,this.httpExecutor=new ic.ElectronHttpExecutor((a,o)=>this.emit("login",a,o))):(this.app=n,this.httpExecutor=null);const r=this.app.version,i=pn.parse(r);if(i==null)throw De.newError(`App version is not a valid semver version: "${r}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=i,this.allowPrerelease=iw(i),t!=null&&(this.setFeedURL(t),typeof t!="string"&&t.requestHeaders&&(this.requestHeaders=t.requestHeaders))}get channel(){return this._channel}set channel(t){if(this._channel!=null){if(typeof t!="string")throw De.newError(`Channel must be a string, but got: ${t}`,"ERR_UPDATER_INVALID_CHANNEL");if(t.length===0)throw De.newError("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=t,this.allowDowngrade=!0}addAuthHeader(t){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:t})}get netSession(){return ic.getNetSession()}get logger(){return this._logger}set logger(t){this._logger=t??new ac}set updateConfigPath(t){this.clientPromise=null,this._appUpdateConfigPath=t,this.configOnDisk=new za.Lazy(()=>this.loadUpdateConfig())}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(t){const n=this.createProviderRuntimeOptions();let r;typeof t=="string"?r=new rw.GenericProvider({provider:"generic",url:t},this,Ie(F({},n),{isUseMultipleRangeRequest:Ka.isUrlProbablySupportMultiRangeRequests(t)})):r=Ka.createClient(t,this,n),this.clientPromise=Promise.resolve(r)}checkForUpdates(){let t=this.checkForUpdatesPromise;if(t!=null)return this._logger.info("Checking for update (already in progress)"),t;const n=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),t=this.doCheckForUpdates().then(r=>(n(),r)).catch(r=>{throw n(),this.emit("error",r,`Cannot check for updates: ${(r.stack||r).toString()}`),r}),this.checkForUpdatesPromise=t,t}isUpdaterActive(){return this.app.isPackaged?!0:(this._logger.info("Skip checkForUpdatesAndNotify because application is not packed"),!1)}checkForUpdatesAndNotify(t){return this.isUpdaterActive()?this.checkForUpdates().then(n=>{const r=n.downloadPromise;return r==null?(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),n):(r.then(()=>{const i=Ja.formatDownloadNotification(n.updateInfo.version,this.app.name,t);new Cn.default.Notification(i).show()}),n)}):Promise.resolve(null)}static formatDownloadNotification(t,n,r){return r==null&&(r={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),r={title:r.title.replace("{appName}",n).replace("{version}",t),body:r.body.replace("{appName}",n).replace("{version}",t)},r}async isStagingMatch(t){const n=t.stagingPercentage;let r=n;if(r==null)return!0;if(r=parseInt(r,10),isNaN(r))return this._logger.warn(`Staging percentage is NaN: ${n}`),!0;r=r/100;const i=await this.stagingUserIdPromise.value,o=De.UUID.parse(i).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${r}, percentage: ${o}, user id: ${i}`),o<r}computeFinalHeaders(t){return this.requestHeaders!=null&&Object.assign(t,this.requestHeaders),t}async isUpdateAvailable(t){const n=pn.parse(t.version);if(n==null)throw De.newError(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${t.version}"`,"ERR_UPDATER_INVALID_VERSION");const r=this.currentVersion;if(pn.eq(n,r)||!await this.isStagingMatch(t))return!1;const a=pn.gt(n,r),o=pn.lt(n,r);return a?!0:this.allowDowngrade&&o}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(r=>Ka.createClient(r,this,this.createProviderRuntimeOptions())));const t=await this.clientPromise,n=await this.stagingUserIdPromise.value;return t.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":n})),{info:await t.getLatestVersion(),provider:t}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const t=await this.getUpdateInfoAndProvider(),n=t.info;if(!await this.isUpdateAvailable(n))return this._logger.info(`Update for version ${this.currentVersion} is not available (latest version: ${n.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",n),{versionInfo:n,updateInfo:n};this.updateInfoAndProvider=t,this.onUpdateAvailable(n);const r=new De.CancellationToken;return{versionInfo:n,updateInfo:n,cancellationToken:r,downloadPromise:this.autoDownload?this.downloadUpdate(r):null}}onUpdateAvailable(t){this._logger.info(`Found version ${t.version} (url: ${De.asArray(t.files).map(n=>n.url).join(", ")})`),this.emit("update-available",t)}downloadUpdate(t=new De.CancellationToken){const n=this.updateInfoAndProvider;if(n==null){const i=new Error("Please check update first");return this.dispatchError(i),Promise.reject(i)}this._logger.info(`Downloading update from ${De.asArray(n.info.files).map(i=>i.url).join(", ")}`);const r=i=>{if(!(i instanceof De.CancellationError))try{this.dispatchError(i)}catch(a){this._logger.warn(`Cannot dispatch error event: ${a.stack||a}`)}return i};try{return this.doDownloadUpdate({updateInfoAndProvider:n,requestHeaders:this.computeRequestHeaders(n.provider),cancellationToken:t}).catch(i=>{throw r(i)})}catch(i){return Promise.reject(r(i))}}dispatchError(t){this.emit("error",t,(t.stack||t).toString())}dispatchUpdateDownloaded(t){this.emit(Ai.UPDATE_DOWNLOADED,t)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),tw.load(await tr.readFile(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(t){const n=t.fileExtraDownloadHeaders;if(n!=null){const r=this.requestHeaders;return r==null?n:F(F({},n),r)}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const t=hn.join(this.app.userDataPath,".updaterId");try{const r=await tr.readFile(t,"utf-8");if(De.UUID.check(r))return r;this._logger.warn(`Staging user id file exists, but content was invalid: ${r}`)}catch(r){r.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${r}`)}const n=De.UUID.v5(Qv.randomBytes(4096),De.UUID.OID);this._logger.info(`Generated new staging user ID: ${n}`);try{await ew.outputFile(t,n)}catch(r){this._logger.warn(`Couldn't write out staging user ID: ${r}`)}return n}get isAddNoCacheQuery(){const t=this.requestHeaders;if(t==null)return!0;for(const n of Object.keys(t)){const r=n.toLowerCase();if(r==="authorization"||r==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let t=this.downloadedUpdateHelper;if(t==null){const n=(await this.configOnDisk.value).updaterCacheDirName,r=this._logger;n==null&&r.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const i=hn.join(this.app.baseCachePath,n||this.app.name);r.debug!=null&&r.debug(`updater cache dir: ${i}`),t=new rc.DownloadedUpdateHelper(i),this.downloadedUpdateHelper=t}return t}async executeDownload(t){const n=t.fileInfo,r={headers:t.downloadUpdateOptions.requestHeaders,cancellationToken:t.downloadUpdateOptions.cancellationToken,sha2:n.info.sha2,sha512:n.info.sha512};this.listenerCount(Ai.DOWNLOAD_PROGRESS)>0&&(r.onProgress=$=>this.emit(Ai.DOWNLOAD_PROGRESS,$));const i=t.downloadUpdateOptions.updateInfoAndProvider.info,a=i.version,o=n.packageInfo;function s(){const $=decodeURIComponent(t.fileInfo.url.pathname);return $.endsWith(`.${t.fileExtension}`)?hn.posix.basename($):`update.${t.fileExtension}`}const l=await this.getOrCreateDownloadHelper(),p=l.cacheDirForPendingUpdate;await tr.mkdir(p,{recursive:!0});const f=s();let c=hn.join(p,f);const m=o==null?null:hn.join(p,`package-${a}${hn.extname(o.path)||".7z"}`),g=async $=>(await l.setDownloadedFile(c,m,i,n,f,$),await t.done(Ie(F({},i),{downloadedFile:c})),m==null?[c]:[c,m]),w=this._logger,A=await l.validateDownloadedPath(c,i,n,w);if(A!=null)return c=A,await g(!1);const S=async()=>(await l.clear().catch(()=>{}),await tr.unlink(c).catch(()=>{})),C=await rc.createTempUpdateFile(`temp-${f}`,p,w);try{await t.task(C,r,m,S),await tr.rename(C,c)}catch($){throw await S(),$ instanceof De.CancellationError&&(w.info("cancelled"),this.emit("update-cancelled",i)),$}return w.info(`New version ${a} has been downloaded to ${c}`),await g(!0)}}ut.AppUpdater=Ja;function iw(e){const t=pn.prerelease(e);return t!=null&&t.length>0}class ac{info(t){}warn(t){}error(t){}}ut.NoOpLogger=ac;var nr={},rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.BaseUpdater=void 0;const oc=Ze.default,sc=re.default,aw=ut;class ow extends aw.AppUpdater{constructor(t,n){super(t,n);this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(t=!1,n=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(t,t?n:!0)?setImmediate(()=>{this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(t){return super.executeDownload(Ie(F({},t),{done:n=>(this.dispatchUpdateDownloaded(n),this.addQuitHandler(),Promise.resolve())}))}install(t,n){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const r=this.downloadedUpdateHelper,i=r==null?null:r.file,a=r==null?null:r.downloadedFileInfo;if(i==null||a==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{let o=!1;if(process.platform==="win32")try{const s=sc.join(sc.dirname(process.execPath),`access-${Math.floor(Math.random()*100)}.tmp`);oc.writeFileSync(s," "),oc.rmSync(s)}catch{o=!0}return this._logger.info(`Install: isSilent: ${t}, isForceRunAfter: ${n}, installPathRequiresElevation: ${o}`),this.doInstall({installerPath:i,isSilent:t,isForceRunAfter:n,isAdminRightsRequired:o||a.isAdminRightsRequired})}catch(o){return this.dispatchError(o),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(t=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(t!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${t}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}}rr.BaseUpdater=ow;var ir={},ar={},Mt={},Si={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.computeOperations=e.OperationKind=void 0;var t;(function(s){s[s.COPY=0]="COPY",s[s.DOWNLOAD=1]="DOWNLOAD"})(t=e.OperationKind||(e.OperationKind={}));function n(s,l,p){const f=o(s.files),c=o(l.files);let m=null;const g=l.files[0],w=[],A=g.name,S=f.get(A);if(S==null)throw new Error(`no file ${A} in old blockmap`);const C=c.get(A);let $=0;const{checksumToOffset:Q,checksumToOldSize:D}=a(f.get(A),S.offset,p);let le=g.offset;for(let j=0;j<C.checksums.length;le+=C.sizes[j],j++){const M=C.sizes[j],O=C.checksums[j];let y=Q.get(O);y!=null&&D.get(O)!==M&&(p.warn(`Checksum ("${O}") matches, but size differs (old: ${D.get(O)}, new: ${M})`),y=void 0),y===void 0?($++,m!=null&&m.kind===t.DOWNLOAD&&m.end===le?m.end+=M:(m={kind:t.DOWNLOAD,start:le,end:le+M},i(m,w,O,j))):m!=null&&m.kind===t.COPY&&m.end===y?m.end+=M:(m={kind:t.COPY,start:y,end:y+M},i(m,w,O,j))}return $>0&&p.info(`File${g.name==="file"?"":" "+g.name} has ${$} changed blocks`),w}e.computeOperations=n;const r=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function i(s,l,p,f){if(r&&l.length!==0){const c=l[l.length-1];if(c.kind===s.kind&&s.start<c.end&&s.start>c.start){const m=[c.start,c.end,s.start,s.end].reduce((g,w)=>g<w?g:w);throw new Error(`operation (block index: ${f}, checksum: ${p}, kind: ${t[s.kind]}) overlaps previous operation (checksum: ${p}):
abs: ${c.start} until ${c.end} and ${s.start} until ${s.end}
rel: ${c.start-m} until ${c.end-m} and ${s.start-m} until ${s.end-m}`)}}l.push(s)}function a(s,l,p){const f=new Map,c=new Map;let m=l;for(let g=0;g<s.checksums.length;g++){const w=s.checksums[g],A=s.sizes[g],S=c.get(w);if(S===void 0)f.set(w,m),c.set(w,A);else if(p.debug!=null){const C=S===A?"(same size)":`(size: ${S}, this size: ${A})`;p.debug(`${w} duplicated in blockmap ${C}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}m+=A}return{checksumToOffset:f,checksumToOldSize:c}}function o(s){const l=new Map;for(const p of s)l.set(p.name,p);return l}})(Si);Object.defineProperty(Mt,"__esModule",{value:!0});Mt.DataSplitter=Mt.copyData=void 0;const $i=te,sw=Ze.default,lw=$n.default,uw=Si,lc=Buffer.from(`\r
\r
`);var Et;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(Et||(Et={}));function uc(e,t,n,r,i){const a=sw.createReadStream("",{fd:n,autoClose:!1,start:e.start,end:e.end-1});a.on("error",r),a.once("end",i),a.pipe(t,{end:!1})}Mt.copyData=uc;class cw extends lw.Writable{constructor(t,n,r,i,a,o){super();this.out=t,this.options=n,this.partIndexToTaskIndex=r,this.partIndexToLength=a,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=Et.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,n,r){if(this.isFinished){console.error(`Trailing ignored data: ${t.length} bytes`);return}this.handleData(t).then(r).catch(r)}async handleData(t){let n=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw $i.newError("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const r=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=r,n=r}else if(this.remainingPartDataCount>0){const r=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=r,await this.processPartData(t,0,r),n=r}if(n!==t.length){if(this.readState===Et.HEADER){const r=this.searchHeaderListEnd(t,n);if(r===-1)return;n=r,this.readState=Et.BODY,this.headerListBuffer=null}for(;;){if(this.readState===Et.BODY)this.readState=Et.INIT;else{this.partIndex++;let o=this.partIndexToTaskIndex.get(this.partIndex);if(o==null)if(this.isFinished)o=this.options.end;else throw $i.newError("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");const s=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(s<o)await this.copyExistingData(s,o);else if(s>o)throw $i.newError("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(n=this.searchHeaderListEnd(t,n),n===-1){this.readState=Et.HEADER;return}}const r=this.partIndexToLength[this.partIndex],i=n+r,a=Math.min(i,t.length);if(await this.processPartStarted(t,n,a),this.remainingPartDataCount=r-(a-n),this.remainingPartDataCount>0)return;if(n=i+this.boundaryLength,n>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-i);return}}}}copyExistingData(t,n){return new Promise((r,i)=>{const a=()=>{if(t===n){r();return}const o=this.options.tasks[t];if(o.kind!==uw.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}uc(o,this.out,this.options.oldFileFd,i,()=>{t++,a()})};a()})}searchHeaderListEnd(t,n){const r=t.indexOf(lc,n);if(r!==-1)return r+lc.length;const i=n===0?t:t.slice(n);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){const t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw $i.newError(`Expected length: ${t} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,n,r){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,n,r)}processPartData(t,n,r){this.actualPartLength+=r-n;const i=this.out;return i.write(n===0&&t.length===r?t:t.slice(n,r))?Promise.resolve():new Promise((a,o)=>{i.on("error",o),i.once("drain",()=>{i.removeListener("error",o),a()})})}}Mt.DataSplitter=cw;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.checkIsRangesSupported=mn.executeTasksUsingMultipleRangeRequests=void 0;const Qa=te,cc=Mt,fc=Si;function fw(e,t,n,r,i){const a=o=>{if(o>=t.length){e.fileMetadataBuffer!=null&&n.write(e.fileMetadataBuffer),n.end();return}const s=o+1e3;dw(e,{tasks:t,start:o,end:Math.min(t.length,s),oldFileFd:r},n,()=>a(s),i)};return a}mn.executeTasksUsingMultipleRangeRequests=fw;function dw(e,t,n,r,i){let a="bytes=",o=0;const s=new Map,l=[];for(let c=t.start;c<t.end;c++){const m=t.tasks[c];m.kind===fc.OperationKind.DOWNLOAD&&(a+=`${m.start}-${m.end-1}, `,s.set(o,c),o++,l.push(m.end-m.start))}if(o<=1){const c=m=>{if(m>=t.end){r();return}const g=t.tasks[m++];if(g.kind===fc.OperationKind.COPY)cc.copyData(g,n,t.oldFileFd,i,()=>c(m));else{const w=e.createRequestOptions();w.headers.Range=`bytes=${g.start}-${g.end-1}`;const A=e.httpExecutor.createRequest(w,S=>{!Za(S,i)||(S.pipe(n,{end:!1}),S.once("end",()=>c(m)))});e.httpExecutor.addErrorAndTimeoutHandlers(A,i),A.end()}};c(t.start);return}const p=e.createRequestOptions();p.headers.Range=a.substring(0,a.length-2);const f=e.httpExecutor.createRequest(p,c=>{if(!Za(c,i))return;const m=Qa.safeGetHeader(c,"content-type"),g=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(m);if(g==null){i(new Error(`Content-Type "multipart/byteranges" is expected, but got "${m}"`));return}const w=new cc.DataSplitter(n,t,s,g[1]||g[2],l,r);w.on("error",i),c.pipe(w),c.on("end",()=>{setTimeout(()=>{f.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(f,i),f.end()}function Za(e,t){if(e.statusCode>=400)return t(Qa.createHttpError(e)),!1;if(e.statusCode!==206){const n=Qa.safeGetHeader(e,"accept-ranges");if(n==null||n==="none")return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}mn.checkIsRangesSupported=Za;var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.ProgressDifferentialDownloadCallbackTransform=void 0;const hw=$n.default;var gn;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(gn||(gn={}));class pw extends hw.Transform{constructor(t,n,r){super();this.progressDifferentialDownloadInfo=t,this.cancellationToken=n,this.onProgress=r,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=gn.COPY,this.nextUpdate=this.start+1e3}_transform(t,n,r){if(this.cancellationToken.cancelled){r(new Error("cancelled"),null);return}if(this.operationType==gn.COPY){r(null,t);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),r(null,t)}beginFileCopy(){this.operationType=gn.COPY}beginRangeDownload(){this.operationType=gn.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}}Ci.ProgressDifferentialDownloadCallbackTransform=pw;Object.defineProperty(ar,"__esModule",{value:!0});ar.DifferentialDownloader=void 0;const or=te,eo=Dt,mw=Ze.default,gw=Mt,yw=St.default,bi=Si,dc=mn,Ew=Ci;class vw{constructor(t,n,r){this.blockAwareFileInfo=t,this.httpExecutor=n,this.options=r,this.fileMetadataBuffer=null,this.logger=r.logger}createRequestOptions(){const t={headers:Ie(F({},this.options.requestHeaders),{accept:"*/*"})};return or.configureRequestUrl(this.options.newUrl,t),or.configureRequestOptions(t),t}doDownload(t,n){if(t.version!==n.version)throw new Error(`version is different (${t.version} - ${n.version}), full download is required`);const r=this.logger,i=bi.computeOperations(t,n,r);r.debug!=null&&r.debug(JSON.stringify(i,null,2));let a=0,o=0;for(const l of i){const p=l.end-l.start;l.kind===bi.OperationKind.DOWNLOAD?a+=p:o+=p}const s=this.blockAwareFileInfo.size;if(a+o+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==s)throw new Error(`Internal error, size mismatch: downloadSize: ${a}, copySize: ${o}, newSize: ${s}`);return r.info(`Full: ${hc(s)}, To download: ${hc(a)} (${Math.round(a/(s/100))}%)`),this.downloadFile(i)}downloadFile(t){const n=[],r=()=>Promise.all(n.map(i=>eo.close(i.descriptor).catch(a=>{this.logger.error(`cannot close file "${i.path}": ${a}`)})));return this.doDownloadFile(t,n).then(r).catch(i=>r().catch(a=>{try{this.logger.error(`cannot close files: ${a}`)}catch(o){try{console.error(o)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(t,n){const r=await eo.open(this.options.oldFile,"r");n.push({descriptor:r,path:this.options.oldFile});const i=await eo.open(this.options.newFile,"w");n.push({descriptor:i,path:this.options.newFile});const a=mw.createWriteStream(this.options.newFile,{fd:i});await new Promise((o,s)=>{const l=[];let p;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const C=[];let $=0;for(const D of t)D.kind===bi.OperationKind.DOWNLOAD&&(C.push(D.end-D.start),$+=D.end-D.start);const Q={expectedByteCounts:C,grandTotal:$};p=new Ew.ProgressDifferentialDownloadCallbackTransform(Q,this.options.cancellationToken,this.options.onProgress),l.push(p)}const f=new or.DigestTransform(this.blockAwareFileInfo.sha512);f.isValidateOnEnd=!1,l.push(f),a.on("finish",()=>{a.close(()=>{n.splice(1,1);try{f.validate()}catch(C){s(C);return}o(void 0)})}),l.push(a);let c=null;for(const C of l)C.on("error",s),c==null?c=C:c=c.pipe(C);const m=l[0];let g;if(this.options.isUseMultipleRangeRequest){g=dc.executeTasksUsingMultipleRangeRequests(this,t,m,r,s),g(0);return}let w=0,A=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const S=this.createRequestOptions();S.redirect="manual",g=C=>{var $,Q;if(C>=t.length){this.fileMetadataBuffer!=null&&m.write(this.fileMetadataBuffer),m.end();return}const D=t[C++];if(D.kind===bi.OperationKind.COPY){p&&p.beginFileCopy(),gw.copyData(D,m,r,s,()=>g(C));return}const le=`bytes=${D.start}-${D.end-1}`;S.headers.range=le,(Q=($=this.logger)===null||$===void 0?void 0:$.debug)===null||Q===void 0||Q.call($,`download range: ${le}`),p&&p.beginRangeDownload();const j=this.httpExecutor.createRequest(S,M=>{M.statusCode>=400&&s(or.createHttpError(M)),M.pipe(m,{end:!1}),M.once("end",()=>{p&&p.endRangeDownload(),++w==100?(w=0,setTimeout(()=>g(C),1e3)):g(C)})});j.on("redirect",(M,O,y)=>{this.logger.info(`Redirect to ${ww(y)}`),A=y,or.configureRequestUrl(new yw.URL(A),S),j.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(j,s),j.end()},g(0)})}async readRemoteBytes(t,n){const r=Buffer.allocUnsafe(n+1-t),i=this.createRequestOptions();i.headers.range=`bytes=${t}-${n}`;let a=0;if(await this.request(i,o=>{o.copy(r,a),a+=o.length}),a!==r.length)throw new Error(`Received data length ${a} is not equal to expected ${r.length}`);return r}request(t,n){return new Promise((r,i)=>{const a=this.httpExecutor.createRequest(t,o=>{!dc.checkIsRangesSupported(o,i)||(o.on("data",n),o.on("end",()=>r()))});this.httpExecutor.addErrorAndTimeoutHandlers(a,i),a.end()})}}ar.DifferentialDownloader=vw;function hc(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function ww(e){const t=e.indexOf("?");return t<0?e:e.substring(0,t)}Object.defineProperty(ir,"__esModule",{value:!0});ir.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const yn=Dt,_w=ar,Tw=Ro.default;class Aw extends _w.DifferentialDownloader{async download(){const t=this.blockAwareFileInfo,n=t.size,r=n-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(r,n-1);const i=pc(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await Sw(this.options.oldFile),i)}}ir.FileWithEmbeddedBlockMapDifferentialDownloader=Aw;function pc(e){return JSON.parse(Tw.inflateRawSync(e).toString())}async function Sw(e){const t=await yn.open(e,"r");try{const n=(await yn.fstat(t)).size,r=Buffer.allocUnsafe(4);await yn.read(t,r,0,r.length,n-r.length);const i=Buffer.allocUnsafe(r.readUInt32BE(0));return await yn.read(t,i,0,i.length,n-r.length-i.length),await yn.close(t),pc(i)}catch(n){throw await yn.close(t),n}}Object.defineProperty(nr,"__esModule",{value:!0});nr.AppImageUpdater=void 0;const mc=te,to=Sr.default,$w=Dt,Cw=Ze.default,sr=re.default,bw=rr,Ow=ir,gc=Ht,Iw=ae;class Nw extends bw.BaseUpdater{constructor(t,n){super(t,n)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(t){const n=t.updateInfoAndProvider.provider,r=Iw.findFile(n.resolveFiles(t.updateInfoAndProvider.info),"AppImage");return this.executeDownload({fileExtension:"AppImage",fileInfo:r,downloadUpdateOptions:t,task:async(i,a)=>{const o=process.env.APPIMAGE;if(o==null)throw mc.newError("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let s=!1;try{const l={newUrl:r.url,oldFile:o,logger:this._logger,newFile:i,isUseMultipleRangeRequest:n.isUseMultipleRangeRequest,requestHeaders:t.requestHeaders,cancellationToken:t.cancellationToken};this.listenerCount(gc.DOWNLOAD_PROGRESS)>0&&(l.onProgress=p=>this.emit(gc.DOWNLOAD_PROGRESS,p)),await new Ow.FileWithEmbeddedBlockMapDifferentialDownloader(r.info,this.httpExecutor,l).download()}catch(l){this._logger.error(`Cannot download differentially, fallback to full download: ${l.stack||l}`),s=process.platform==="linux"}s&&await this.httpExecutor.download(r.url,i,a),await $w.chmod(i,493)}})}doInstall(t){const n=process.env.APPIMAGE;if(n==null)throw mc.newError("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");Cw.unlinkSync(n);let r;const i=sr.basename(n);sr.basename(t.installerPath)===i||!/\d+\.\d+\.\d+/.test(i)?r=n:r=sr.join(sr.dirname(n),sr.basename(t.installerPath)),to.execFileSync("mv",["-f",t.installerPath,r]),r!==n&&this.emit("appimage-filename-updated",r);const a=Ie(F({},process.env),{APPIMAGE_SILENT_INSTALL:"true"});return t.isForceRunAfter?to.spawn(r,[],{detached:!0,stdio:"ignore",env:a}).unref():(a.APPIMAGE_EXIT_AFTER_INSTALL="true",to.execFileSync(r,[],{env:a})),!0}}nr.AppImageUpdater=Nw;var lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.MacUpdater=void 0;const yc=te,Rw=Dt,Dw=Ze.default,Pw=Wf.default,xw=ut,Fw=ae,Lw=Sr.default;class Uw extends xw.AppUpdater{constructor(t,n){super(t,n);this.nativeUpdater=Cn.default.autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",r=>{this._logger.warn(r),this.emit("error",r)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0})}debug(t){this._logger.debug!=null&&this._logger.debug(t)}async doDownloadUpdate(t){let n=t.updateInfoAndProvider.provider.resolveFiles(t.updateInfoAndProvider.info);const r=this._logger,i="sysctl.proc_translated";let a=!1;try{this.debug("Checking for macOS Rosetta environment"),a=Lw.execFileSync("sysctl",[i],{encoding:"utf8"}).includes(`${i}: 1`),r.info(`Checked for macOS Rosetta environment (isRosetta=${a})`)}catch(p){r.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${p}`)}const o=process.arch==="arm64"||a,s=p=>{var f;return p.url.pathname.includes("arm64")||((f=p.info.url)===null||f===void 0?void 0:f.includes("arm64"))};o&&n.some(s)?n=n.filter(p=>o===s(p)):n=n.filter(p=>!s(p));const l=Fw.findFile(n,"zip",["pkg","dmg"]);if(l==null)throw yc.newError(`ZIP file not provided: ${yc.safeStringifyJson(n)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");return this.executeDownload({fileExtension:"zip",fileInfo:l,downloadUpdateOptions:t,task:(p,f)=>this.httpExecutor.download(l.url,p,f),done:p=>this.updateDownloaded(l,p)})}async updateDownloaded(t,n){var r;const i=n.downloadedFile,a=(r=t.info.size)!==null&&r!==void 0?r:(await Rw.stat(i)).size,o=this._logger,s=`fileToProxy=${t.url.href}`;this.debug(`Creating proxy server for native Squirrel.Mac (${s})`);const l=Pw.createServer();this.debug(`Proxy server for native Squirrel.Mac is created (${s})`),l.on("close",()=>{o.info(`Proxy server for native Squirrel.Mac is closed (${s})`)});function p(){return`http://127.0.0.1:${l.address().port}`}return await new Promise((f,c)=>{const m=`/${Date.now().toString(16)}-${Math.floor(Math.random()*9999).toString(16)}.zip`;l.on("request",(g,w)=>{const A=g.url;if(o.info(`${A} requested`),A==="/"){const $=Buffer.from(`{ "url": "${p()}${m}" }`);w.writeHead(200,{"Content-Type":"application/json","Content-Length":$.length}),w.end($);return}if(!A.startsWith(m)){o.warn(`${A} requested, but not supported`),w.writeHead(404),w.end();return}o.info(`${m} requested by Squirrel.Mac, pipe ${i}`);let S=!1;w.on("finish",()=>{try{setImmediate(()=>l.close())}finally{S||(this.nativeUpdater.removeListener("error",c),f([]))}});const C=Dw.createReadStream(i);C.on("error",$=>{try{w.end()}catch(Q){o.warn(`cannot end response: ${Q}`)}S=!0,this.nativeUpdater.removeListener("error",c),c(new Error(`Cannot pipe "${i}": ${$}`))}),w.writeHead(200,{"Content-Type":"application/zip","Content-Length":a}),C.pipe(w)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${s})`),l.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${p()}, ${s})`),this.nativeUpdater.setFeedURL({url:p(),headers:{"Cache-Control":"no-cache"}}),this.dispatchUpdateDownloaded(n),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",c),this.nativeUpdater.checkForUpdates()):f([])})})}quitAndInstall(){this.squirrelDownloadedUpdate?this.nativeUpdater.quitAndInstall():this.nativeUpdater.on("update-downloaded",()=>{this.nativeUpdater.quitAndInstall()})}}lr.MacUpdater=Uw;var ur={},Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.GenericDifferentialDownloader=void 0;const kw=ar;class Mw extends kw.DifferentialDownloader{download(t,n){return this.doDownload(t,n)}}Oi.GenericDifferentialDownloader=Mw;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.verifySignature=void 0;const Bw=te,Ec=Sr.default,qw=No.default;function Hw(e,t,n){return new Promise(r=>{const i=t.replace(/'/g,"''").replace(/`/g,"``");Ec.execFile("powershell.exe",["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`Get-AuthenticodeSignature '${i}' | ConvertTo-Json -Compress | ForEach-Object { [Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($_)) }`],{timeout:20*1e3},(a,o,s)=>{try{if(a!=null||s){Gw(n,a,s),r(null);return}const l=jw(Buffer.from(o,"base64").toString("utf-8"));if(l.Status===0){const f=Bw.parseDn(l.SignerCertificate.Subject).get("CN");if(e.includes(f)){r(null);return}}const p=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(l,(f,c)=>f==="RawData"?void 0:c,2);n.warn(`Sign verification failed, installer signed with incorrect certificate: ${p}`),r(p)}catch{n.warn(`Cannot execute Get-AuthenticodeSignature: ${a}. Ignoring signature validation due to unknown error.`),r(null);return}})})}Ii.verifySignature=Hw;function jw(e){const t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;const n=t.SignerCertificate;return n!=null&&(delete n.Archived,delete n.Extensions,delete n.Handle,delete n.HasPrivateKey,delete n.SubjectName),delete t.Path,t}function Gw(e,t,n){if(Vw()){e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||n}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{Ec.execFileSync("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(r){e.warn(`Cannot execute ConvertTo-Json: ${r.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}if(t!=null)throw t;if(n){e.warn(`Cannot execute Get-AuthenticodeSignature, stderr: ${n}. Ignoring signature validation due to unknown stderr.`);return}}function Vw(){const e=qw.release();return e.startsWith("6.")&&!e.startsWith("6.3")}Object.defineProperty(ur,"__esModule",{value:!0});ur.NsisUpdater=void 0;const no=te,Yw=Sr.default,ro=re.default,Ww=rr,Xw=ir,zw=Oi,Ni=Ht,Kw=Ee,Jw=ae,Qw=Dt,Zw=Ii,vc=St.default,e_=Ro.default;class t_ extends Ww.BaseUpdater{constructor(t,n){super(t,n)}doDownloadUpdate(t){const n=t.updateInfoAndProvider.provider,r=Jw.findFile(n.resolveFiles(t.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:t,fileInfo:r,task:async(i,a,o,s)=>{const l=r.packageInfo,p=l!=null&&o!=null;(p||await this.differentialDownloadInstaller(r,t,i,n))&&await this.httpExecutor.download(r.url,i,a);const f=await this.verifySignature(i);if(f!=null)throw await s(),no.newError(`New version ${t.updateInfoAndProvider.info.version} is not signed by the application owner: ${f}`,"ERR_UPDATER_INVALID_SIGNATURE");if(p&&await this.differentialDownloadWebPackage(t,l,o,n))try{await this.httpExecutor.download(new vc.URL(l.path),o,{headers:t.requestHeaders,cancellationToken:t.cancellationToken,sha512:l.sha512})}catch(c){try{await Qw.unlink(o)}catch{}throw c}}})}async verifySignature(t){let n;try{if(n=(await this.configOnDisk.value).publisherName,n==null)return null}catch(r){if(r.code==="ENOENT")return null;throw r}return await Zw.verifySignature(Array.isArray(n)?n:[n],t,this._logger)}doInstall(t){const n=["--updated"];t.isSilent&&n.push("/S"),t.isForceRunAfter&&n.push("--force-run");const r=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;r!=null&&n.push(`--package-file=${r}`);const i=()=>{wc(ro.join(process.resourcesPath,"elevate.exe"),[t.installerPath].concat(n)).catch(a=>this.dispatchError(a))};return t.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),i(),!0):(wc(t.installerPath,n).catch(a=>{const o=a.code;this._logger.info(`Cannot run installer: error code: ${o}, error message: "${a.message}", will be executed again using elevate if EACCES"`),o==="UNKNOWN"||o==="EACCES"?i():this.dispatchError(a)}),!0)}async differentialDownloadInstaller(t,n,r,i){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const a=Kw.blockmapFiles(t.url,this.app.version,n.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${a[0]}", new: ${a[1]})`);const o=async p=>{const f=await this.httpExecutor.downloadToBuffer(p,{headers:n.requestHeaders,cancellationToken:n.cancellationToken});if(f==null||f.length===0)throw new Error(`Blockmap "${p.href}" is empty`);try{return JSON.parse(e_.gunzipSync(f).toString())}catch(c){throw new Error(`Cannot parse blockmap "${p.href}", error: ${c}`)}},s={newUrl:t.url,oldFile:ro.join(this.downloadedUpdateHelper.cacheDir,no.CURRENT_APP_INSTALLER_FILE_NAME),logger:this._logger,newFile:r,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,requestHeaders:n.requestHeaders,cancellationToken:n.cancellationToken};this.listenerCount(Ni.DOWNLOAD_PROGRESS)>0&&(s.onProgress=p=>this.emit(Ni.DOWNLOAD_PROGRESS,p));const l=await Promise.all(a.map(p=>o(p)));return await new zw.GenericDifferentialDownloader(t.info,this.httpExecutor,s).download(l[0],l[1]),!1}catch(a){if(this._logger.error(`Cannot download differentially, fallback to full download: ${a.stack||a}`),this._testOnlyOptions!=null)throw a;return!0}}async differentialDownloadWebPackage(t,n,r,i){if(n.blockMapSize==null)return!0;try{const a={newUrl:new vc.URL(n.path),oldFile:ro.join(this.downloadedUpdateHelper.cacheDir,no.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:r,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,cancellationToken:t.cancellationToken};this.listenerCount(Ni.DOWNLOAD_PROGRESS)>0&&(a.onProgress=o=>this.emit(Ni.DOWNLOAD_PROGRESS,o)),await new Xw.FileWithEmbeddedBlockMapDifferentialDownloader(n,this.httpExecutor,a).download()}catch(a){return this._logger.error(`Cannot download differentially, fallback to full download: ${a.stack||a}`),process.platform==="win32"}return!1}}ur.NsisUpdater=t_;async function wc(e,t){return new Promise((n,r)=>{try{const i=Yw.spawn(e,t,{detached:!0,stdio:"ignore"});i.on("error",a=>{r(a)}),i.unref(),i.pid!==void 0&&n(!0)}catch(i){r(i)}})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdaterSignal=e.UPDATE_DOWNLOADED=e.DOWNLOAD_PROGRESS=e.NsisUpdater=e.MacUpdater=e.AppImageUpdater=e.Provider=e.CancellationToken=e.NoOpLogger=e.AppUpdater=void 0;const t=te;Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}});var n=ut;Object.defineProperty(e,"AppUpdater",{enumerable:!0,get:function(){return n.AppUpdater}}),Object.defineProperty(e,"NoOpLogger",{enumerable:!0,get:function(){return n.NoOpLogger}});var r=ae;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return r.Provider}});var i=nr;Object.defineProperty(e,"AppImageUpdater",{enumerable:!0,get:function(){return i.AppImageUpdater}});var a=lr;Object.defineProperty(e,"MacUpdater",{enumerable:!0,get:function(){return a.MacUpdater}});var o=ur;Object.defineProperty(e,"NsisUpdater",{enumerable:!0,get:function(){return o.NsisUpdater}});let s;function l(){return process.platform==="win32"?s=new ur.NsisUpdater:process.platform==="darwin"?s=new lr.MacUpdater:s=new nr.AppImageUpdater,s}Object.defineProperty(e,"autoUpdater",{enumerable:!0,get:()=>s||l()}),e.DOWNLOAD_PROGRESS="download-progress",e.UPDATE_DOWNLOADED="update-downloaded";class p{constructor(m){this.emitter=m}login(m){f(this.emitter,"login",m)}progress(m){f(this.emitter,e.DOWNLOAD_PROGRESS,m)}updateDownloaded(m){f(this.emitter,e.UPDATE_DOWNLOADED,m)}updateCancelled(m){f(this.emitter,"update-cancelled",m)}}e.UpdaterSignal=p;function f(c,m,g){c.on(m,g)}})(Ht);var n_=Xf(Ht),r_=Object.freeze(jf({__proto__:null,[Symbol.toStringTag]:"Module",default:n_},[Ht]));exports.main=r_;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2J1aWxkZXItdXRpbC1ydW50aW1lQDguOS4xL25vZGVfbW9kdWxlcy9idWlsZGVyLXV0aWwtcnVudGltZS9vdXQvQ2FuY2VsbGF0aW9uVG9rZW4uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbXNAMi4xLjIvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RlYnVnQDQuMy4zL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvY29tbW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RlYnVnQDQuMy4zL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9idWlsZGVyLXV0aWwtcnVudGltZUA4LjkuMS9ub2RlX21vZHVsZXMvYnVpbGRlci11dGlsLXJ1bnRpbWUvb3V0L1Byb2dyZXNzQ2FsbGJhY2tUcmFuc2Zvcm0uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYnVpbGRlci11dGlsLXJ1bnRpbWVAOC45LjEvbm9kZV9tb2R1bGVzL2J1aWxkZXItdXRpbC1ydW50aW1lL291dC9odHRwRXhlY3V0b3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYnVpbGRlci11dGlsLXJ1bnRpbWVAOC45LjEvbm9kZV9tb2R1bGVzL2J1aWxkZXItdXRpbC1ydW50aW1lL291dC9wdWJsaXNoT3B0aW9ucy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9idWlsZGVyLXV0aWwtcnVudGltZUA4LjkuMS9ub2RlX21vZHVsZXMvYnVpbGRlci11dGlsLXJ1bnRpbWUvb3V0L3JmYzIyNTNQYXJzZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYnVpbGRlci11dGlsLXJ1bnRpbWVAOC45LjEvbm9kZV9tb2R1bGVzL2J1aWxkZXItdXRpbC1ydW50aW1lL291dC91dWlkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NheEAxLjIuNC9ub2RlX21vZHVsZXMvc2F4L2xpYi9zYXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYnVpbGRlci11dGlsLXJ1bnRpbWVAOC45LjEvbm9kZV9tb2R1bGVzL2J1aWxkZXItdXRpbC1ydW50aW1lL291dC94bWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYnVpbGRlci11dGlsLXJ1bnRpbWVAOC45LjEvbm9kZV9tb2R1bGVzL2J1aWxkZXItdXRpbC1ydW50aW1lL291dC9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91bml2ZXJzYWxpZnlAMi4wLjAvbm9kZV9tb2R1bGVzL3VuaXZlcnNhbGlmeS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9ncmFjZWZ1bC1mc0A0LjIuOS9ub2RlX21vZHVsZXMvZ3JhY2VmdWwtZnMvcG9seWZpbGxzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dyYWNlZnVsLWZzQDQuMi45L25vZGVfbW9kdWxlcy9ncmFjZWZ1bC1mcy9sZWdhY3ktc3RyZWFtcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9ncmFjZWZ1bC1mc0A0LjIuOS9ub2RlX21vZHVsZXMvZ3JhY2VmdWwtZnMvY2xvbmUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZ3JhY2VmdWwtZnNANC4yLjkvbm9kZV9tb2R1bGVzL2dyYWNlZnVsLWZzL2dyYWNlZnVsLWZzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL2ZzL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL21rZGlycy91dGlscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9ta2RpcnMvbWFrZS1kaXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnMtZXh0cmFAMTAuMC4wL25vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvbWtkaXJzL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL3V0aWwvdXRpbWVzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL3V0aWwvc3RhdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9jb3B5LXN5bmMvY29weS1zeW5jLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL2NvcHktc3luYy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9wYXRoLWV4aXN0cy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9jb3B5L2NvcHkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnMtZXh0cmFAMTAuMC4wL25vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvY29weS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9yZW1vdmUvcmltcmFmLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL3JlbW92ZS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9lbXB0eS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9lbnN1cmUvZmlsZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9lbnN1cmUvbGluay5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9lbnN1cmUvc3ltbGluay1wYXRocy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9lbnN1cmUvc3ltbGluay10eXBlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL2Vuc3VyZS9zeW1saW5rLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL2Vuc3VyZS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9qc29uZmlsZUA2LjEuMC9ub2RlX21vZHVsZXMvanNvbmZpbGUvdXRpbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vanNvbmZpbGVANi4xLjAvbm9kZV9tb2R1bGVzL2pzb25maWxlL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL2pzb24vanNvbmZpbGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnMtZXh0cmFAMTAuMC4wL25vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvb3V0cHV0L2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL2pzb24vb3V0cHV0LWpzb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnMtZXh0cmFAMTAuMC4wL25vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvanNvbi9vdXRwdXQtanNvbi1zeW5jLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL2pzb24vaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnMtZXh0cmFAMTAuMC4wL25vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvbW92ZS1zeW5jL21vdmUtc3luYy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcy1leHRyYUAxMC4wLjAvbm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9tb3ZlLXN5bmMvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnMtZXh0cmFAMTAuMC4wL25vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvbW92ZS9tb3ZlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZzLWV4dHJhQDEwLjAuMC9ub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL21vdmUvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnMtZXh0cmFAMTAuMC4wL25vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vanMteWFtbEA0LjEuMC9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvY29tbW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2pzLXlhbWxANC4xLjAvbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2V4Y2VwdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9qcy15YW1sQDQuMS4wL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9zbmlwcGV0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2pzLXlhbWxANC4xLjAvbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3R5cGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vanMteWFtbEA0LjEuMC9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvc2NoZW1hLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2pzLXlhbWxANC4xLjAvbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3R5cGUvc3RyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2pzLXlhbWxANC4xLjAvbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3R5cGUvc2VxLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2pzLXlhbWxANC4xLjAvbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3R5cGUvbWFwLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2pzLXlhbWxANC4xLjAvbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3NjaGVtYS9mYWlsc2FmZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9qcy15YW1sQDQuMS4wL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi90eXBlL251bGwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vanMteWFtbEA0LjEuMC9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS9ib29sLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2pzLXlhbWxANC4xLjAvbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3R5cGUvaW50LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2pzLXlhbWxANC4xLjAvbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3R5cGUvZmxvYXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vanMteWFtbEA0LjEuMC9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvc2NoZW1hL2pzb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vanMteWFtbEA0LjEuMC9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvc2NoZW1hL2NvcmUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vanMteWFtbEA0LjEuMC9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS90aW1lc3RhbXAuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vanMteWFtbEA0LjEuMC9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS9tZXJnZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9qcy15YW1sQDQuMS4wL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi90eXBlL2JpbmFyeS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9qcy15YW1sQDQuMS4wL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi90eXBlL29tYXAuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vanMteWFtbEA0LjEuMC9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS9wYWlycy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9qcy15YW1sQDQuMS4wL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi90eXBlL3NldC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9qcy15YW1sQDQuMS4wL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9zY2hlbWEvZGVmYXVsdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9qcy15YW1sQDQuMS4wL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9sb2FkZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vanMteWFtbEA0LjEuMC9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvZHVtcGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2pzLXlhbWxANC4xLjAvbm9kZV9tb2R1bGVzL2pzLXlhbWwvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbGF6eS12YWxAMS4wLjUvbm9kZV9tb2R1bGVzL2xhenktdmFsL291dC9tYWluLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2ludGVybmFsL2NvbnN0YW50cy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9pbnRlcm5hbC9kZWJ1Zy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9pbnRlcm5hbC9yZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9pbnRlcm5hbC9wYXJzZS1vcHRpb25zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2ludGVybmFsL2lkZW50aWZpZXJzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2NsYXNzZXMvc2VtdmVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9wYXJzZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvdmFsaWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL2NsZWFuLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9pbmMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL2NvbXBhcmUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL2VxLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9kaWZmLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9tYWpvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvbWlub3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL3BhdGNoLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9wcmVyZWxlYXNlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9yY29tcGFyZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvY29tcGFyZS1sb29zZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvY29tcGFyZS1idWlsZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvc29ydC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvcnNvcnQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL2d0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9sdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvbmVxLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9ndGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL2x0ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvY21wLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9jb2VyY2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0veWFsbGlzdEA0LjAuMC9ub2RlX21vZHVsZXMveWFsbGlzdC95YWxsaXN0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xydS1jYWNoZUA2LjAuMC9ub2RlX21vZHVsZXMvbHJ1LWNhY2hlL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2NsYXNzZXMvcmFuZ2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvY2xhc3Nlcy9jb21wYXJhdG9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9zYXRpc2ZpZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvcmFuZ2VzL3RvLWNvbXBhcmF0b3JzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL3Jhbmdlcy9tYXgtc2F0aXNmeWluZy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9yYW5nZXMvbWluLXNhdGlzZnlpbmcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvcmFuZ2VzL21pbi12ZXJzaW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL3Jhbmdlcy92YWxpZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9yYW5nZXMvb3V0c2lkZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZW12ZXJANy4zLjUvbm9kZV9tb2R1bGVzL3NlbXZlci9yYW5nZXMvZ3RyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL3Jhbmdlcy9sdHIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvcmFuZ2VzL2ludGVyc2VjdHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvcmFuZ2VzL3NpbXBsaWZ5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NlbXZlckA3LjMuNS9ub2RlX21vZHVsZXMvc2VtdmVyL3Jhbmdlcy9zdWJzZXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2VtdmVyQDcuMy41L25vZGVfbW9kdWxlcy9zZW12ZXIvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLmlzZXF1YWxANC41LjAvbm9kZV9tb2R1bGVzL2xvZGFzaC5pc2VxdWFsL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L0Rvd25sb2FkZWRVcGRhdGVIZWxwZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlY3Ryb24tdXBkYXRlckA0LjYuMS9ub2RlX21vZHVsZXMvZWxlY3Ryb24tdXBkYXRlci9vdXQvQXBwQWRhcHRlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVjdHJvbi11cGRhdGVyQDQuNi4xL25vZGVfbW9kdWxlcy9lbGVjdHJvbi11cGRhdGVyL291dC9FbGVjdHJvbkFwcEFkYXB0ZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlY3Ryb24tdXBkYXRlckA0LjYuMS9ub2RlX21vZHVsZXMvZWxlY3Ryb24tdXBkYXRlci9vdXQvZWxlY3Ryb25IdHRwRXhlY3V0b3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLmVzY2FwZXJlZ2V4cEA0LjEuMi9ub2RlX21vZHVsZXMvbG9kYXNoLmVzY2FwZXJlZ2V4cC9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVjdHJvbi11cGRhdGVyQDQuNi4xL25vZGVfbW9kdWxlcy9lbGVjdHJvbi11cGRhdGVyL291dC91dGlsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L3Byb3ZpZGVycy9Qcm92aWRlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVjdHJvbi11cGRhdGVyQDQuNi4xL25vZGVfbW9kdWxlcy9lbGVjdHJvbi11cGRhdGVyL291dC9wcm92aWRlcnMvR2VuZXJpY1Byb3ZpZGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2J1aWxkZXItdXRpbC1ydW50aW1lQDguOS4xL25vZGVfbW9kdWxlcy9idWlsZGVyLXV0aWwtcnVudGltZS9vdXQvYmludHJheS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVjdHJvbi11cGRhdGVyQDQuNi4xL25vZGVfbW9kdWxlcy9lbGVjdHJvbi11cGRhdGVyL291dC9wcm92aWRlcnMvQmludHJheVByb3ZpZGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L3Byb3ZpZGVycy9CaXRidWNrZXRQcm92aWRlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVjdHJvbi11cGRhdGVyQDQuNi4xL25vZGVfbW9kdWxlcy9lbGVjdHJvbi11cGRhdGVyL291dC9wcm92aWRlcnMvR2l0SHViUHJvdmlkZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlY3Ryb24tdXBkYXRlckA0LjYuMS9ub2RlX21vZHVsZXMvZWxlY3Ryb24tdXBkYXRlci9vdXQvcHJvdmlkZXJzL0tleWdlblByb3ZpZGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L3Byb3ZpZGVycy9Qcml2YXRlR2l0SHViUHJvdmlkZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlY3Ryb24tdXBkYXRlckA0LjYuMS9ub2RlX21vZHVsZXMvZWxlY3Ryb24tdXBkYXRlci9vdXQvcHJvdmlkZXJGYWN0b3J5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L0FwcFVwZGF0ZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlY3Ryb24tdXBkYXRlckA0LjYuMS9ub2RlX21vZHVsZXMvZWxlY3Ryb24tdXBkYXRlci9vdXQvQmFzZVVwZGF0ZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlY3Ryb24tdXBkYXRlckA0LjYuMS9ub2RlX21vZHVsZXMvZWxlY3Ryb24tdXBkYXRlci9vdXQvZGlmZmVyZW50aWFsRG93bmxvYWRlci9kb3dubG9hZFBsYW5CdWlsZGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L2RpZmZlcmVudGlhbERvd25sb2FkZXIvRGF0YVNwbGl0dGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L2RpZmZlcmVudGlhbERvd25sb2FkZXIvbXVsdGlwbGVSYW5nZURvd25sb2FkZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlY3Ryb24tdXBkYXRlckA0LjYuMS9ub2RlX21vZHVsZXMvZWxlY3Ryb24tdXBkYXRlci9vdXQvZGlmZmVyZW50aWFsRG93bmxvYWRlci9Qcm9ncmVzc0RpZmZlcmVudGlhbERvd25sb2FkQ2FsbGJhY2tUcmFuc2Zvcm0uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlY3Ryb24tdXBkYXRlckA0LjYuMS9ub2RlX21vZHVsZXMvZWxlY3Ryb24tdXBkYXRlci9vdXQvZGlmZmVyZW50aWFsRG93bmxvYWRlci9EaWZmZXJlbnRpYWxEb3dubG9hZGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L2RpZmZlcmVudGlhbERvd25sb2FkZXIvRmlsZVdpdGhFbWJlZGRlZEJsb2NrTWFwRGlmZmVyZW50aWFsRG93bmxvYWRlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVjdHJvbi11cGRhdGVyQDQuNi4xL25vZGVfbW9kdWxlcy9lbGVjdHJvbi11cGRhdGVyL291dC9BcHBJbWFnZVVwZGF0ZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlY3Ryb24tdXBkYXRlckA0LjYuMS9ub2RlX21vZHVsZXMvZWxlY3Ryb24tdXBkYXRlci9vdXQvTWFjVXBkYXRlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVjdHJvbi11cGRhdGVyQDQuNi4xL25vZGVfbW9kdWxlcy9lbGVjdHJvbi11cGRhdGVyL291dC9kaWZmZXJlbnRpYWxEb3dubG9hZGVyL0dlbmVyaWNEaWZmZXJlbnRpYWxEb3dubG9hZGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L3dpbmRvd3NFeGVjdXRhYmxlQ29kZVNpZ25hdHVyZVZlcmlmaWVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L05zaXNVcGRhdGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZWN0cm9uLXVwZGF0ZXJANC42LjEvbm9kZV9tb2R1bGVzL2VsZWN0cm9uLXVwZGF0ZXIvb3V0L21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNhbmNlbGxhdGlvbkVycm9yID0gZXhwb3J0cy5DYW5jZWxsYXRpb25Ub2tlbiA9IHZvaWQgMDtcbmNvbnN0IGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbmNsYXNzIENhbmNlbGxhdGlvblRva2VuIGV4dGVuZHMgZXZlbnRzXzEuRXZlbnRFbWl0dGVyIHtcbiAgICAvLyBiYWJlbCBjYW5ub3QgY29tcGlsZSAuLi4gY29ycmVjdGx5IGZvciBzdXBlciBjYWxsc1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBhcmVudENhbmNlbEhhbmRsZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgY2FuY2VsbGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsbGVkIHx8ICh0aGlzLl9wYXJlbnQgIT0gbnVsbCAmJiB0aGlzLl9wYXJlbnQuY2FuY2VsbGVkKTtcbiAgICB9XG4gICAgc2V0IHBhcmVudCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJlbW92ZVBhcmVudENhbmNlbEhhbmRsZXIoKTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gdmFsdWU7XG4gICAgICAgIHRoaXMucGFyZW50Q2FuY2VsSGFuZGxlciA9ICgpID0+IHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuX3BhcmVudC5vbkNhbmNlbCh0aGlzLnBhcmVudENhbmNlbEhhbmRsZXIpO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHRoaXMuX2NhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdChcImNhbmNlbFwiKTtcbiAgICB9XG4gICAgb25DYW5jZWwoaGFuZGxlcikge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub25jZShcImNhbmNlbFwiLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVQcm9taXNlKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBDYW5jZWxsYXRpb25FcnJvcigpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaW5hbGx5SGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjYW5jZWxIYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKFwiY2FuY2VsXCIsIGNhbmNlbEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGlnbm9yZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxldCBjYW5jZWxIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBhZGRlZENhbmNlbEhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgY2FuY2VsSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWRDYW5jZWxIYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkQ2FuY2VsSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkZWRDYW5jZWxIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBDYW5jZWxsYXRpb25FcnJvcigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25DYW5jZWwoY2FuY2VsSGFuZGxlcik7XG4gICAgICAgICAgICBjYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGFkZGVkQ2FuY2VsSGFuZGxlciA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihpdCA9PiB7XG4gICAgICAgICAgICBmaW5hbGx5SGFuZGxlcigpO1xuICAgICAgICAgICAgcmV0dXJuIGl0O1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgZmluYWxseUhhbmRsZXIoKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVQYXJlbnRDYW5jZWxIYW5kbGVyKCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQgIT0gbnVsbCAmJiB0aGlzLnBhcmVudENhbmNlbEhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUxpc3RlbmVyKFwiY2FuY2VsXCIsIHRoaXMucGFyZW50Q2FuY2VsSGFuZGxlcik7XG4gICAgICAgICAgICB0aGlzLnBhcmVudENhbmNlbEhhbmRsZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVBhcmVudENhbmNlbEhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5DYW5jZWxsYXRpb25Ub2tlbiA9IENhbmNlbGxhdGlvblRva2VuO1xuY2xhc3MgQ2FuY2VsbGF0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwiY2FuY2VsbGVkXCIpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2FuY2VsbGF0aW9uRXJyb3IgPSBDYW5jZWxsYXRpb25FcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbmNlbGxhdGlvblRva2VuLmpzLm1hcCIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cblxuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG5cdGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuXHRjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcblx0Y3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXHRjcmVhdGVEZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblxuXHRPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goa2V5ID0+IHtcblx0XHRjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG5cdH0pO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cdFx0bGV0IG5hbWVzcGFjZXNDYWNoZTtcblx0XHRsZXQgZW5hYmxlZENhY2hlO1xuXG5cdFx0ZnVuY3Rpb24gZGVidWcoLi4uYXJncykge1xuXHRcdFx0Ly8gRGlzYWJsZWQ/XG5cdFx0XHRpZiAoIWRlYnVnLmVuYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxmID0gZGVidWc7XG5cblx0XHRcdC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cdFx0XHRjb25zdCBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHRcdFx0Y29uc3QgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuXHRcdFx0c2VsZi5kaWZmID0gbXM7XG5cdFx0XHRzZWxmLnByZXYgPSBwcmV2VGltZTtcblx0XHRcdHNlbGYuY3VyciA9IGN1cnI7XG5cdFx0XHRwcmV2VGltZSA9IGN1cnI7XG5cblx0XHRcdGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Ly8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cblx0XHRcdFx0YXJncy51bnNoaWZ0KCclTycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXHRcdFx0bGV0IGluZGV4ID0gMDtcblx0XHRcdGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCAobWF0Y2gsIGZvcm1hdCkgPT4ge1xuXHRcdFx0XHQvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG5cdFx0XHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0XHRcdHJldHVybiAnJSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNvbnN0IHZhbCA9IGFyZ3NbaW5kZXhdO1xuXHRcdFx0XHRcdG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuXHRcdFx0XHRcdC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblx0XHRcdFx0XHRhcmdzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblx0XHRcdGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuXHRcdFx0Y29uc3QgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG5cdFx0XHRsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcblx0XHR9XG5cblx0XHRkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cdFx0ZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG5cdFx0ZGVidWcuY29sb3IgPSBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLmV4dGVuZCA9IGV4dGVuZDtcblx0XHRkZWJ1Zy5kZXN0cm95ID0gY3JlYXRlRGVidWcuZGVzdHJveTsgLy8gWFhYIFRlbXBvcmFyeS4gV2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVidWcsICdlbmFibGVkJywge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdFx0aWYgKGVuYWJsZU92ZXJyaWRlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVuYWJsZU92ZXJyaWRlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChuYW1lc3BhY2VzQ2FjaGUgIT09IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMpIHtcblx0XHRcdFx0XHRuYW1lc3BhY2VzQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzO1xuXHRcdFx0XHRcdGVuYWJsZWRDYWNoZSA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbmFibGVkQ2FjaGU7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiB2ID0+IHtcblx0XHRcdFx0ZW5hYmxlT3ZlcnJpZGUgPSB2O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblx0XHRpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWJ1Zztcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuXHRcdGNvbnN0IG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcblx0XHRuZXdEZWJ1Zy5sb2cgPSB0aGlzLmxvZztcblx0XHRyZXR1cm4gbmV3RGVidWc7XG5cdH1cblxuXHQvKipcblx0KiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG5cdCogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcblx0XHRjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuXHRcdGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzO1xuXG5cdFx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0XHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdFx0bGV0IGk7XG5cdFx0Y29uc3Qgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuXHRcdGNvbnN0IGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKCFzcGxpdFtpXSkge1xuXHRcdFx0XHQvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG5cblx0XHRcdGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuXHQqXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZGlzYWJsZSgpIHtcblx0XHRjb25zdCBuYW1lc3BhY2VzID0gW1xuXHRcdFx0Li4uY3JlYXRlRGVidWcubmFtZXMubWFwKHRvTmFtZXNwYWNlKSxcblx0XHRcdC4uLmNyZWF0ZURlYnVnLnNraXBzLm1hcCh0b05hbWVzcGFjZSkubWFwKG5hbWVzcGFjZSA9PiAnLScgKyBuYW1lc3BhY2UpXG5cdFx0XS5qb2luKCcsJyk7XG5cdFx0Y3JlYXRlRGVidWcuZW5hYmxlKCcnKTtcblx0XHRyZXR1cm4gbmFtZXNwYWNlcztcblx0fVxuXG5cdC8qKlxuXHQqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCogQHJldHVybiB7Qm9vbGVhbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcblx0XHRpZiAobmFtZVtuYW1lLmxlbmd0aCAtIDFdID09PSAnKicpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGxldCBpO1xuXHRcdGxldCBsZW47XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoY3JlYXRlRGVidWcubmFtZXNbaV0udGVzdChuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0KiBDb252ZXJ0IHJlZ2V4cCB0byBuYW1lc3BhY2Vcblx0KlxuXHQqIEBwYXJhbSB7UmVnRXhwfSByZWd4ZXBcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiB0b05hbWVzcGFjZShyZWdleHApIHtcblx0XHRyZXR1cm4gcmVnZXhwLnRvU3RyaW5nKClcblx0XHRcdC5zdWJzdHJpbmcoMiwgcmVnZXhwLnRvU3RyaW5nKCkubGVuZ3RoIC0gMilcblx0XHRcdC5yZXBsYWNlKC9cXC5cXCpcXD8kLywgJyonKTtcblx0fVxuXG5cdC8qKlxuXHQqIENvZXJjZSBgdmFsYC5cblx0KlxuXHQqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuXHQqIEByZXR1cm4ge01peGVkfVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBjb2VyY2UodmFsKSB7XG5cdFx0aWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRyZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cblx0LyoqXG5cdCogWFhYIERPIE5PVCBVU0UuIFRoaXMgaXMgYSB0ZW1wb3Jhcnkgc3R1YiBmdW5jdGlvbi5cblx0KiBYWFggSXQgV0lMTCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cdCovXG5cdGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdH1cblxuXHRjcmVhdGVEZWJ1Zy5lbmFibGUoY3JlYXRlRGVidWcubG9hZCgpKTtcblxuXHRyZXR1cm4gY3JlYXRlRGVidWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XG4iLCIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSBsb2NhbHN0b3JhZ2UoKTtcbmV4cG9ydHMuZGVzdHJveSA9ICgoKSA9PiB7XG5cdGxldCB3YXJuZWQgPSBmYWxzZTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmICghd2FybmVkKSB7XG5cdFx0XHR3YXJuZWQgPSB0cnVlO1xuXHRcdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdFx0fVxuXHR9O1xufSkoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG5cdCcjMDAwMENDJyxcblx0JyMwMDAwRkYnLFxuXHQnIzAwMzNDQycsXG5cdCcjMDAzM0ZGJyxcblx0JyMwMDY2Q0MnLFxuXHQnIzAwNjZGRicsXG5cdCcjMDA5OUNDJyxcblx0JyMwMDk5RkYnLFxuXHQnIzAwQ0MwMCcsXG5cdCcjMDBDQzMzJyxcblx0JyMwMENDNjYnLFxuXHQnIzAwQ0M5OScsXG5cdCcjMDBDQ0NDJyxcblx0JyMwMENDRkYnLFxuXHQnIzMzMDBDQycsXG5cdCcjMzMwMEZGJyxcblx0JyMzMzMzQ0MnLFxuXHQnIzMzMzNGRicsXG5cdCcjMzM2NkNDJyxcblx0JyMzMzY2RkYnLFxuXHQnIzMzOTlDQycsXG5cdCcjMzM5OUZGJyxcblx0JyMzM0NDMDAnLFxuXHQnIzMzQ0MzMycsXG5cdCcjMzNDQzY2Jyxcblx0JyMzM0NDOTknLFxuXHQnIzMzQ0NDQycsXG5cdCcjMzNDQ0ZGJyxcblx0JyM2NjAwQ0MnLFxuXHQnIzY2MDBGRicsXG5cdCcjNjYzM0NDJyxcblx0JyM2NjMzRkYnLFxuXHQnIzY2Q0MwMCcsXG5cdCcjNjZDQzMzJyxcblx0JyM5OTAwQ0MnLFxuXHQnIzk5MDBGRicsXG5cdCcjOTkzM0NDJyxcblx0JyM5OTMzRkYnLFxuXHQnIzk5Q0MwMCcsXG5cdCcjOTlDQzMzJyxcblx0JyNDQzAwMDAnLFxuXHQnI0NDMDAzMycsXG5cdCcjQ0MwMDY2Jyxcblx0JyNDQzAwOTknLFxuXHQnI0NDMDBDQycsXG5cdCcjQ0MwMEZGJyxcblx0JyNDQzMzMDAnLFxuXHQnI0NDMzMzMycsXG5cdCcjQ0MzMzY2Jyxcblx0JyNDQzMzOTknLFxuXHQnI0NDMzNDQycsXG5cdCcjQ0MzM0ZGJyxcblx0JyNDQzY2MDAnLFxuXHQnI0NDNjYzMycsXG5cdCcjQ0M5OTAwJyxcblx0JyNDQzk5MzMnLFxuXHQnI0NDQ0MwMCcsXG5cdCcjQ0NDQzMzJyxcblx0JyNGRjAwMDAnLFxuXHQnI0ZGMDAzMycsXG5cdCcjRkYwMDY2Jyxcblx0JyNGRjAwOTknLFxuXHQnI0ZGMDBDQycsXG5cdCcjRkYwMEZGJyxcblx0JyNGRjMzMDAnLFxuXHQnI0ZGMzMzMycsXG5cdCcjRkYzMzY2Jyxcblx0JyNGRjMzOTknLFxuXHQnI0ZGMzNDQycsXG5cdCcjRkYzM0ZGJyxcblx0JyNGRjY2MDAnLFxuXHQnI0ZGNjYzMycsXG5cdCcjRkY5OTAwJyxcblx0JyNGRjk5MzMnLFxuXHQnI0ZGQ0MwMCcsXG5cdCcjRkZDQzMzJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuXHQvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG5cdC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG5cdC8vIGV4cGxpY2l0bHlcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmICh3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHdpbmRvdy5wcm9jZXNzLl9fbndqcykpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIEludGVybmV0IEV4cGxvcmVyIGFuZCBFZGdlIGRvIG5vdCBzdXBwb3J0IGNvbG9ycy5cblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gSXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcblx0Ly8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcblx0cmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG5cdFx0Ly8gSXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuXHRcdCh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG5cdFx0Ly8gSXMgZmlyZWZveCA+PSB2MzE/XG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG5cdFx0Ly8gRG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG5cdGFyZ3NbMF0gPSAodGhpcy51c2VDb2xvcnMgPyAnJWMnIDogJycpICtcblx0XHR0aGlzLm5hbWVzcGFjZSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyAlYycgOiAnICcpICtcblx0XHRhcmdzWzBdICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnJWMgJyA6ICcgJykgK1xuXHRcdCcrJyArIG1vZHVsZS5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cblx0aWYgKCF0aGlzLnVzZUNvbG9ycykge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuXHRhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKTtcblxuXHQvLyBUaGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuXHQvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG5cdC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuXHRsZXQgaW5kZXggPSAwO1xuXHRsZXQgbGFzdEMgPSAwO1xuXHRhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgbWF0Y2ggPT4ge1xuXHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpbmRleCsrO1xuXHRcdGlmIChtYXRjaCA9PT0gJyVjJykge1xuXHRcdFx0Ly8gV2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG5cdFx0XHQvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuXHRcdFx0bGFzdEMgPSBpbmRleDtcblx0XHR9XG5cdH0pO1xuXG5cdGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmRlYnVnKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICogSWYgYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhdmFpbGFibGUsIGZhbGxzIGJhY2tcbiAqIHRvIGBjb25zb2xlLmxvZ2AuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0cy5sb2cgPSBjb25zb2xlLmRlYnVnIHx8IGNvbnNvbGUubG9nIHx8ICgoKSA9PiB7fSk7XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcblx0dHJ5IHtcblx0XHRpZiAobmFtZXNwYWNlcykge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnNldEl0ZW0oJ2RlYnVnJywgbmFtZXNwYWNlcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbG9hZCgpIHtcblx0bGV0IHI7XG5cdHRyeSB7XG5cdFx0ciA9IGV4cG9ydHMuc3RvcmFnZS5nZXRJdGVtKCdkZWJ1ZycpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxuXG5cdC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblx0aWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG5cdFx0ciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuXHR9XG5cblx0cmV0dXJuIHI7XG59XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuXHR0cnkge1xuXHRcdC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcblx0XHQvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2U7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcblxuY29uc3Qge2Zvcm1hdHRlcnN9ID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuXHR9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlByb2dyZXNzQ2FsbGJhY2tUcmFuc2Zvcm0gPSB2b2lkIDA7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5jbGFzcyBQcm9ncmVzc0NhbGxiYWNrVHJhbnNmb3JtIGV4dGVuZHMgc3RyZWFtXzEuVHJhbnNmb3JtIHtcbiAgICBjb25zdHJ1Y3Rvcih0b3RhbCwgY2FuY2VsbGF0aW9uVG9rZW4sIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50b3RhbCA9IHRvdGFsO1xuICAgICAgICB0aGlzLmNhbmNlbGxhdGlvblRva2VuID0gY2FuY2VsbGF0aW9uVG9rZW47XG4gICAgICAgIHRoaXMub25Qcm9ncmVzcyA9IG9uUHJvZ3Jlc3M7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLnRyYW5zZmVycmVkID0gMDtcbiAgICAgICAgdGhpcy5kZWx0YSA9IDA7XG4gICAgICAgIHRoaXMubmV4dFVwZGF0ZSA9IHRoaXMuc3RhcnQgKyAxMDAwO1xuICAgIH1cbiAgICBfdHJhbnNmb3JtKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsbGF0aW9uVG9rZW4uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoXCJjYW5jZWxsZWRcIiksIG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNmZXJyZWQgKz0gY2h1bmsubGVuZ3RoO1xuICAgICAgICB0aGlzLmRlbHRhICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKG5vdyA+PSB0aGlzLm5leHRVcGRhdGUgJiYgdGhpcy50cmFuc2ZlcnJlZCAhPT0gdGhpcy50b3RhbCAvKiB3aWxsIGJlIGVtaXR0ZWQgb24gX2ZsdXNoICovKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRVcGRhdGUgPSBub3cgKyAxMDAwO1xuICAgICAgICAgICAgdGhpcy5vblByb2dyZXNzKHtcbiAgICAgICAgICAgICAgICB0b3RhbDogdGhpcy50b3RhbCxcbiAgICAgICAgICAgICAgICBkZWx0YTogdGhpcy5kZWx0YSxcbiAgICAgICAgICAgICAgICB0cmFuc2ZlcnJlZDogdGhpcy50cmFuc2ZlcnJlZCxcbiAgICAgICAgICAgICAgICBwZXJjZW50OiAodGhpcy50cmFuc2ZlcnJlZCAvIHRoaXMudG90YWwpICogMTAwLFxuICAgICAgICAgICAgICAgIGJ5dGVzUGVyU2Vjb25kOiBNYXRoLnJvdW5kKHRoaXMudHJhbnNmZXJyZWQgLyAoKG5vdyAtIHRoaXMuc3RhcnQpIC8gMTAwMCkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmRlbHRhID0gMDtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhudWxsLCBjaHVuayk7XG4gICAgfVxuICAgIF9mbHVzaChjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxsYXRpb25Ub2tlbi5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcihcImNhbmNlbGxlZFwiKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vblByb2dyZXNzKHtcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzLnRvdGFsLFxuICAgICAgICAgICAgZGVsdGE6IHRoaXMuZGVsdGEsXG4gICAgICAgICAgICB0cmFuc2ZlcnJlZDogdGhpcy50b3RhbCxcbiAgICAgICAgICAgIHBlcmNlbnQ6IDEwMCxcbiAgICAgICAgICAgIGJ5dGVzUGVyU2Vjb25kOiBNYXRoLnJvdW5kKHRoaXMudHJhbnNmZXJyZWQgLyAoKERhdGUubm93KCkgLSB0aGlzLnN0YXJ0KSAvIDEwMDApKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsdGEgPSAwO1xuICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICB9XG59XG5leHBvcnRzLlByb2dyZXNzQ2FsbGJhY2tUcmFuc2Zvcm0gPSBQcm9ncmVzc0NhbGxiYWNrVHJhbnNmb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJvZ3Jlc3NDYWxsYmFja1RyYW5zZm9ybS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2FmZVN0cmluZ2lmeUpzb24gPSBleHBvcnRzLmNvbmZpZ3VyZVJlcXVlc3RPcHRpb25zID0gZXhwb3J0cy5zYWZlR2V0SGVhZGVyID0gZXhwb3J0cy5EaWdlc3RUcmFuc2Zvcm0gPSBleHBvcnRzLmNvbmZpZ3VyZVJlcXVlc3RVcmwgPSBleHBvcnRzLmNvbmZpZ3VyZVJlcXVlc3RPcHRpb25zRnJvbVVybCA9IGV4cG9ydHMuSHR0cEV4ZWN1dG9yID0gZXhwb3J0cy5wYXJzZUpzb24gPSBleHBvcnRzLkh0dHBFcnJvciA9IGV4cG9ydHMuY3JlYXRlSHR0cEVycm9yID0gdm9pZCAwO1xuY29uc3QgY3J5cHRvXzEgPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IGZzXzEgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5jb25zdCB1cmxfMSA9IHJlcXVpcmUoXCJ1cmxcIik7XG5jb25zdCBDYW5jZWxsYXRpb25Ub2tlbl8xID0gcmVxdWlyZShcIi4vQ2FuY2VsbGF0aW9uVG9rZW5cIik7XG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIi4vaW5kZXhcIik7XG5jb25zdCBQcm9ncmVzc0NhbGxiYWNrVHJhbnNmb3JtXzEgPSByZXF1aXJlKFwiLi9Qcm9ncmVzc0NhbGxiYWNrVHJhbnNmb3JtXCIpO1xuY29uc3QgZGVidWcgPSBkZWJ1Z18xLmRlZmF1bHQoXCJlbGVjdHJvbi1idWlsZGVyXCIpO1xuZnVuY3Rpb24gY3JlYXRlSHR0cEVycm9yKHJlc3BvbnNlLCBkZXNjcmlwdGlvbiA9IG51bGwpIHtcbiAgICByZXR1cm4gbmV3IEh0dHBFcnJvcihyZXNwb25zZS5zdGF0dXNDb2RlIHx8IC0xLCBgJHtyZXNwb25zZS5zdGF0dXNDb2RlfSAke3Jlc3BvbnNlLnN0YXR1c01lc3NhZ2V9YCArXG4gICAgICAgIChkZXNjcmlwdGlvbiA9PSBudWxsID8gXCJcIiA6IFwiXFxuXCIgKyBKU09OLnN0cmluZ2lmeShkZXNjcmlwdGlvbiwgbnVsbCwgXCIgIFwiKSkgK1xuICAgICAgICBcIlxcbkhlYWRlcnM6IFwiICtcbiAgICAgICAgc2FmZVN0cmluZ2lmeUpzb24ocmVzcG9uc2UuaGVhZGVycyksIGRlc2NyaXB0aW9uKTtcbn1cbmV4cG9ydHMuY3JlYXRlSHR0cEVycm9yID0gY3JlYXRlSHR0cEVycm9yO1xuY29uc3QgSFRUUF9TVEFUVVNfQ09ERVMgPSBuZXcgTWFwKFtcbiAgICBbNDI5LCBcIlRvbyBtYW55IHJlcXVlc3RzXCJdLFxuICAgIFs0MDAsIFwiQmFkIHJlcXVlc3RcIl0sXG4gICAgWzQwMywgXCJGb3JiaWRkZW5cIl0sXG4gICAgWzQwNCwgXCJOb3QgZm91bmRcIl0sXG4gICAgWzQwNSwgXCJNZXRob2Qgbm90IGFsbG93ZWRcIl0sXG4gICAgWzQwNiwgXCJOb3QgYWNjZXB0YWJsZVwiXSxcbiAgICBbNDA4LCBcIlJlcXVlc3QgdGltZW91dFwiXSxcbiAgICBbNDEzLCBcIlJlcXVlc3QgZW50aXR5IHRvbyBsYXJnZVwiXSxcbiAgICBbNTAwLCBcIkludGVybmFsIHNlcnZlciBlcnJvclwiXSxcbiAgICBbNTAyLCBcIkJhZCBnYXRld2F5XCJdLFxuICAgIFs1MDMsIFwiU2VydmljZSB1bmF2YWlsYWJsZVwiXSxcbiAgICBbNTA0LCBcIkdhdGV3YXkgdGltZW91dFwiXSxcbiAgICBbNTA1LCBcIkhUVFAgdmVyc2lvbiBub3Qgc3VwcG9ydGVkXCJdLFxuXSk7XG5jbGFzcyBIdHRwRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc3RhdHVzQ29kZSwgbWVzc2FnZSA9IGBIVFRQIGVycm9yOiAke0hUVFBfU1RBVFVTX0NPREVTLmdldChzdGF0dXNDb2RlKSB8fCBzdGF0dXNDb2RlfWAsIGRlc2NyaXB0aW9uID0gbnVsbCkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkh0dHBFcnJvclwiO1xuICAgICAgICB0aGlzLmNvZGUgPSBgSFRUUF9FUlJPUl8ke3N0YXR1c0NvZGV9YDtcbiAgICB9XG4gICAgaXNTZXJ2ZXJFcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzQ29kZSA+PSA1MDAgJiYgdGhpcy5zdGF0dXNDb2RlIDw9IDU5OTtcbiAgICB9XG59XG5leHBvcnRzLkh0dHBFcnJvciA9IEh0dHBFcnJvcjtcbmZ1bmN0aW9uIHBhcnNlSnNvbihyZXN1bHQpIHtcbiAgICByZXR1cm4gcmVzdWx0LnRoZW4oaXQgPT4gKGl0ID09IG51bGwgfHwgaXQubGVuZ3RoID09PSAwID8gbnVsbCA6IEpTT04ucGFyc2UoaXQpKSk7XG59XG5leHBvcnRzLnBhcnNlSnNvbiA9IHBhcnNlSnNvbjtcbmNsYXNzIEh0dHBFeGVjdXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWF4UmVkaXJlY3RzID0gMTA7XG4gICAgfVxuICAgIHJlcXVlc3Qob3B0aW9ucywgY2FuY2VsbGF0aW9uVG9rZW4gPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW5fMS5DYW5jZWxsYXRpb25Ub2tlbigpLCBkYXRhKSB7XG4gICAgICAgIGNvbmZpZ3VyZVJlcXVlc3RPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBqc29uID0gZGF0YSA9PSBudWxsID8gdW5kZWZpbmVkIDogSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIGNvbnN0IGVuY29kZWREYXRhID0ganNvbiA/IEJ1ZmZlci5mcm9tKGpzb24pIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoZW5jb2RlZERhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgZGVidWcoanNvbik7XG4gICAgICAgICAgICBjb25zdCB7IGhlYWRlcnMsIC4uLm9wdHMgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LUxlbmd0aFwiOiBlbmNvZGVkRGF0YS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kb0FwaVJlcXVlc3Qob3B0aW9ucywgY2FuY2VsbGF0aW9uVG9rZW4sIGl0ID0+IGl0LmVuZChlbmNvZGVkRGF0YSkpO1xuICAgIH1cbiAgICBkb0FwaVJlcXVlc3Qob3B0aW9ucywgY2FuY2VsbGF0aW9uVG9rZW4sIHJlcXVlc3RQcm9jZXNzb3IsIHJlZGlyZWN0Q291bnQgPSAwKSB7XG4gICAgICAgIGlmIChkZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBkZWJ1ZyhgUmVxdWVzdDogJHtzYWZlU3RyaW5naWZ5SnNvbihvcHRpb25zKX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FuY2VsbGF0aW9uVG9rZW4uY3JlYXRlUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0LCBvbkNhbmNlbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuY3JlYXRlUmVxdWVzdChvcHRpb25zLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlLCBvcHRpb25zLCBjYW5jZWxsYXRpb25Ub2tlbiwgcmVzb2x2ZSwgcmVqZWN0LCByZWRpcmVjdENvdW50LCByZXF1ZXN0UHJvY2Vzc29yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5hZGRFcnJvckFuZFRpbWVvdXRIYW5kbGVycyhyZXF1ZXN0LCByZWplY3QpO1xuICAgICAgICAgICAgdGhpcy5hZGRSZWRpcmVjdEhhbmRsZXJzKHJlcXVlc3QsIG9wdGlvbnMsIHJlamVjdCwgcmVkaXJlY3RDb3VudCwgb3B0aW9ucyA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb0FwaVJlcXVlc3Qob3B0aW9ucywgY2FuY2VsbGF0aW9uVG9rZW4sIHJlcXVlc3RQcm9jZXNzb3IsIHJlZGlyZWN0Q291bnQpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVxdWVzdFByb2Nlc3NvcihyZXF1ZXN0LCByZWplY3QpO1xuICAgICAgICAgICAgb25DYW5jZWwoKCkgPT4gcmVxdWVzdC5hYm9ydCgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZExvY2FsU3ltYm9sc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGFkZFJlZGlyZWN0SGFuZGxlcnMocmVxdWVzdCwgb3B0aW9ucywgcmVqZWN0LCByZWRpcmVjdENvdW50LCBoYW5kbGVyKSB7XG4gICAgICAgIC8vIG5vdCByZXF1aXJlZCBmb3IgTm9kZUpTXG4gICAgfVxuICAgIGFkZEVycm9yQW5kVGltZW91dEhhbmRsZXJzKHJlcXVlc3QsIHJlamVjdCkge1xuICAgICAgICB0aGlzLmFkZFRpbWVPdXRIYW5kbGVyKHJlcXVlc3QsIHJlamVjdCk7XG4gICAgICAgIHJlcXVlc3Qub24oXCJlcnJvclwiLCByZWplY3QpO1xuICAgICAgICByZXF1ZXN0Lm9uKFwiYWJvcnRlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiUmVxdWVzdCBoYXMgYmVlbiBhYm9ydGVkIGJ5IHRoZSBzZXJ2ZXJcIikpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UsIG9wdGlvbnMsIGNhbmNlbGxhdGlvblRva2VuLCByZXNvbHZlLCByZWplY3QsIHJlZGlyZWN0Q291bnQsIHJlcXVlc3RQcm9jZXNzb3IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgZGVidWcoYFJlc3BvbnNlOiAke3Jlc3BvbnNlLnN0YXR1c0NvZGV9ICR7cmVzcG9uc2Uuc3RhdHVzTWVzc2FnZX0sIHJlcXVlc3Qgb3B0aW9uczogJHtzYWZlU3RyaW5naWZ5SnNvbihvcHRpb25zKX1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBoYW5kbGUgYW55IG90aGVyID49IDQwMCBlcnJvciBvbiByZXF1ZXN0IGVuZCAocmVhZCBkZXRhaWxlZCBtZXNzYWdlIGluIHRoZSByZXNwb25zZSBib2R5KVxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDA0KSB7XG4gICAgICAgICAgICAvLyBlcnJvciBpcyBjbGVhciwgd2UgZG9uJ3QgbmVlZCB0byByZWFkIGRldGFpbGVkIGVycm9yIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICByZWplY3QoY3JlYXRlSHR0cEVycm9yKHJlc3BvbnNlLCBgbWV0aG9kOiAke29wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCJ9IHVybDogJHtvcHRpb25zLnByb3RvY29sIHx8IFwiaHR0cHM6XCJ9Ly8ke29wdGlvbnMuaG9zdG5hbWV9JHtvcHRpb25zLnBvcnQgPyBgOiR7b3B0aW9ucy5wb3J0fWAgOiBcIlwifSR7b3B0aW9ucy5wYXRofVxuXG5QbGVhc2UgZG91YmxlIGNoZWNrIHRoYXQgeW91ciBhdXRoZW50aWNhdGlvbiB0b2tlbiBpcyBjb3JyZWN0LiBEdWUgdG8gc2VjdXJpdHkgcmVhc29ucywgYWN0dWFsIHN0YXR1cyBtYXliZSBub3QgcmVwb3J0ZWQsIGJ1dCA0MDQuXG5gKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gMjA0KSB7XG4gICAgICAgICAgICAvLyBvbiBERUxFVEUgcmVxdWVzdFxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvZGUgPSAoX2EgPSByZXNwb25zZS5zdGF0dXNDb2RlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwO1xuICAgICAgICBjb25zdCBzaG91bGRSZWRpcmVjdCA9IGNvZGUgPj0gMzAwICYmIGNvZGUgPCA0MDA7XG4gICAgICAgIGNvbnN0IHJlZGlyZWN0VXJsID0gc2FmZUdldEhlYWRlcihyZXNwb25zZSwgXCJsb2NhdGlvblwiKTtcbiAgICAgICAgaWYgKHNob3VsZFJlZGlyZWN0ICYmIHJlZGlyZWN0VXJsICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChyZWRpcmVjdENvdW50ID4gdGhpcy5tYXhSZWRpcmVjdHMpIHtcbiAgICAgICAgICAgICAgICByZWplY3QodGhpcy5jcmVhdGVNYXhSZWRpcmVjdEVycm9yKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZG9BcGlSZXF1ZXN0KEh0dHBFeGVjdXRvci5wcmVwYXJlUmVkaXJlY3RVcmxPcHRpb25zKHJlZGlyZWN0VXJsLCBvcHRpb25zKSwgY2FuY2VsbGF0aW9uVG9rZW4sIHJlcXVlc3RQcm9jZXNzb3IsIHJlZGlyZWN0Q291bnQpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXNwb25zZS5zZXRFbmNvZGluZyhcInV0ZjhcIik7XG4gICAgICAgIGxldCBkYXRhID0gXCJcIjtcbiAgICAgICAgcmVzcG9uc2Uub24oXCJlcnJvclwiLCByZWplY3QpO1xuICAgICAgICByZXNwb25zZS5vbihcImRhdGFcIiwgKGNodW5rKSA9PiAoZGF0YSArPSBjaHVuaykpO1xuICAgICAgICByZXNwb25zZS5vbihcImVuZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlICE9IG51bGwgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSBzYWZlR2V0SGVhZGVyKHJlc3BvbnNlLCBcImNvbnRlbnQtdHlwZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNKc29uID0gY29udGVudFR5cGUgIT0gbnVsbCAmJiAoQXJyYXkuaXNBcnJheShjb250ZW50VHlwZSkgPyBjb250ZW50VHlwZS5maW5kKGl0ID0+IGl0LmluY2x1ZGVzKFwianNvblwiKSkgIT0gbnVsbCA6IGNvbnRlbnRUeXBlLmluY2x1ZGVzKFwianNvblwiKSk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChjcmVhdGVIdHRwRXJyb3IocmVzcG9uc2UsIGBtZXRob2Q6ICR7b3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIn0gdXJsOiAke29wdGlvbnMucHJvdG9jb2wgfHwgXCJodHRwczpcIn0vLyR7b3B0aW9ucy5ob3N0bmFtZX0ke29wdGlvbnMucG9ydCA/IGA6JHtvcHRpb25zLnBvcnR9YCA6IFwiXCJ9JHtvcHRpb25zLnBhdGh9XG5cbiAgICAgICAgICBEYXRhOlxuICAgICAgICAgICR7aXNKc29uID8gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZShkYXRhKSkgOiBkYXRhfVxuICAgICAgICAgIGApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YS5sZW5ndGggPT09IDAgPyBudWxsIDogZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBkb3dubG9hZFRvQnVmZmVyKHVybCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gYXdhaXQgb3B0aW9ucy5jYW5jZWxsYXRpb25Ub2tlbi5jcmVhdGVQcm9taXNlKChyZXNvbHZlLCByZWplY3QsIG9uQ2FuY2VsKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBQcml2YXRlR2l0SHViUHJvdmlkZXIgcmVxdWlyZXMgSHR0cEV4ZWN1dG9yLnByZXBhcmVSZWRpcmVjdFVybE9wdGlvbnMgbG9naWMsIHNvLCB3ZSBuZWVkIHRvIHJlZGlyZWN0IG1hbnVhbGx5XG4gICAgICAgICAgICAgICAgcmVkaXJlY3Q6IFwibWFudWFsXCIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uZmlndXJlUmVxdWVzdFVybCh1cmwsIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbmZpZ3VyZVJlcXVlc3RPcHRpb25zKHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuZG9Eb3dubG9hZChyZXF1ZXN0T3B0aW9ucywge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgb25DYW5jZWwsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlSGFuZGxlcjogKHJlc3BvbnNlLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gc2FmZUdldEhlYWRlcihyZXNwb25zZSwgXCJjb250ZW50LWxlbmd0aFwiKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50TGVuZ3RoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSBwYXJzZUludChjb250ZW50TGVuZ3RoLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSA+IDUyNDI4ODAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoXCJNYXhpbXVtIGFsbG93ZWQgc2l6ZSBpcyA1MDAgTUJcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEJ1ZmZlci5hbGxvYyhzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uub24oXCJkYXRhXCIsIChjaHVuaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLmNvcHkocmVzdWx0LCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gY2h1bmsubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gNTI0Mjg4MDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcihcIk1heGltdW0gYWxsb3dlZCBzaXplIGlzIDUwMCBNQlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gQnVmZmVyLmNvbmNhdChbcmVzdWx0LCBjaHVua10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uub24oXCJlbmRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsICYmIHBvc2l0aW9uICE9PSAtMSAmJiBwb3NpdGlvbiAhPT0gcmVzdWx0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcihgUmVjZWl2ZWQgZGF0YSBsZW5ndGggJHtwb3NpdGlvbn0gaXMgbm90IGVxdWFsIHRvIGV4cGVjdGVkICR7cmVzdWx0Lmxlbmd0aH1gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZG9Eb3dubG9hZChyZXF1ZXN0T3B0aW9ucywgb3B0aW9ucywgcmVkaXJlY3RDb3VudCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5jcmVhdGVSZXF1ZXN0KHJlcXVlc3RPcHRpb25zLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID49IDQwMCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2sobmV3IEVycm9yKGBDYW5ub3QgZG93bmxvYWQgXCIke3JlcXVlc3RPcHRpb25zLnByb3RvY29sIHx8IFwiaHR0cHM6XCJ9Ly8ke3JlcXVlc3RPcHRpb25zLmhvc3RuYW1lfSR7cmVxdWVzdE9wdGlvbnMucGF0aH1cIiwgc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzQ29kZX06ICR7cmVzcG9uc2Uuc3RhdHVzTWVzc2FnZX1gKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSXQgaXMgcG9zc2libGUgZm9yIHRoZSByZXNwb25zZSBzdHJlYW0gdG8gZmFpbCwgZS5nLiB3aGVuIGEgbmV0d29yayBpcyBsb3N0IHdoaWxlXG4gICAgICAgICAgICAvLyByZXNwb25zZSBzdHJlYW0gaXMgaW4gcHJvZ3Jlc3MuIFN0b3Agd2FpdGluZyBhbmQgcmVqZWN0IHNvIGNvbnN1bWVyIGNhbiBjYXRjaCB0aGUgZXJyb3IuXG4gICAgICAgICAgICByZXNwb25zZS5vbihcImVycm9yXCIsIG9wdGlvbnMuY2FsbGJhY2spO1xuICAgICAgICAgICAgLy8gdGhpcyBjb2RlIG5vdCByZWxldmFudCBmb3IgRWxlY3Ryb24gKHJlZGlyZWN0IGV2ZW50IGluc3RlYWQgaGFuZGxlZClcbiAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0VXJsID0gc2FmZUdldEhlYWRlcihyZXNwb25zZSwgXCJsb2NhdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChyZWRpcmVjdFVybCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlZGlyZWN0Q291bnQgPCB0aGlzLm1heFJlZGlyZWN0cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvRG93bmxvYWQoSHR0cEV4ZWN1dG9yLnByZXBhcmVSZWRpcmVjdFVybE9wdGlvbnMocmVkaXJlY3RVcmwsIHJlcXVlc3RPcHRpb25zKSwgb3B0aW9ucywgcmVkaXJlY3RDb3VudCsrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2sodGhpcy5jcmVhdGVNYXhSZWRpcmVjdEVycm9yKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZXNwb25zZUhhbmRsZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyZVBpcGVzKG9wdGlvbnMsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucmVzcG9uc2VIYW5kbGVyKHJlc3BvbnNlLCBvcHRpb25zLmNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkRXJyb3JBbmRUaW1lb3V0SGFuZGxlcnMocmVxdWVzdCwgb3B0aW9ucy5jYWxsYmFjayk7XG4gICAgICAgIHRoaXMuYWRkUmVkaXJlY3RIYW5kbGVycyhyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucywgb3B0aW9ucy5jYWxsYmFjaywgcmVkaXJlY3RDb3VudCwgcmVxdWVzdE9wdGlvbnMgPT4ge1xuICAgICAgICAgICAgdGhpcy5kb0Rvd25sb2FkKHJlcXVlc3RPcHRpb25zLCBvcHRpb25zLCByZWRpcmVjdENvdW50KyspO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVxdWVzdC5lbmQoKTtcbiAgICB9XG4gICAgY3JlYXRlTWF4UmVkaXJlY3RFcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihgVG9vIG1hbnkgcmVkaXJlY3RzICg+ICR7dGhpcy5tYXhSZWRpcmVjdHN9KWApO1xuICAgIH1cbiAgICBhZGRUaW1lT3V0SGFuZGxlcihyZXF1ZXN0LCBjYWxsYmFjaykge1xuICAgICAgICByZXF1ZXN0Lm9uKFwic29ja2V0XCIsIChzb2NrZXQpID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5zZXRUaW1lb3V0KDYwICogMTAwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoXCJSZXF1ZXN0IHRpbWVkIG91dFwiKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBwcmVwYXJlUmVkaXJlY3RVcmxPcHRpb25zKHJlZGlyZWN0VXJsLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG5ld09wdGlvbnMgPSBjb25maWd1cmVSZXF1ZXN0T3B0aW9uc0Zyb21VcmwocmVkaXJlY3RVcmwsIHsgLi4ub3B0aW9ucyB9KTtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ld09wdGlvbnMuaGVhZGVycztcbiAgICAgICAgaWYgKGhlYWRlcnMgPT09IG51bGwgfHwgaGVhZGVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGVhZGVycy5hdXRob3JpemF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWROZXdVcmwgPSBuZXcgdXJsXzEuVVJMKHJlZGlyZWN0VXJsKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWROZXdVcmwuaG9zdG5hbWUuZW5kc1dpdGgoXCIuYW1hem9uYXdzLmNvbVwiKSB8fCBwYXJzZWROZXdVcmwuc2VhcmNoUGFyYW1zLmhhcyhcIlgtQW16LUNyZWRlbnRpYWxcIikpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdPcHRpb25zO1xuICAgIH1cbiAgICBzdGF0aWMgcmV0cnlPblNlcnZlckVycm9yKHRhc2ssIG1heFJldHJpZXMgPSAzKSB7XG4gICAgICAgIGZvciAobGV0IGF0dGVtcHROdW1iZXIgPSAwOzsgYXR0ZW1wdE51bWJlcisrKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0TnVtYmVyIDwgbWF4UmV0cmllcyAmJiAoKGUgaW5zdGFuY2VvZiBIdHRwRXJyb3IgJiYgZS5pc1NlcnZlckVycm9yKCkpIHx8IGUuY29kZSA9PT0gXCJFUElQRVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuSHR0cEV4ZWN1dG9yID0gSHR0cEV4ZWN1dG9yO1xuZnVuY3Rpb24gY29uZmlndXJlUmVxdWVzdE9wdGlvbnNGcm9tVXJsKHVybCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNvbmZpZ3VyZVJlcXVlc3RPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbmZpZ3VyZVJlcXVlc3RVcmwobmV3IHVybF8xLlVSTCh1cmwpLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmNvbmZpZ3VyZVJlcXVlc3RPcHRpb25zRnJvbVVybCA9IGNvbmZpZ3VyZVJlcXVlc3RPcHRpb25zRnJvbVVybDtcbmZ1bmN0aW9uIGNvbmZpZ3VyZVJlcXVlc3RVcmwodXJsLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucy5wcm90b2NvbCA9IHVybC5wcm90b2NvbDtcbiAgICBvcHRpb25zLmhvc3RuYW1lID0gdXJsLmhvc3RuYW1lO1xuICAgIGlmICh1cmwucG9ydCkge1xuICAgICAgICBvcHRpb25zLnBvcnQgPSB1cmwucG9ydDtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5wb3J0KSB7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLnBvcnQ7XG4gICAgfVxuICAgIG9wdGlvbnMucGF0aCA9IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7XG59XG5leHBvcnRzLmNvbmZpZ3VyZVJlcXVlc3RVcmwgPSBjb25maWd1cmVSZXF1ZXN0VXJsO1xuY2xhc3MgRGlnZXN0VHJhbnNmb3JtIGV4dGVuZHMgc3RyZWFtXzEuVHJhbnNmb3JtIHtcbiAgICBjb25zdHJ1Y3RvcihleHBlY3RlZCwgYWxnb3JpdGhtID0gXCJzaGE1MTJcIiwgZW5jb2RpbmcgPSBcImJhc2U2NFwiKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZXhwZWN0ZWQgPSBleHBlY3RlZDtcbiAgICAgICAgdGhpcy5hbGdvcml0aG0gPSBhbGdvcml0aG07XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgICAgICAgdGhpcy5fYWN0dWFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc1ZhbGlkYXRlT25FbmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpZ2VzdGVyID0gY3J5cHRvXzEuY3JlYXRlSGFzaChhbGdvcml0aG0pO1xuICAgIH1cbiAgICAvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG4gICAgZ2V0IGFjdHVhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdHVhbDtcbiAgICB9XG4gICAgLy8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuICAgIF90cmFuc2Zvcm0oY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmRpZ2VzdGVyLnVwZGF0ZShjaHVuayk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGNodW5rKTtcbiAgICB9XG4gICAgLy8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuICAgIF9mbHVzaChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9hY3R1YWwgPSB0aGlzLmRpZ2VzdGVyLmRpZ2VzdCh0aGlzLmVuY29kaW5nKTtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZGF0ZU9uRW5kKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgIH1cbiAgICB2YWxpZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdHVhbCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBpbmRleF8xLm5ld0Vycm9yKFwiTm90IGZpbmlzaGVkIHlldFwiLCBcIkVSUl9TVFJFQU1fTk9UX0ZJTklTSEVEXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hY3R1YWwgIT09IHRoaXMuZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IGluZGV4XzEubmV3RXJyb3IoYCR7dGhpcy5hbGdvcml0aG19IGNoZWNrc3VtIG1pc21hdGNoLCBleHBlY3RlZCAke3RoaXMuZXhwZWN0ZWR9LCBnb3QgJHt0aGlzLl9hY3R1YWx9YCwgXCJFUlJfQ0hFQ0tTVU1fTUlTTUFUQ0hcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZXhwb3J0cy5EaWdlc3RUcmFuc2Zvcm0gPSBEaWdlc3RUcmFuc2Zvcm07XG5mdW5jdGlvbiBjaGVja1NoYTIoc2hhMkhlYWRlciwgc2hhMiwgY2FsbGJhY2spIHtcbiAgICBpZiAoc2hhMkhlYWRlciAhPSBudWxsICYmIHNoYTIgIT0gbnVsbCAmJiBzaGEySGVhZGVyICE9PSBzaGEyKSB7XG4gICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcihgY2hlY2tzdW0gbWlzbWF0Y2g6IGV4cGVjdGVkICR7c2hhMn0gYnV0IGdvdCAke3NoYTJIZWFkZXJ9IChYLUNoZWNrc3VtLVNoYTIgaGVhZGVyKWApKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHNhZmVHZXRIZWFkZXIocmVzcG9uc2UsIGhlYWRlcktleSkge1xuICAgIGNvbnN0IHZhbHVlID0gcmVzcG9uc2UuaGVhZGVyc1toZWFkZXJLZXldO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBlbGVjdHJvbiBBUElcbiAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gMCA/IG51bGwgOiB2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5leHBvcnRzLnNhZmVHZXRIZWFkZXIgPSBzYWZlR2V0SGVhZGVyO1xuZnVuY3Rpb24gY29uZmlndXJlUGlwZXMob3B0aW9ucywgcmVzcG9uc2UpIHtcbiAgICBpZiAoIWNoZWNrU2hhMihzYWZlR2V0SGVhZGVyKHJlc3BvbnNlLCBcIlgtQ2hlY2tzdW0tU2hhMlwiKSwgb3B0aW9ucy5vcHRpb25zLnNoYTIsIG9wdGlvbnMuY2FsbGJhY2spKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3RyZWFtcyA9IFtdO1xuICAgIGlmIChvcHRpb25zLm9wdGlvbnMub25Qcm9ncmVzcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSBzYWZlR2V0SGVhZGVyKHJlc3BvbnNlLCBcImNvbnRlbnQtbGVuZ3RoXCIpO1xuICAgICAgICBpZiAoY29udGVudExlbmd0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdHJlYW1zLnB1c2gobmV3IFByb2dyZXNzQ2FsbGJhY2tUcmFuc2Zvcm1fMS5Qcm9ncmVzc0NhbGxiYWNrVHJhbnNmb3JtKHBhcnNlSW50KGNvbnRlbnRMZW5ndGgsIDEwKSwgb3B0aW9ucy5vcHRpb25zLmNhbmNlbGxhdGlvblRva2VuLCBvcHRpb25zLm9wdGlvbnMub25Qcm9ncmVzcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNoYTUxMiA9IG9wdGlvbnMub3B0aW9ucy5zaGE1MTI7XG4gICAgaWYgKHNoYTUxMiAhPSBudWxsKSB7XG4gICAgICAgIHN0cmVhbXMucHVzaChuZXcgRGlnZXN0VHJhbnNmb3JtKHNoYTUxMiwgXCJzaGE1MTJcIiwgc2hhNTEyLmxlbmd0aCA9PT0gMTI4ICYmICFzaGE1MTIuaW5jbHVkZXMoXCIrXCIpICYmICFzaGE1MTIuaW5jbHVkZXMoXCJaXCIpICYmICFzaGE1MTIuaW5jbHVkZXMoXCI9XCIpID8gXCJoZXhcIiA6IFwiYmFzZTY0XCIpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5vcHRpb25zLnNoYTIgIT0gbnVsbCkge1xuICAgICAgICBzdHJlYW1zLnB1c2gobmV3IERpZ2VzdFRyYW5zZm9ybShvcHRpb25zLm9wdGlvbnMuc2hhMiwgXCJzaGEyNTZcIiwgXCJoZXhcIikpO1xuICAgIH1cbiAgICBjb25zdCBmaWxlT3V0ID0gZnNfMS5jcmVhdGVXcml0ZVN0cmVhbShvcHRpb25zLmRlc3RpbmF0aW9uKTtcbiAgICBzdHJlYW1zLnB1c2goZmlsZU91dCk7XG4gICAgbGV0IGxhc3RTdHJlYW0gPSByZXNwb25zZTtcbiAgICBmb3IgKGNvbnN0IHN0cmVhbSBvZiBzdHJlYW1zKSB7XG4gICAgICAgIHN0cmVhbS5vbihcImVycm9yXCIsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLm9wdGlvbnMuY2FuY2VsbGF0aW9uVG9rZW4uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBsYXN0U3RyZWFtID0gbGFzdFN0cmVhbS5waXBlKHN0cmVhbSk7XG4gICAgfVxuICAgIGZpbGVPdXQub24oXCJmaW5pc2hcIiwgKCkgPT4ge1xuICAgICAgICA7XG4gICAgICAgIGZpbGVPdXQuY2xvc2Uob3B0aW9ucy5jYWxsYmFjayk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjb25maWd1cmVSZXF1ZXN0T3B0aW9ucyhvcHRpb25zLCB0b2tlbiwgbWV0aG9kKSB7XG4gICAgaWYgKG1ldGhvZCAhPSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMubWV0aG9kID0gbWV0aG9kO1xuICAgIH1cbiAgICBvcHRpb25zLmhlYWRlcnMgPSB7IC4uLm9wdGlvbnMuaGVhZGVycyB9O1xuICAgIGNvbnN0IGhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gICAgaWYgKHRva2VuICE9IG51bGwpIHtcbiAgICAgICAgO1xuICAgICAgICBoZWFkZXJzLmF1dGhvcml6YXRpb24gPSB0b2tlbi5zdGFydHNXaXRoKFwiQmFzaWNcIikgfHwgdG9rZW4uc3RhcnRzV2l0aChcIkJlYXJlclwiKSA/IHRva2VuIDogYHRva2VuICR7dG9rZW59YDtcbiAgICB9XG4gICAgaWYgKGhlYWRlcnNbXCJVc2VyLUFnZW50XCJdID09IG51bGwpIHtcbiAgICAgICAgaGVhZGVyc1tcIlVzZXItQWdlbnRcIl0gPSBcImVsZWN0cm9uLWJ1aWxkZXJcIjtcbiAgICB9XG4gICAgaWYgKG1ldGhvZCA9PSBudWxsIHx8IG1ldGhvZCA9PT0gXCJHRVRcIiB8fCBoZWFkZXJzW1wiQ2FjaGUtQ29udHJvbFwiXSA9PSBudWxsKSB7XG4gICAgICAgIGhlYWRlcnNbXCJDYWNoZS1Db250cm9sXCJdID0gXCJuby1jYWNoZVwiO1xuICAgIH1cbiAgICAvLyBkbyBub3Qgc3BlY2lmeSBmb3Igbm9kZSAoaW4gYW55IGNhc2Ugd2UgdXNlIGh0dHBzIG1vZHVsZSlcbiAgICBpZiAob3B0aW9ucy5wcm90b2NvbCA9PSBudWxsICYmIHByb2Nlc3MudmVyc2lvbnMuZWxlY3Ryb24gIT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zLnByb3RvY29sID0gXCJodHRwczpcIjtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG5leHBvcnRzLmNvbmZpZ3VyZVJlcXVlc3RPcHRpb25zID0gY29uZmlndXJlUmVxdWVzdE9wdGlvbnM7XG5mdW5jdGlvbiBzYWZlU3RyaW5naWZ5SnNvbihkYXRhLCBza2lwcGVkTmFtZXMpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSwgKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChuYW1lLmVuZHNXaXRoKFwiQXV0aG9yaXphdGlvblwiKSB8fFxuICAgICAgICAgICAgbmFtZS5lbmRzV2l0aChcImF1dGhvcml6YXRpb25cIikgfHxcbiAgICAgICAgICAgIG5hbWUuZW5kc1dpdGgoXCJQYXNzd29yZFwiKSB8fFxuICAgICAgICAgICAgbmFtZS5lbmRzV2l0aChcIlBBU1NXT1JEXCIpIHx8XG4gICAgICAgICAgICBuYW1lLmVuZHNXaXRoKFwiVG9rZW5cIikgfHxcbiAgICAgICAgICAgIG5hbWUuaW5jbHVkZXMoXCJwYXNzd29yZFwiKSB8fFxuICAgICAgICAgICAgbmFtZS5pbmNsdWRlcyhcInRva2VuXCIpIHx8XG4gICAgICAgICAgICAoc2tpcHBlZE5hbWVzICE9IG51bGwgJiYgc2tpcHBlZE5hbWVzLmhhcyhuYW1lKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjxzdHJpcHBlZCBzZW5zaXRpdmUgZGF0YT5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSwgMik7XG59XG5leHBvcnRzLnNhZmVTdHJpbmdpZnlKc29uID0gc2FmZVN0cmluZ2lmeUpzb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwRXhlY3V0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldFMzTGlrZVByb3ZpZGVyQmFzZVVybCA9IGV4cG9ydHMuZ2l0aHViVXJsID0gdm9pZCAwO1xuLyoqIEBwcml2YXRlICovXG5mdW5jdGlvbiBnaXRodWJVcmwob3B0aW9ucywgZGVmYXVsdEhvc3QgPSBcImdpdGh1Yi5jb21cIikge1xuICAgIHJldHVybiBgJHtvcHRpb25zLnByb3RvY29sIHx8IFwiaHR0cHNcIn06Ly8ke29wdGlvbnMuaG9zdCB8fCBkZWZhdWx0SG9zdH1gO1xufVxuZXhwb3J0cy5naXRodWJVcmwgPSBnaXRodWJVcmw7XG5mdW5jdGlvbiBnZXRTM0xpa2VQcm92aWRlckJhc2VVcmwoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gY29uZmlndXJhdGlvbi5wcm92aWRlcjtcbiAgICBpZiAocHJvdmlkZXIgPT09IFwiczNcIikge1xuICAgICAgICByZXR1cm4gczNVcmwoY29uZmlndXJhdGlvbik7XG4gICAgfVxuICAgIGlmIChwcm92aWRlciA9PT0gXCJzcGFjZXNcIikge1xuICAgICAgICByZXR1cm4gc3BhY2VzVXJsKGNvbmZpZ3VyYXRpb24pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBzdXBwb3J0ZWQgcHJvdmlkZXI6ICR7cHJvdmlkZXJ9YCk7XG59XG5leHBvcnRzLmdldFMzTGlrZVByb3ZpZGVyQmFzZVVybCA9IGdldFMzTGlrZVByb3ZpZGVyQmFzZVVybDtcbmZ1bmN0aW9uIHMzVXJsKG9wdGlvbnMpIHtcbiAgICBsZXQgdXJsO1xuICAgIGlmIChvcHRpb25zLmVuZHBvaW50ICE9IG51bGwpIHtcbiAgICAgICAgdXJsID0gYCR7b3B0aW9ucy5lbmRwb2ludH0vJHtvcHRpb25zLmJ1Y2tldH1gO1xuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb25zLmJ1Y2tldC5pbmNsdWRlcyhcIi5cIikpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMucmVnaW9uID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQnVja2V0IG5hbWUgXCIke29wdGlvbnMuYnVja2V0fVwiIGluY2x1ZGVzIGEgZG90LCBidXQgUzMgcmVnaW9uIGlzIG1pc3NpbmdgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzcGVjaWFsIGNhc2UsIHNlZSBodHRwOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9BbWF6b25TMy9sYXRlc3QvZGV2L1VzaW5nQnVja2V0Lmh0bWwjYWNjZXNzLWJ1Y2tldC1pbnRyb1xuICAgICAgICBpZiAob3B0aW9ucy5yZWdpb24gPT09IFwidXMtZWFzdC0xXCIpIHtcbiAgICAgICAgICAgIHVybCA9IGBodHRwczovL3MzLmFtYXpvbmF3cy5jb20vJHtvcHRpb25zLmJ1Y2tldH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdXJsID0gYGh0dHBzOi8vczMtJHtvcHRpb25zLnJlZ2lvbn0uYW1hem9uYXdzLmNvbS8ke29wdGlvbnMuYnVja2V0fWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5yZWdpb24gPT09IFwiY24tbm9ydGgtMVwiKSB7XG4gICAgICAgIHVybCA9IGBodHRwczovLyR7b3B0aW9ucy5idWNrZXR9LnMzLiR7b3B0aW9ucy5yZWdpb259LmFtYXpvbmF3cy5jb20uY25gO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdXJsID0gYGh0dHBzOi8vJHtvcHRpb25zLmJ1Y2tldH0uczMuYW1hem9uYXdzLmNvbWA7XG4gICAgfVxuICAgIHJldHVybiBhcHBlbmRQYXRoKHVybCwgb3B0aW9ucy5wYXRoKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZFBhdGgodXJsLCBwKSB7XG4gICAgaWYgKHAgIT0gbnVsbCAmJiBwLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKCFwLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgICAgICB1cmwgKz0gXCIvXCI7XG4gICAgICAgIH1cbiAgICAgICAgdXJsICs9IHA7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG59XG5mdW5jdGlvbiBzcGFjZXNVcmwob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLm5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG5hbWUgaXMgbWlzc2luZ2ApO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5yZWdpb24gPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlZ2lvbiBpcyBtaXNzaW5nYCk7XG4gICAgfVxuICAgIHJldHVybiBhcHBlbmRQYXRoKGBodHRwczovLyR7b3B0aW9ucy5uYW1lfS4ke29wdGlvbnMucmVnaW9ufS5kaWdpdGFsb2NlYW5zcGFjZXMuY29tYCwgb3B0aW9ucy5wYXRoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1Ymxpc2hPcHRpb25zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZURuID0gdm9pZCAwO1xuZnVuY3Rpb24gcGFyc2VEbihzZXEpIHtcbiAgICBsZXQgcXVvdGVkID0gZmFsc2U7XG4gICAgbGV0IGtleSA9IG51bGw7XG4gICAgbGV0IHRva2VuID0gXCJcIjtcbiAgICBsZXQgbmV4dE5vblNwYWNlID0gMDtcbiAgICBzZXEgPSBzZXEudHJpbSgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBzZXEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPT09IHNlcS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuc2V0KGtleSwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2ggPSBzZXFbaV07XG4gICAgICAgIGlmIChxdW90ZWQpIHtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgIHF1b3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNoID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgcXVvdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaCA9PT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JkID0gcGFyc2VJbnQoc2VxLnNsaWNlKGksIGkgKyAyKSwgMTYpO1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4ob3JkKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiArPSBzZXFbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuICs9IFN0cmluZy5mcm9tQ2hhckNvZGUob3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBudWxsICYmIGNoID09PSBcIj1cIikge1xuICAgICAgICAgICAgICAgIGtleSA9IHRva2VuO1xuICAgICAgICAgICAgICAgIHRva2VuID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaCA9PT0gXCIsXCIgfHwgY2ggPT09IFwiO1wiIHx8IGNoID09PSBcIitcIikge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldChrZXksIHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAga2V5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoID09PSBcIiBcIiAmJiAhcXVvdGVkKSB7XG4gICAgICAgICAgICBpZiAodG9rZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA+IG5leHROb25TcGFjZSkge1xuICAgICAgICAgICAgICAgIGxldCBqID0gaTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc2VxW2pdID09PSBcIiBcIikge1xuICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5leHROb25TcGFjZSA9IGo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dE5vblNwYWNlID49IHNlcS5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICBzZXFbbmV4dE5vblNwYWNlXSA9PT0gXCIsXCIgfHxcbiAgICAgICAgICAgICAgICBzZXFbbmV4dE5vblNwYWNlXSA9PT0gXCI7XCIgfHxcbiAgICAgICAgICAgICAgICAoa2V5ID09PSBudWxsICYmIHNlcVtuZXh0Tm9uU3BhY2VdID09PSBcIj1cIikgfHxcbiAgICAgICAgICAgICAgICAoa2V5ICE9PSBudWxsICYmIHNlcVtuZXh0Tm9uU3BhY2VdID09PSBcIitcIikpIHtcbiAgICAgICAgICAgICAgICBpID0gbmV4dE5vblNwYWNlIC0gMTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0b2tlbiArPSBjaDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMucGFyc2VEbiA9IHBhcnNlRG47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZmMyMjUzUGFyc2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5uaWwgPSBleHBvcnRzLlVVSUQgPSB2b2lkIDA7XG5jb25zdCBjcnlwdG9fMSA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIi4vaW5kZXhcIik7XG5jb25zdCBpbnZhbGlkTmFtZSA9IFwib3B0aW9ucy5uYW1lIG11c3QgYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGEgQnVmZmVyXCI7XG4vLyBOb2RlIElEIGFjY29yZGluZyB0byByZmM0MTIyI3NlY3Rpb24tNC41XG5jb25zdCByYW5kb21Ib3N0ID0gY3J5cHRvXzEucmFuZG9tQnl0ZXMoMTYpO1xucmFuZG9tSG9zdFswXSA9IHJhbmRvbUhvc3RbMF0gfCAweDAxO1xuLy8gbG9va3VwIHRhYmxlIGhleCB0byBieXRlXG5jb25zdCBoZXgyYnl0ZSA9IHt9O1xuLy8gbG9va3VwIHRhYmxlIGJ5dGUgdG8gaGV4XG5jb25zdCBieXRlMmhleCA9IFtdO1xuLy8gcG9wdWxhdGUgbG9va3VwIHRhYmxlc1xuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgIGNvbnN0IGhleCA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG4gICAgaGV4MmJ5dGVbaGV4XSA9IGk7XG4gICAgYnl0ZTJoZXhbaV0gPSBoZXg7XG59XG4vLyBVVUlEIGNsYXNzXG5jbGFzcyBVVUlEIHtcbiAgICBjb25zdHJ1Y3Rvcih1dWlkKSB7XG4gICAgICAgIHRoaXMuYXNjaWkgPSBudWxsO1xuICAgICAgICB0aGlzLmJpbmFyeSA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gVVVJRC5jaGVjayh1dWlkKTtcbiAgICAgICAgaWYgKCFjaGVjaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IGEgVVVJRFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZlcnNpb24gPSBjaGVjay52ZXJzaW9uO1xuICAgICAgICBpZiAoY2hlY2suZm9ybWF0ID09PSBcImFzY2lpXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYXNjaWkgPSB1dWlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iaW5hcnkgPSB1dWlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB2NShuYW1lLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIHV1aWROYW1lZChuYW1lLCBcInNoYTFcIiwgMHg1MCwgbmFtZXNwYWNlKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLmFzY2lpID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYXNjaWkgPSBzdHJpbmdpZnkodGhpcy5iaW5hcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFzY2lpO1xuICAgIH1cbiAgICBpbnNwZWN0KCkge1xuICAgICAgICByZXR1cm4gYFVVSUQgdiR7dGhpcy52ZXJzaW9ufSAke3RoaXMudG9TdHJpbmcoKX1gO1xuICAgIH1cbiAgICBzdGF0aWMgY2hlY2sodXVpZCwgb2Zmc2V0ID0gMCkge1xuICAgICAgICBpZiAodHlwZW9mIHV1aWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHV1aWQgPSB1dWlkLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoIS9eW2EtZjAtOV17OH0oLVthLWYwLTldezR9KXszfS0oW2EtZjAtOV17MTJ9KSQvLnRlc3QodXVpZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXVpZCA9PT0gXCIwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDBcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZlcnNpb246IHVuZGVmaW5lZCwgdmFyaWFudDogXCJuaWxcIiwgZm9ybWF0OiBcImFzY2lpXCIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogKGhleDJieXRlW3V1aWRbMTRdICsgdXVpZFsxNV1dICYgMHhmMCkgPj4gNCxcbiAgICAgICAgICAgICAgICB2YXJpYW50OiBnZXRWYXJpYW50KChoZXgyYnl0ZVt1dWlkWzE5XSArIHV1aWRbMjBdXSAmIDB4ZTApID4+IDUpLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJhc2NpaVwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKHV1aWQpKSB7XG4gICAgICAgICAgICBpZiAodXVpZC5sZW5ndGggPCBvZmZzZXQgKyAxNikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh1dWlkW29mZnNldCArIGldICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID09PSAxNikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZlcnNpb246IHVuZGVmaW5lZCwgdmFyaWFudDogXCJuaWxcIiwgZm9ybWF0OiBcImJpbmFyeVwiIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZlcnNpb246ICh1dWlkW29mZnNldCArIDZdICYgMHhmMCkgPj4gNCxcbiAgICAgICAgICAgICAgICB2YXJpYW50OiBnZXRWYXJpYW50KCh1dWlkW29mZnNldCArIDhdICYgMHhlMCkgPj4gNSksXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBcImJpbmFyeVwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBpbmRleF8xLm5ld0Vycm9yKFwiVW5rbm93biB0eXBlIG9mIHV1aWRcIiwgXCJFUlJfVU5LTk9XTl9VVUlEX1RZUEVcIik7XG4gICAgfVxuICAgIC8vIHJlYWQgc3RyaW5naWZpZWQgdXVpZCBpbnRvIGEgQnVmZmVyXG4gICAgc3RhdGljIHBhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxNik7XG4gICAgICAgIGxldCBqID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICBidWZmZXJbaV0gPSBoZXgyYnl0ZVtpbnB1dFtqKytdICsgaW5wdXRbaisrXV07XG4gICAgICAgICAgICBpZiAoaSA9PT0gMyB8fCBpID09PSA1IHx8IGkgPT09IDcgfHwgaSA9PT0gOSkge1xuICAgICAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cbn1cbmV4cG9ydHMuVVVJRCA9IFVVSUQ7XG4vLyBmcm9tIHJmYzQxMjIjYXBwZW5kaXgtQ1xuVVVJRC5PSUQgPSBVVUlELnBhcnNlKFwiNmJhN2I4MTItOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4XCIpO1xuLy8gYWNjb3JkaW5nIHRvIHJmYzQxMjIjc2VjdGlvbi00LjEuMVxuZnVuY3Rpb24gZ2V0VmFyaWFudChiaXRzKSB7XG4gICAgc3dpdGNoIChiaXRzKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gXCJuY3NcIjtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXR1cm4gXCJyZmM0MTIyXCI7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgIHJldHVybiBcIm1pY3Jvc29mdFwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiZnV0dXJlXCI7XG4gICAgfVxufVxudmFyIFV1aWRFbmNvZGluZztcbihmdW5jdGlvbiAoVXVpZEVuY29kaW5nKSB7XG4gICAgVXVpZEVuY29kaW5nW1V1aWRFbmNvZGluZ1tcIkFTQ0lJXCJdID0gMF0gPSBcIkFTQ0lJXCI7XG4gICAgVXVpZEVuY29kaW5nW1V1aWRFbmNvZGluZ1tcIkJJTkFSWVwiXSA9IDFdID0gXCJCSU5BUllcIjtcbiAgICBVdWlkRW5jb2RpbmdbVXVpZEVuY29kaW5nW1wiT0JKRUNUXCJdID0gMl0gPSBcIk9CSkVDVFwiO1xufSkoVXVpZEVuY29kaW5nIHx8IChVdWlkRW5jb2RpbmcgPSB7fSkpO1xuLy8gdjMgKyB2NVxuZnVuY3Rpb24gdXVpZE5hbWVkKG5hbWUsIGhhc2hNZXRob2QsIHZlcnNpb24sIG5hbWVzcGFjZSwgZW5jb2RpbmcgPSBVdWlkRW5jb2RpbmcuQVNDSUkpIHtcbiAgICBjb25zdCBoYXNoID0gY3J5cHRvXzEuY3JlYXRlSGFzaChoYXNoTWV0aG9kKTtcbiAgICBjb25zdCBuYW1lSXNOb3RBU3RyaW5nID0gdHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCI7XG4gICAgaWYgKG5hbWVJc05vdEFTdHJpbmcgJiYgIUJ1ZmZlci5pc0J1ZmZlcihuYW1lKSkge1xuICAgICAgICB0aHJvdyBpbmRleF8xLm5ld0Vycm9yKGludmFsaWROYW1lLCBcIkVSUl9JTlZBTElEX1VVSURfTkFNRVwiKTtcbiAgICB9XG4gICAgaGFzaC51cGRhdGUobmFtZXNwYWNlKTtcbiAgICBoYXNoLnVwZGF0ZShuYW1lKTtcbiAgICBjb25zdCBidWZmZXIgPSBoYXNoLmRpZ2VzdCgpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgICBjYXNlIFV1aWRFbmNvZGluZy5CSU5BUlk6XG4gICAgICAgICAgICBidWZmZXJbNl0gPSAoYnVmZmVyWzZdICYgMHgwZikgfCB2ZXJzaW9uO1xuICAgICAgICAgICAgYnVmZmVyWzhdID0gKGJ1ZmZlcls4XSAmIDB4M2YpIHwgMHg4MDtcbiAgICAgICAgICAgIHJlc3VsdCA9IGJ1ZmZlcjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFV1aWRFbmNvZGluZy5PQkpFQ1Q6XG4gICAgICAgICAgICBidWZmZXJbNl0gPSAoYnVmZmVyWzZdICYgMHgwZikgfCB2ZXJzaW9uO1xuICAgICAgICAgICAgYnVmZmVyWzhdID0gKGJ1ZmZlcls4XSAmIDB4M2YpIHwgMHg4MDtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBVVUlEKGJ1ZmZlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJlc3VsdCA9XG4gICAgICAgICAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzBdXSArXG4gICAgICAgICAgICAgICAgICAgIGJ5dGUyaGV4W2J1ZmZlclsxXV0gK1xuICAgICAgICAgICAgICAgICAgICBieXRlMmhleFtidWZmZXJbMl1dICtcbiAgICAgICAgICAgICAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzNdXSArXG4gICAgICAgICAgICAgICAgICAgIFwiLVwiICtcbiAgICAgICAgICAgICAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzRdXSArXG4gICAgICAgICAgICAgICAgICAgIGJ5dGUyaGV4W2J1ZmZlcls1XV0gK1xuICAgICAgICAgICAgICAgICAgICBcIi1cIiArXG4gICAgICAgICAgICAgICAgICAgIGJ5dGUyaGV4WyhidWZmZXJbNl0gJiAweDBmKSB8IHZlcnNpb25dICtcbiAgICAgICAgICAgICAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzddXSArXG4gICAgICAgICAgICAgICAgICAgIFwiLVwiICtcbiAgICAgICAgICAgICAgICAgICAgYnl0ZTJoZXhbKGJ1ZmZlcls4XSAmIDB4M2YpIHwgMHg4MF0gK1xuICAgICAgICAgICAgICAgICAgICBieXRlMmhleFtidWZmZXJbOV1dICtcbiAgICAgICAgICAgICAgICAgICAgXCItXCIgK1xuICAgICAgICAgICAgICAgICAgICBieXRlMmhleFtidWZmZXJbMTBdXSArXG4gICAgICAgICAgICAgICAgICAgIGJ5dGUyaGV4W2J1ZmZlclsxMV1dICtcbiAgICAgICAgICAgICAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzEyXV0gK1xuICAgICAgICAgICAgICAgICAgICBieXRlMmhleFtidWZmZXJbMTNdXSArXG4gICAgICAgICAgICAgICAgICAgIGJ5dGUyaGV4W2J1ZmZlclsxNF1dICtcbiAgICAgICAgICAgICAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzE1XV07XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeShidWZmZXIpIHtcbiAgICByZXR1cm4gKGJ5dGUyaGV4W2J1ZmZlclswXV0gK1xuICAgICAgICBieXRlMmhleFtidWZmZXJbMV1dICtcbiAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzJdXSArXG4gICAgICAgIGJ5dGUyaGV4W2J1ZmZlclszXV0gK1xuICAgICAgICBcIi1cIiArXG4gICAgICAgIGJ5dGUyaGV4W2J1ZmZlcls0XV0gK1xuICAgICAgICBieXRlMmhleFtidWZmZXJbNV1dICtcbiAgICAgICAgXCItXCIgK1xuICAgICAgICBieXRlMmhleFtidWZmZXJbNl1dICtcbiAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzddXSArXG4gICAgICAgIFwiLVwiICtcbiAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzhdXSArXG4gICAgICAgIGJ5dGUyaGV4W2J1ZmZlcls5XV0gK1xuICAgICAgICBcIi1cIiArXG4gICAgICAgIGJ5dGUyaGV4W2J1ZmZlclsxMF1dICtcbiAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzExXV0gK1xuICAgICAgICBieXRlMmhleFtidWZmZXJbMTJdXSArXG4gICAgICAgIGJ5dGUyaGV4W2J1ZmZlclsxM11dICtcbiAgICAgICAgYnl0ZTJoZXhbYnVmZmVyWzE0XV0gK1xuICAgICAgICBieXRlMmhleFtidWZmZXJbMTVdXSk7XG59XG4vLyBhY2NvcmRpbmcgdG8gcmZjNDEyMiNzZWN0aW9uLTQuMS43XG5leHBvcnRzLm5pbCA9IG5ldyBVVUlEKFwiMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwXCIpO1xuLy8gVVVJRC52NCA9IHV1aWRSYW5kb21cbi8vIFVVSUQudjRmYXN0ID0gdXVpZFJhbmRvbUZhc3Rcbi8vIFVVSUQudjMgPSBmdW5jdGlvbihvcHRpb25zLCBjYWxsYmFjaykge1xuLy8gICAgIHJldHVybiB1dWlkTmFtZWQoXCJtZDVcIiwgMHgzMCwgb3B0aW9ucywgY2FsbGJhY2spXG4vLyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dWlkLmpzLm1hcCIsIjsoZnVuY3Rpb24gKHNheCkgeyAvLyB3cmFwcGVyIGZvciBub24tbm9kZSBlbnZzXG4gIHNheC5wYXJzZXIgPSBmdW5jdGlvbiAoc3RyaWN0LCBvcHQpIHsgcmV0dXJuIG5ldyBTQVhQYXJzZXIoc3RyaWN0LCBvcHQpIH1cbiAgc2F4LlNBWFBhcnNlciA9IFNBWFBhcnNlclxuICBzYXguU0FYU3RyZWFtID0gU0FYU3RyZWFtXG4gIHNheC5jcmVhdGVTdHJlYW0gPSBjcmVhdGVTdHJlYW1cblxuICAvLyBXaGVuIHdlIHBhc3MgdGhlIE1BWF9CVUZGRVJfTEVOR1RIIHBvc2l0aW9uLCBzdGFydCBjaGVja2luZyBmb3IgYnVmZmVyIG92ZXJydW5zLlxuICAvLyBXaGVuIHdlIGNoZWNrLCBzY2hlZHVsZSB0aGUgbmV4dCBjaGVjayBmb3IgTUFYX0JVRkZFUl9MRU5HVEggLSAobWF4KGJ1ZmZlciBsZW5ndGhzKSksXG4gIC8vIHNpbmNlIHRoYXQncyB0aGUgZWFybGllc3QgdGhhdCBhIGJ1ZmZlciBvdmVycnVuIGNvdWxkIG9jY3VyLiAgVGhpcyB3YXksIGNoZWNrcyBhcmVcbiAgLy8gYXMgcmFyZSBhcyByZXF1aXJlZCwgYnV0IGFzIG9mdGVuIGFzIG5lY2Vzc2FyeSB0byBlbnN1cmUgbmV2ZXIgY3Jvc3NpbmcgdGhpcyBib3VuZC5cbiAgLy8gRnVydGhlcm1vcmUsIGJ1ZmZlcnMgYXJlIG9ubHkgdGVzdGVkIGF0IG1vc3Qgb25jZSBwZXIgd3JpdGUoKSwgc28gcGFzc2luZyBhIHZlcnlcbiAgLy8gbGFyZ2Ugc3RyaW5nIGludG8gd3JpdGUoKSBtaWdodCBoYXZlIHVuZGVzaXJhYmxlIGVmZmVjdHMsIGJ1dCB0aGlzIGlzIG1hbmFnZWFibGUgYnlcbiAgLy8gdGhlIGNhbGxlciwgc28gaXQgaXMgYXNzdW1lZCB0byBiZSBzYWZlLiAgVGh1cywgYSBjYWxsIHRvIHdyaXRlKCkgbWF5LCBpbiB0aGUgZXh0cmVtZVxuICAvLyBlZGdlIGNhc2UsIHJlc3VsdCBpbiBjcmVhdGluZyBhdCBtb3N0IG9uZSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBzdHJpbmcgcGFzc2VkIGluLlxuICAvLyBTZXQgdG8gSW5maW5pdHkgdG8gaGF2ZSB1bmxpbWl0ZWQgYnVmZmVycy5cbiAgc2F4Lk1BWF9CVUZGRVJfTEVOR1RIID0gNjQgKiAxMDI0XG5cbiAgdmFyIGJ1ZmZlcnMgPSBbXG4gICAgJ2NvbW1lbnQnLCAnc2dtbERlY2wnLCAndGV4dE5vZGUnLCAndGFnTmFtZScsICdkb2N0eXBlJyxcbiAgICAncHJvY0luc3ROYW1lJywgJ3Byb2NJbnN0Qm9keScsICdlbnRpdHknLCAnYXR0cmliTmFtZScsXG4gICAgJ2F0dHJpYlZhbHVlJywgJ2NkYXRhJywgJ3NjcmlwdCdcbiAgXVxuXG4gIHNheC5FVkVOVFMgPSBbXG4gICAgJ3RleHQnLFxuICAgICdwcm9jZXNzaW5naW5zdHJ1Y3Rpb24nLFxuICAgICdzZ21sZGVjbGFyYXRpb24nLFxuICAgICdkb2N0eXBlJyxcbiAgICAnY29tbWVudCcsXG4gICAgJ29wZW50YWdzdGFydCcsXG4gICAgJ2F0dHJpYnV0ZScsXG4gICAgJ29wZW50YWcnLFxuICAgICdjbG9zZXRhZycsXG4gICAgJ29wZW5jZGF0YScsXG4gICAgJ2NkYXRhJyxcbiAgICAnY2xvc2VjZGF0YScsXG4gICAgJ2Vycm9yJyxcbiAgICAnZW5kJyxcbiAgICAncmVhZHknLFxuICAgICdzY3JpcHQnLFxuICAgICdvcGVubmFtZXNwYWNlJyxcbiAgICAnY2xvc2VuYW1lc3BhY2UnXG4gIF1cblxuICBmdW5jdGlvbiBTQVhQYXJzZXIgKHN0cmljdCwgb3B0KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNBWFBhcnNlcikpIHtcbiAgICAgIHJldHVybiBuZXcgU0FYUGFyc2VyKHN0cmljdCwgb3B0KVxuICAgIH1cblxuICAgIHZhciBwYXJzZXIgPSB0aGlzXG4gICAgY2xlYXJCdWZmZXJzKHBhcnNlcilcbiAgICBwYXJzZXIucSA9IHBhcnNlci5jID0gJydcbiAgICBwYXJzZXIuYnVmZmVyQ2hlY2tQb3NpdGlvbiA9IHNheC5NQVhfQlVGRkVSX0xFTkdUSFxuICAgIHBhcnNlci5vcHQgPSBvcHQgfHwge31cbiAgICBwYXJzZXIub3B0Lmxvd2VyY2FzZSA9IHBhcnNlci5vcHQubG93ZXJjYXNlIHx8IHBhcnNlci5vcHQubG93ZXJjYXNldGFnc1xuICAgIHBhcnNlci5sb29zZUNhc2UgPSBwYXJzZXIub3B0Lmxvd2VyY2FzZSA/ICd0b0xvd2VyQ2FzZScgOiAndG9VcHBlckNhc2UnXG4gICAgcGFyc2VyLnRhZ3MgPSBbXVxuICAgIHBhcnNlci5jbG9zZWQgPSBwYXJzZXIuY2xvc2VkUm9vdCA9IHBhcnNlci5zYXdSb290ID0gZmFsc2VcbiAgICBwYXJzZXIudGFnID0gcGFyc2VyLmVycm9yID0gbnVsbFxuICAgIHBhcnNlci5zdHJpY3QgPSAhIXN0cmljdFxuICAgIHBhcnNlci5ub3NjcmlwdCA9ICEhKHN0cmljdCB8fCBwYXJzZXIub3B0Lm5vc2NyaXB0KVxuICAgIHBhcnNlci5zdGF0ZSA9IFMuQkVHSU5cbiAgICBwYXJzZXIuc3RyaWN0RW50aXRpZXMgPSBwYXJzZXIub3B0LnN0cmljdEVudGl0aWVzXG4gICAgcGFyc2VyLkVOVElUSUVTID0gcGFyc2VyLnN0cmljdEVudGl0aWVzID8gT2JqZWN0LmNyZWF0ZShzYXguWE1MX0VOVElUSUVTKSA6IE9iamVjdC5jcmVhdGUoc2F4LkVOVElUSUVTKVxuICAgIHBhcnNlci5hdHRyaWJMaXN0ID0gW11cblxuICAgIC8vIG5hbWVzcGFjZXMgZm9ybSBhIHByb3RvdHlwZSBjaGFpbi5cbiAgICAvLyBpdCBhbHdheXMgcG9pbnRzIGF0IHRoZSBjdXJyZW50IHRhZyxcbiAgICAvLyB3aGljaCBwcm90b3MgdG8gaXRzIHBhcmVudCB0YWcuXG4gICAgaWYgKHBhcnNlci5vcHQueG1sbnMpIHtcbiAgICAgIHBhcnNlci5ucyA9IE9iamVjdC5jcmVhdGUocm9vdE5TKVxuICAgIH1cblxuICAgIC8vIG1vc3RseSBqdXN0IGZvciBlcnJvciByZXBvcnRpbmdcbiAgICBwYXJzZXIudHJhY2tQb3NpdGlvbiA9IHBhcnNlci5vcHQucG9zaXRpb24gIT09IGZhbHNlXG4gICAgaWYgKHBhcnNlci50cmFja1Bvc2l0aW9uKSB7XG4gICAgICBwYXJzZXIucG9zaXRpb24gPSBwYXJzZXIubGluZSA9IHBhcnNlci5jb2x1bW4gPSAwXG4gICAgfVxuICAgIGVtaXQocGFyc2VyLCAnb25yZWFkeScpXG4gIH1cblxuICBpZiAoIU9iamVjdC5jcmVhdGUpIHtcbiAgICBPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgIGZ1bmN0aW9uIEYgKCkge31cbiAgICAgIEYucHJvdG90eXBlID0gb1xuICAgICAgdmFyIG5ld2YgPSBuZXcgRigpXG4gICAgICByZXR1cm4gbmV3ZlxuICAgIH1cbiAgfVxuXG4gIGlmICghT2JqZWN0LmtleXMpIHtcbiAgICBPYmplY3Qua2V5cyA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICB2YXIgYSA9IFtdXG4gICAgICBmb3IgKHZhciBpIGluIG8pIGlmIChvLmhhc093blByb3BlcnR5KGkpKSBhLnB1c2goaSlcbiAgICAgIHJldHVybiBhXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tCdWZmZXJMZW5ndGggKHBhcnNlcikge1xuICAgIHZhciBtYXhBbGxvd2VkID0gTWF0aC5tYXgoc2F4Lk1BWF9CVUZGRVJfTEVOR1RILCAxMClcbiAgICB2YXIgbWF4QWN0dWFsID0gMFxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYnVmZmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBsZW4gPSBwYXJzZXJbYnVmZmVyc1tpXV0ubGVuZ3RoXG4gICAgICBpZiAobGVuID4gbWF4QWxsb3dlZCkge1xuICAgICAgICAvLyBUZXh0L2NkYXRhIG5vZGVzIGNhbiBnZXQgYmlnLCBhbmQgc2luY2UgdGhleSdyZSBidWZmZXJlZCxcbiAgICAgICAgLy8gd2UgY2FuIGdldCBoZXJlIHVuZGVyIG5vcm1hbCBjb25kaXRpb25zLlxuICAgICAgICAvLyBBdm9pZCBpc3N1ZXMgYnkgZW1pdHRpbmcgdGhlIHRleHQgbm9kZSBub3csXG4gICAgICAgIC8vIHNvIGF0IGxlYXN0IGl0IHdvbid0IGdldCBhbnkgYmlnZ2VyLlxuICAgICAgICBzd2l0Y2ggKGJ1ZmZlcnNbaV0pIHtcbiAgICAgICAgICBjYXNlICd0ZXh0Tm9kZSc6XG4gICAgICAgICAgICBjbG9zZVRleHQocGFyc2VyKVxuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGNhc2UgJ2NkYXRhJzpcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2RhdGEnLCBwYXJzZXIuY2RhdGEpXG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgPSAnJ1xuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGNhc2UgJ3NjcmlwdCc6XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNjcmlwdCcsIHBhcnNlci5zY3JpcHQpXG4gICAgICAgICAgICBwYXJzZXIuc2NyaXB0ID0gJydcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZXJyb3IocGFyc2VyLCAnTWF4IGJ1ZmZlciBsZW5ndGggZXhjZWVkZWQ6ICcgKyBidWZmZXJzW2ldKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtYXhBY3R1YWwgPSBNYXRoLm1heChtYXhBY3R1YWwsIGxlbilcbiAgICB9XG4gICAgLy8gc2NoZWR1bGUgdGhlIG5leHQgY2hlY2sgZm9yIHRoZSBlYXJsaWVzdCBwb3NzaWJsZSBidWZmZXIgb3ZlcnJ1bi5cbiAgICB2YXIgbSA9IHNheC5NQVhfQlVGRkVSX0xFTkdUSCAtIG1heEFjdHVhbFxuICAgIHBhcnNlci5idWZmZXJDaGVja1Bvc2l0aW9uID0gbSArIHBhcnNlci5wb3NpdGlvblxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJCdWZmZXJzIChwYXJzZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGJ1ZmZlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBwYXJzZXJbYnVmZmVyc1tpXV0gPSAnJ1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoQnVmZmVycyAocGFyc2VyKSB7XG4gICAgY2xvc2VUZXh0KHBhcnNlcilcbiAgICBpZiAocGFyc2VyLmNkYXRhICE9PSAnJykge1xuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jZGF0YScsIHBhcnNlci5jZGF0YSlcbiAgICAgIHBhcnNlci5jZGF0YSA9ICcnXG4gICAgfVxuICAgIGlmIChwYXJzZXIuc2NyaXB0ICE9PSAnJykge1xuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25zY3JpcHQnLCBwYXJzZXIuc2NyaXB0KVxuICAgICAgcGFyc2VyLnNjcmlwdCA9ICcnXG4gICAgfVxuICB9XG5cbiAgU0FYUGFyc2VyLnByb3RvdHlwZSA9IHtcbiAgICBlbmQ6IGZ1bmN0aW9uICgpIHsgZW5kKHRoaXMpIH0sXG4gICAgd3JpdGU6IHdyaXRlLFxuICAgIHJlc3VtZTogZnVuY3Rpb24gKCkgeyB0aGlzLmVycm9yID0gbnVsbDsgcmV0dXJuIHRoaXMgfSxcbiAgICBjbG9zZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy53cml0ZShudWxsKSB9LFxuICAgIGZsdXNoOiBmdW5jdGlvbiAoKSB7IGZsdXNoQnVmZmVycyh0aGlzKSB9XG4gIH1cblxuICB2YXIgU3RyZWFtXG4gIHRyeSB7XG4gICAgU3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJykuU3RyZWFtXG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgU3RyZWFtID0gZnVuY3Rpb24gKCkge31cbiAgfVxuXG4gIHZhciBzdHJlYW1XcmFwcyA9IHNheC5FVkVOVFMuZmlsdGVyKGZ1bmN0aW9uIChldikge1xuICAgIHJldHVybiBldiAhPT0gJ2Vycm9yJyAmJiBldiAhPT0gJ2VuZCdcbiAgfSlcblxuICBmdW5jdGlvbiBjcmVhdGVTdHJlYW0gKHN0cmljdCwgb3B0KSB7XG4gICAgcmV0dXJuIG5ldyBTQVhTdHJlYW0oc3RyaWN0LCBvcHQpXG4gIH1cblxuICBmdW5jdGlvbiBTQVhTdHJlYW0gKHN0cmljdCwgb3B0KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNBWFN0cmVhbSkpIHtcbiAgICAgIHJldHVybiBuZXcgU0FYU3RyZWFtKHN0cmljdCwgb3B0KVxuICAgIH1cblxuICAgIFN0cmVhbS5hcHBseSh0aGlzKVxuXG4gICAgdGhpcy5fcGFyc2VyID0gbmV3IFNBWFBhcnNlcihzdHJpY3QsIG9wdClcbiAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZVxuICAgIHRoaXMucmVhZGFibGUgPSB0cnVlXG5cbiAgICB2YXIgbWUgPSB0aGlzXG5cbiAgICB0aGlzLl9wYXJzZXIub25lbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBtZS5lbWl0KCdlbmQnKVxuICAgIH1cblxuICAgIHRoaXMuX3BhcnNlci5vbmVycm9yID0gZnVuY3Rpb24gKGVyKSB7XG4gICAgICBtZS5lbWl0KCdlcnJvcicsIGVyKVxuXG4gICAgICAvLyBpZiBkaWRuJ3QgdGhyb3csIHRoZW4gbWVhbnMgZXJyb3Igd2FzIGhhbmRsZWQuXG4gICAgICAvLyBnbyBhaGVhZCBhbmQgY2xlYXIgZXJyb3IsIHNvIHdlIGNhbiB3cml0ZSBhZ2Fpbi5cbiAgICAgIG1lLl9wYXJzZXIuZXJyb3IgPSBudWxsXG4gICAgfVxuXG4gICAgdGhpcy5fZGVjb2RlciA9IG51bGxcblxuICAgIHN0cmVhbVdyYXBzLmZvckVhY2goZnVuY3Rpb24gKGV2KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobWUsICdvbicgKyBldiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gbWUuX3BhcnNlclsnb24nICsgZXZdXG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICBpZiAoIWgpIHtcbiAgICAgICAgICAgIG1lLnJlbW92ZUFsbExpc3RlbmVycyhldilcbiAgICAgICAgICAgIG1lLl9wYXJzZXJbJ29uJyArIGV2XSA9IGhcbiAgICAgICAgICAgIHJldHVybiBoXG4gICAgICAgICAgfVxuICAgICAgICAgIG1lLm9uKGV2LCBoKVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBTQVhTdHJlYW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdHJlYW0ucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBTQVhTdHJlYW1cbiAgICB9XG4gIH0pXG5cbiAgU0FYU3RyZWFtLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKHR5cGVvZiBCdWZmZXIgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiBCdWZmZXIuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSkge1xuICAgICAgaWYgKCF0aGlzLl9kZWNvZGVyKSB7XG4gICAgICAgIHZhciBTRCA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyJykuU3RyaW5nRGVjb2RlclxuICAgICAgICB0aGlzLl9kZWNvZGVyID0gbmV3IFNEKCd1dGY4JylcbiAgICAgIH1cbiAgICAgIGRhdGEgPSB0aGlzLl9kZWNvZGVyLndyaXRlKGRhdGEpXG4gICAgfVxuXG4gICAgdGhpcy5fcGFyc2VyLndyaXRlKGRhdGEudG9TdHJpbmcoKSlcbiAgICB0aGlzLmVtaXQoJ2RhdGEnLCBkYXRhKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBTQVhTdHJlYW0ucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjaHVuaykge1xuICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHtcbiAgICAgIHRoaXMud3JpdGUoY2h1bmspXG4gICAgfVxuICAgIHRoaXMuX3BhcnNlci5lbmQoKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBTQVhTdHJlYW0ucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2LCBoYW5kbGVyKSB7XG4gICAgdmFyIG1lID0gdGhpc1xuICAgIGlmICghbWUuX3BhcnNlclsnb24nICsgZXZdICYmIHN0cmVhbVdyYXBzLmluZGV4T2YoZXYpICE9PSAtMSkge1xuICAgICAgbWUuX3BhcnNlclsnb24nICsgZXZdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBbYXJndW1lbnRzWzBdXSA6IEFycmF5LmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgICAgICAgYXJncy5zcGxpY2UoMCwgMCwgZXYpXG4gICAgICAgIG1lLmVtaXQuYXBwbHkobWUsIGFyZ3MpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFN0cmVhbS5wcm90b3R5cGUub24uY2FsbChtZSwgZXYsIGhhbmRsZXIpXG4gIH1cblxuICAvLyB0aGlzIHJlYWxseSBuZWVkcyB0byBiZSByZXBsYWNlZCB3aXRoIGNoYXJhY3RlciBjbGFzc2VzLlxuICAvLyBYTUwgYWxsb3dzIGFsbCBtYW5uZXIgb2YgcmlkaWN1bG91cyBudW1iZXJzIGFuZCBkaWdpdHMuXG4gIHZhciBDREFUQSA9ICdbQ0RBVEFbJ1xuICB2YXIgRE9DVFlQRSA9ICdET0NUWVBFJ1xuICB2YXIgWE1MX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnXG4gIHZhciBYTUxOU19OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8nXG4gIHZhciByb290TlMgPSB7IHhtbDogWE1MX05BTUVTUEFDRSwgeG1sbnM6IFhNTE5TX05BTUVTUEFDRSB9XG5cbiAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLXhtbC8jTlQtTmFtZVN0YXJ0Q2hhclxuICAvLyBUaGlzIGltcGxlbWVudGF0aW9uIHdvcmtzIG9uIHN0cmluZ3MsIGEgc2luZ2xlIGNoYXJhY3RlciBhdCBhIHRpbWVcbiAgLy8gYXMgc3VjaCwgaXQgY2Fubm90IGV2ZXIgc3VwcG9ydCBhc3RyYWwtcGxhbmUgY2hhcmFjdGVycyAoMTAwMDAtRUZGRkYpXG4gIC8vIHdpdGhvdXQgYSBzaWduaWZpY2FudCBicmVha2luZyBjaGFuZ2UgdG8gZWl0aGVyIHRoaXMgIHBhcnNlciwgb3IgdGhlXG4gIC8vIEphdmFTY3JpcHQgbGFuZ3VhZ2UuICBJbXBsZW1lbnRhdGlvbiBvZiBhbiBlbW9qaS1jYXBhYmxlIHhtbCBwYXJzZXJcbiAgLy8gaXMgbGVmdCBhcyBhbiBleGVyY2lzZSBmb3IgdGhlIHJlYWRlci5cbiAgdmFyIG5hbWVTdGFydCA9IC9bOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdL1xuXG4gIHZhciBuYW1lQm9keSA9IC9bOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXHUwMEI3XFx1MDMwMC1cXHUwMzZGXFx1MjAzRi1cXHUyMDQwLlxcZC1dL1xuXG4gIHZhciBlbnRpdHlTdGFydCA9IC9bIzpfQS1aYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXS9cbiAgdmFyIGVudGl0eUJvZHkgPSAvWyM6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRFxcdTAwQjdcXHUwMzAwLVxcdTAzNkZcXHUyMDNGLVxcdTIwNDAuXFxkLV0vXG5cbiAgZnVuY3Rpb24gaXNXaGl0ZXNwYWNlIChjKSB7XG4gICAgcmV0dXJuIGMgPT09ICcgJyB8fCBjID09PSAnXFxuJyB8fCBjID09PSAnXFxyJyB8fCBjID09PSAnXFx0J1xuICB9XG5cbiAgZnVuY3Rpb24gaXNRdW90ZSAoYykge1xuICAgIHJldHVybiBjID09PSAnXCInIHx8IGMgPT09ICdcXCcnXG4gIH1cblxuICBmdW5jdGlvbiBpc0F0dHJpYkVuZCAoYykge1xuICAgIHJldHVybiBjID09PSAnPicgfHwgaXNXaGl0ZXNwYWNlKGMpXG4gIH1cblxuICBmdW5jdGlvbiBpc01hdGNoIChyZWdleCwgYykge1xuICAgIHJldHVybiByZWdleC50ZXN0KGMpXG4gIH1cblxuICBmdW5jdGlvbiBub3RNYXRjaCAocmVnZXgsIGMpIHtcbiAgICByZXR1cm4gIWlzTWF0Y2gocmVnZXgsIGMpXG4gIH1cblxuICB2YXIgUyA9IDBcbiAgc2F4LlNUQVRFID0ge1xuICAgIEJFR0lOOiBTKyssIC8vIGxlYWRpbmcgYnl0ZSBvcmRlciBtYXJrIG9yIHdoaXRlc3BhY2VcbiAgICBCRUdJTl9XSElURVNQQUNFOiBTKyssIC8vIGxlYWRpbmcgd2hpdGVzcGFjZVxuICAgIFRFWFQ6IFMrKywgLy8gZ2VuZXJhbCBzdHVmZlxuICAgIFRFWFRfRU5USVRZOiBTKyssIC8vICZhbXAgYW5kIHN1Y2guXG4gICAgT1BFTl9XQUtBOiBTKyssIC8vIDxcbiAgICBTR01MX0RFQ0w6IFMrKywgLy8gPCFCTEFSR1xuICAgIFNHTUxfREVDTF9RVU9URUQ6IFMrKywgLy8gPCFCTEFSRyBmb28gXCJiYXJcbiAgICBET0NUWVBFOiBTKyssIC8vIDwhRE9DVFlQRVxuICAgIERPQ1RZUEVfUVVPVEVEOiBTKyssIC8vIDwhRE9DVFlQRSBcIi8vYmxhaFxuICAgIERPQ1RZUEVfRFREOiBTKyssIC8vIDwhRE9DVFlQRSBcIi8vYmxhaFwiIFsgLi4uXG4gICAgRE9DVFlQRV9EVERfUVVPVEVEOiBTKyssIC8vIDwhRE9DVFlQRSBcIi8vYmxhaFwiIFsgXCJmb29cbiAgICBDT01NRU5UX1NUQVJUSU5HOiBTKyssIC8vIDwhLVxuICAgIENPTU1FTlQ6IFMrKywgLy8gPCEtLVxuICAgIENPTU1FTlRfRU5ESU5HOiBTKyssIC8vIDwhLS0gYmxhaCAtXG4gICAgQ09NTUVOVF9FTkRFRDogUysrLCAvLyA8IS0tIGJsYWggLS1cbiAgICBDREFUQTogUysrLCAvLyA8IVtDREFUQVsgc29tZXRoaW5nXG4gICAgQ0RBVEFfRU5ESU5HOiBTKyssIC8vIF1cbiAgICBDREFUQV9FTkRJTkdfMjogUysrLCAvLyBdXVxuICAgIFBST0NfSU5TVDogUysrLCAvLyA8P2hpXG4gICAgUFJPQ19JTlNUX0JPRFk6IFMrKywgLy8gPD9oaSB0aGVyZVxuICAgIFBST0NfSU5TVF9FTkRJTkc6IFMrKywgLy8gPD9oaSBcInRoZXJlXCIgP1xuICAgIE9QRU5fVEFHOiBTKyssIC8vIDxzdHJvbmdcbiAgICBPUEVOX1RBR19TTEFTSDogUysrLCAvLyA8c3Ryb25nIC9cbiAgICBBVFRSSUI6IFMrKywgLy8gPGFcbiAgICBBVFRSSUJfTkFNRTogUysrLCAvLyA8YSBmb29cbiAgICBBVFRSSUJfTkFNRV9TQVdfV0hJVEU6IFMrKywgLy8gPGEgZm9vIF9cbiAgICBBVFRSSUJfVkFMVUU6IFMrKywgLy8gPGEgZm9vPVxuICAgIEFUVFJJQl9WQUxVRV9RVU9URUQ6IFMrKywgLy8gPGEgZm9vPVwiYmFyXG4gICAgQVRUUklCX1ZBTFVFX0NMT1NFRDogUysrLCAvLyA8YSBmb289XCJiYXJcIlxuICAgIEFUVFJJQl9WQUxVRV9VTlFVT1RFRDogUysrLCAvLyA8YSBmb289YmFyXG4gICAgQVRUUklCX1ZBTFVFX0VOVElUWV9ROiBTKyssIC8vIDxmb28gYmFyPVwiJnF1b3Q7XCJcbiAgICBBVFRSSUJfVkFMVUVfRU5USVRZX1U6IFMrKywgLy8gPGZvbyBiYXI9JnF1b3RcbiAgICBDTE9TRV9UQUc6IFMrKywgLy8gPC9hXG4gICAgQ0xPU0VfVEFHX1NBV19XSElURTogUysrLCAvLyA8L2EgICA+XG4gICAgU0NSSVBUOiBTKyssIC8vIDxzY3JpcHQ+IC4uLlxuICAgIFNDUklQVF9FTkRJTkc6IFMrKyAvLyA8c2NyaXB0PiAuLi4gPFxuICB9XG5cbiAgc2F4LlhNTF9FTlRJVElFUyA9IHtcbiAgICAnYW1wJzogJyYnLFxuICAgICdndCc6ICc+JyxcbiAgICAnbHQnOiAnPCcsXG4gICAgJ3F1b3QnOiAnXCInLFxuICAgICdhcG9zJzogXCInXCJcbiAgfVxuXG4gIHNheC5FTlRJVElFUyA9IHtcbiAgICAnYW1wJzogJyYnLFxuICAgICdndCc6ICc+JyxcbiAgICAnbHQnOiAnPCcsXG4gICAgJ3F1b3QnOiAnXCInLFxuICAgICdhcG9zJzogXCInXCIsXG4gICAgJ0FFbGlnJzogMTk4LFxuICAgICdBYWN1dGUnOiAxOTMsXG4gICAgJ0FjaXJjJzogMTk0LFxuICAgICdBZ3JhdmUnOiAxOTIsXG4gICAgJ0FyaW5nJzogMTk3LFxuICAgICdBdGlsZGUnOiAxOTUsXG4gICAgJ0F1bWwnOiAxOTYsXG4gICAgJ0NjZWRpbCc6IDE5OSxcbiAgICAnRVRIJzogMjA4LFxuICAgICdFYWN1dGUnOiAyMDEsXG4gICAgJ0VjaXJjJzogMjAyLFxuICAgICdFZ3JhdmUnOiAyMDAsXG4gICAgJ0V1bWwnOiAyMDMsXG4gICAgJ0lhY3V0ZSc6IDIwNSxcbiAgICAnSWNpcmMnOiAyMDYsXG4gICAgJ0lncmF2ZSc6IDIwNCxcbiAgICAnSXVtbCc6IDIwNyxcbiAgICAnTnRpbGRlJzogMjA5LFxuICAgICdPYWN1dGUnOiAyMTEsXG4gICAgJ09jaXJjJzogMjEyLFxuICAgICdPZ3JhdmUnOiAyMTAsXG4gICAgJ09zbGFzaCc6IDIxNixcbiAgICAnT3RpbGRlJzogMjEzLFxuICAgICdPdW1sJzogMjE0LFxuICAgICdUSE9STic6IDIyMixcbiAgICAnVWFjdXRlJzogMjE4LFxuICAgICdVY2lyYyc6IDIxOSxcbiAgICAnVWdyYXZlJzogMjE3LFxuICAgICdVdW1sJzogMjIwLFxuICAgICdZYWN1dGUnOiAyMjEsXG4gICAgJ2FhY3V0ZSc6IDIyNSxcbiAgICAnYWNpcmMnOiAyMjYsXG4gICAgJ2FlbGlnJzogMjMwLFxuICAgICdhZ3JhdmUnOiAyMjQsXG4gICAgJ2FyaW5nJzogMjI5LFxuICAgICdhdGlsZGUnOiAyMjcsXG4gICAgJ2F1bWwnOiAyMjgsXG4gICAgJ2NjZWRpbCc6IDIzMSxcbiAgICAnZWFjdXRlJzogMjMzLFxuICAgICdlY2lyYyc6IDIzNCxcbiAgICAnZWdyYXZlJzogMjMyLFxuICAgICdldGgnOiAyNDAsXG4gICAgJ2V1bWwnOiAyMzUsXG4gICAgJ2lhY3V0ZSc6IDIzNyxcbiAgICAnaWNpcmMnOiAyMzgsXG4gICAgJ2lncmF2ZSc6IDIzNixcbiAgICAnaXVtbCc6IDIzOSxcbiAgICAnbnRpbGRlJzogMjQxLFxuICAgICdvYWN1dGUnOiAyNDMsXG4gICAgJ29jaXJjJzogMjQ0LFxuICAgICdvZ3JhdmUnOiAyNDIsXG4gICAgJ29zbGFzaCc6IDI0OCxcbiAgICAnb3RpbGRlJzogMjQ1LFxuICAgICdvdW1sJzogMjQ2LFxuICAgICdzemxpZyc6IDIyMyxcbiAgICAndGhvcm4nOiAyNTQsXG4gICAgJ3VhY3V0ZSc6IDI1MCxcbiAgICAndWNpcmMnOiAyNTEsXG4gICAgJ3VncmF2ZSc6IDI0OSxcbiAgICAndXVtbCc6IDI1MixcbiAgICAneWFjdXRlJzogMjUzLFxuICAgICd5dW1sJzogMjU1LFxuICAgICdjb3B5JzogMTY5LFxuICAgICdyZWcnOiAxNzQsXG4gICAgJ25ic3AnOiAxNjAsXG4gICAgJ2lleGNsJzogMTYxLFxuICAgICdjZW50JzogMTYyLFxuICAgICdwb3VuZCc6IDE2MyxcbiAgICAnY3VycmVuJzogMTY0LFxuICAgICd5ZW4nOiAxNjUsXG4gICAgJ2JydmJhcic6IDE2NixcbiAgICAnc2VjdCc6IDE2NyxcbiAgICAndW1sJzogMTY4LFxuICAgICdvcmRmJzogMTcwLFxuICAgICdsYXF1byc6IDE3MSxcbiAgICAnbm90JzogMTcyLFxuICAgICdzaHknOiAxNzMsXG4gICAgJ21hY3InOiAxNzUsXG4gICAgJ2RlZyc6IDE3NixcbiAgICAncGx1c21uJzogMTc3LFxuICAgICdzdXAxJzogMTg1LFxuICAgICdzdXAyJzogMTc4LFxuICAgICdzdXAzJzogMTc5LFxuICAgICdhY3V0ZSc6IDE4MCxcbiAgICAnbWljcm8nOiAxODEsXG4gICAgJ3BhcmEnOiAxODIsXG4gICAgJ21pZGRvdCc6IDE4MyxcbiAgICAnY2VkaWwnOiAxODQsXG4gICAgJ29yZG0nOiAxODYsXG4gICAgJ3JhcXVvJzogMTg3LFxuICAgICdmcmFjMTQnOiAxODgsXG4gICAgJ2ZyYWMxMic6IDE4OSxcbiAgICAnZnJhYzM0JzogMTkwLFxuICAgICdpcXVlc3QnOiAxOTEsXG4gICAgJ3RpbWVzJzogMjE1LFxuICAgICdkaXZpZGUnOiAyNDcsXG4gICAgJ09FbGlnJzogMzM4LFxuICAgICdvZWxpZyc6IDMzOSxcbiAgICAnU2Nhcm9uJzogMzUyLFxuICAgICdzY2Fyb24nOiAzNTMsXG4gICAgJ1l1bWwnOiAzNzYsXG4gICAgJ2Zub2YnOiA0MDIsXG4gICAgJ2NpcmMnOiA3MTAsXG4gICAgJ3RpbGRlJzogNzMyLFxuICAgICdBbHBoYSc6IDkxMyxcbiAgICAnQmV0YSc6IDkxNCxcbiAgICAnR2FtbWEnOiA5MTUsXG4gICAgJ0RlbHRhJzogOTE2LFxuICAgICdFcHNpbG9uJzogOTE3LFxuICAgICdaZXRhJzogOTE4LFxuICAgICdFdGEnOiA5MTksXG4gICAgJ1RoZXRhJzogOTIwLFxuICAgICdJb3RhJzogOTIxLFxuICAgICdLYXBwYSc6IDkyMixcbiAgICAnTGFtYmRhJzogOTIzLFxuICAgICdNdSc6IDkyNCxcbiAgICAnTnUnOiA5MjUsXG4gICAgJ1hpJzogOTI2LFxuICAgICdPbWljcm9uJzogOTI3LFxuICAgICdQaSc6IDkyOCxcbiAgICAnUmhvJzogOTI5LFxuICAgICdTaWdtYSc6IDkzMSxcbiAgICAnVGF1JzogOTMyLFxuICAgICdVcHNpbG9uJzogOTMzLFxuICAgICdQaGknOiA5MzQsXG4gICAgJ0NoaSc6IDkzNSxcbiAgICAnUHNpJzogOTM2LFxuICAgICdPbWVnYSc6IDkzNyxcbiAgICAnYWxwaGEnOiA5NDUsXG4gICAgJ2JldGEnOiA5NDYsXG4gICAgJ2dhbW1hJzogOTQ3LFxuICAgICdkZWx0YSc6IDk0OCxcbiAgICAnZXBzaWxvbic6IDk0OSxcbiAgICAnemV0YSc6IDk1MCxcbiAgICAnZXRhJzogOTUxLFxuICAgICd0aGV0YSc6IDk1MixcbiAgICAnaW90YSc6IDk1MyxcbiAgICAna2FwcGEnOiA5NTQsXG4gICAgJ2xhbWJkYSc6IDk1NSxcbiAgICAnbXUnOiA5NTYsXG4gICAgJ251JzogOTU3LFxuICAgICd4aSc6IDk1OCxcbiAgICAnb21pY3Jvbic6IDk1OSxcbiAgICAncGknOiA5NjAsXG4gICAgJ3Jobyc6IDk2MSxcbiAgICAnc2lnbWFmJzogOTYyLFxuICAgICdzaWdtYSc6IDk2MyxcbiAgICAndGF1JzogOTY0LFxuICAgICd1cHNpbG9uJzogOTY1LFxuICAgICdwaGknOiA5NjYsXG4gICAgJ2NoaSc6IDk2NyxcbiAgICAncHNpJzogOTY4LFxuICAgICdvbWVnYSc6IDk2OSxcbiAgICAndGhldGFzeW0nOiA5NzcsXG4gICAgJ3Vwc2loJzogOTc4LFxuICAgICdwaXYnOiA5ODIsXG4gICAgJ2Vuc3AnOiA4MTk0LFxuICAgICdlbXNwJzogODE5NSxcbiAgICAndGhpbnNwJzogODIwMSxcbiAgICAnenduaic6IDgyMDQsXG4gICAgJ3p3aic6IDgyMDUsXG4gICAgJ2xybSc6IDgyMDYsXG4gICAgJ3JsbSc6IDgyMDcsXG4gICAgJ25kYXNoJzogODIxMSxcbiAgICAnbWRhc2gnOiA4MjEyLFxuICAgICdsc3F1byc6IDgyMTYsXG4gICAgJ3JzcXVvJzogODIxNyxcbiAgICAnc2JxdW8nOiA4MjE4LFxuICAgICdsZHF1byc6IDgyMjAsXG4gICAgJ3JkcXVvJzogODIyMSxcbiAgICAnYmRxdW8nOiA4MjIyLFxuICAgICdkYWdnZXInOiA4MjI0LFxuICAgICdEYWdnZXInOiA4MjI1LFxuICAgICdidWxsJzogODIyNixcbiAgICAnaGVsbGlwJzogODIzMCxcbiAgICAncGVybWlsJzogODI0MCxcbiAgICAncHJpbWUnOiA4MjQyLFxuICAgICdQcmltZSc6IDgyNDMsXG4gICAgJ2xzYXF1byc6IDgyNDksXG4gICAgJ3JzYXF1byc6IDgyNTAsXG4gICAgJ29saW5lJzogODI1NCxcbiAgICAnZnJhc2wnOiA4MjYwLFxuICAgICdldXJvJzogODM2NCxcbiAgICAnaW1hZ2UnOiA4NDY1LFxuICAgICd3ZWllcnAnOiA4NDcyLFxuICAgICdyZWFsJzogODQ3NixcbiAgICAndHJhZGUnOiA4NDgyLFxuICAgICdhbGVmc3ltJzogODUwMSxcbiAgICAnbGFycic6IDg1OTIsXG4gICAgJ3VhcnInOiA4NTkzLFxuICAgICdyYXJyJzogODU5NCxcbiAgICAnZGFycic6IDg1OTUsXG4gICAgJ2hhcnInOiA4NTk2LFxuICAgICdjcmFycic6IDg2MjksXG4gICAgJ2xBcnInOiA4NjU2LFxuICAgICd1QXJyJzogODY1NyxcbiAgICAnckFycic6IDg2NTgsXG4gICAgJ2RBcnInOiA4NjU5LFxuICAgICdoQXJyJzogODY2MCxcbiAgICAnZm9yYWxsJzogODcwNCxcbiAgICAncGFydCc6IDg3MDYsXG4gICAgJ2V4aXN0JzogODcwNyxcbiAgICAnZW1wdHknOiA4NzA5LFxuICAgICduYWJsYSc6IDg3MTEsXG4gICAgJ2lzaW4nOiA4NzEyLFxuICAgICdub3Rpbic6IDg3MTMsXG4gICAgJ25pJzogODcxNSxcbiAgICAncHJvZCc6IDg3MTksXG4gICAgJ3N1bSc6IDg3MjEsXG4gICAgJ21pbnVzJzogODcyMixcbiAgICAnbG93YXN0JzogODcyNyxcbiAgICAncmFkaWMnOiA4NzMwLFxuICAgICdwcm9wJzogODczMyxcbiAgICAnaW5maW4nOiA4NzM0LFxuICAgICdhbmcnOiA4NzM2LFxuICAgICdhbmQnOiA4NzQzLFxuICAgICdvcic6IDg3NDQsXG4gICAgJ2NhcCc6IDg3NDUsXG4gICAgJ2N1cCc6IDg3NDYsXG4gICAgJ2ludCc6IDg3NDcsXG4gICAgJ3RoZXJlNCc6IDg3NTYsXG4gICAgJ3NpbSc6IDg3NjQsXG4gICAgJ2NvbmcnOiA4NzczLFxuICAgICdhc3ltcCc6IDg3NzYsXG4gICAgJ25lJzogODgwMCxcbiAgICAnZXF1aXYnOiA4ODAxLFxuICAgICdsZSc6IDg4MDQsXG4gICAgJ2dlJzogODgwNSxcbiAgICAnc3ViJzogODgzNCxcbiAgICAnc3VwJzogODgzNSxcbiAgICAnbnN1Yic6IDg4MzYsXG4gICAgJ3N1YmUnOiA4ODM4LFxuICAgICdzdXBlJzogODgzOSxcbiAgICAnb3BsdXMnOiA4ODUzLFxuICAgICdvdGltZXMnOiA4ODU1LFxuICAgICdwZXJwJzogODg2OSxcbiAgICAnc2RvdCc6IDg5MDEsXG4gICAgJ2xjZWlsJzogODk2OCxcbiAgICAncmNlaWwnOiA4OTY5LFxuICAgICdsZmxvb3InOiA4OTcwLFxuICAgICdyZmxvb3InOiA4OTcxLFxuICAgICdsYW5nJzogOTAwMSxcbiAgICAncmFuZyc6IDkwMDIsXG4gICAgJ2xveic6IDk2NzQsXG4gICAgJ3NwYWRlcyc6IDk4MjQsXG4gICAgJ2NsdWJzJzogOTgyNyxcbiAgICAnaGVhcnRzJzogOTgyOSxcbiAgICAnZGlhbXMnOiA5ODMwXG4gIH1cblxuICBPYmplY3Qua2V5cyhzYXguRU5USVRJRVMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBlID0gc2F4LkVOVElUSUVTW2tleV1cbiAgICB2YXIgcyA9IHR5cGVvZiBlID09PSAnbnVtYmVyJyA/IFN0cmluZy5mcm9tQ2hhckNvZGUoZSkgOiBlXG4gICAgc2F4LkVOVElUSUVTW2tleV0gPSBzXG4gIH0pXG5cbiAgZm9yICh2YXIgcyBpbiBzYXguU1RBVEUpIHtcbiAgICBzYXguU1RBVEVbc2F4LlNUQVRFW3NdXSA9IHNcbiAgfVxuXG4gIC8vIHNob3J0aGFuZFxuICBTID0gc2F4LlNUQVRFXG5cbiAgZnVuY3Rpb24gZW1pdCAocGFyc2VyLCBldmVudCwgZGF0YSkge1xuICAgIHBhcnNlcltldmVudF0gJiYgcGFyc2VyW2V2ZW50XShkYXRhKVxuICB9XG5cbiAgZnVuY3Rpb24gZW1pdE5vZGUgKHBhcnNlciwgbm9kZVR5cGUsIGRhdGEpIHtcbiAgICBpZiAocGFyc2VyLnRleHROb2RlKSBjbG9zZVRleHQocGFyc2VyKVxuICAgIGVtaXQocGFyc2VyLCBub2RlVHlwZSwgZGF0YSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlVGV4dCAocGFyc2VyKSB7XG4gICAgcGFyc2VyLnRleHROb2RlID0gdGV4dG9wdHMocGFyc2VyLm9wdCwgcGFyc2VyLnRleHROb2RlKVxuICAgIGlmIChwYXJzZXIudGV4dE5vZGUpIGVtaXQocGFyc2VyLCAnb250ZXh0JywgcGFyc2VyLnRleHROb2RlKVxuICAgIHBhcnNlci50ZXh0Tm9kZSA9ICcnXG4gIH1cblxuICBmdW5jdGlvbiB0ZXh0b3B0cyAob3B0LCB0ZXh0KSB7XG4gICAgaWYgKG9wdC50cmltKSB0ZXh0ID0gdGV4dC50cmltKClcbiAgICBpZiAob3B0Lm5vcm1hbGl6ZSkgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgcmV0dXJuIHRleHRcbiAgfVxuXG4gIGZ1bmN0aW9uIGVycm9yIChwYXJzZXIsIGVyKSB7XG4gICAgY2xvc2VUZXh0KHBhcnNlcilcbiAgICBpZiAocGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcbiAgICAgIGVyICs9ICdcXG5MaW5lOiAnICsgcGFyc2VyLmxpbmUgK1xuICAgICAgICAnXFxuQ29sdW1uOiAnICsgcGFyc2VyLmNvbHVtbiArXG4gICAgICAgICdcXG5DaGFyOiAnICsgcGFyc2VyLmNcbiAgICB9XG4gICAgZXIgPSBuZXcgRXJyb3IoZXIpXG4gICAgcGFyc2VyLmVycm9yID0gZXJcbiAgICBlbWl0KHBhcnNlciwgJ29uZXJyb3InLCBlcilcbiAgICByZXR1cm4gcGFyc2VyXG4gIH1cblxuICBmdW5jdGlvbiBlbmQgKHBhcnNlcikge1xuICAgIGlmIChwYXJzZXIuc2F3Um9vdCAmJiAhcGFyc2VyLmNsb3NlZFJvb3QpIHN0cmljdEZhaWwocGFyc2VyLCAnVW5jbG9zZWQgcm9vdCB0YWcnKVxuICAgIGlmICgocGFyc2VyLnN0YXRlICE9PSBTLkJFR0lOKSAmJlxuICAgICAgKHBhcnNlci5zdGF0ZSAhPT0gUy5CRUdJTl9XSElURVNQQUNFKSAmJlxuICAgICAgKHBhcnNlci5zdGF0ZSAhPT0gUy5URVhUKSkge1xuICAgICAgZXJyb3IocGFyc2VyLCAnVW5leHBlY3RlZCBlbmQnKVxuICAgIH1cbiAgICBjbG9zZVRleHQocGFyc2VyKVxuICAgIHBhcnNlci5jID0gJydcbiAgICBwYXJzZXIuY2xvc2VkID0gdHJ1ZVxuICAgIGVtaXQocGFyc2VyLCAnb25lbmQnKVxuICAgIFNBWFBhcnNlci5jYWxsKHBhcnNlciwgcGFyc2VyLnN0cmljdCwgcGFyc2VyLm9wdClcbiAgICByZXR1cm4gcGFyc2VyXG4gIH1cblxuICBmdW5jdGlvbiBzdHJpY3RGYWlsIChwYXJzZXIsIG1lc3NhZ2UpIHtcbiAgICBpZiAodHlwZW9mIHBhcnNlciAhPT0gJ29iamVjdCcgfHwgIShwYXJzZXIgaW5zdGFuY2VvZiBTQVhQYXJzZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBjYWxsIHRvIHN0cmljdEZhaWwnKVxuICAgIH1cbiAgICBpZiAocGFyc2VyLnN0cmljdCkge1xuICAgICAgZXJyb3IocGFyc2VyLCBtZXNzYWdlKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld1RhZyAocGFyc2VyKSB7XG4gICAgaWYgKCFwYXJzZXIuc3RyaWN0KSBwYXJzZXIudGFnTmFtZSA9IHBhcnNlci50YWdOYW1lW3BhcnNlci5sb29zZUNhc2VdKClcbiAgICB2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyXG4gICAgdmFyIHRhZyA9IHBhcnNlci50YWcgPSB7IG5hbWU6IHBhcnNlci50YWdOYW1lLCBhdHRyaWJ1dGVzOiB7fSB9XG5cbiAgICAvLyB3aWxsIGJlIG92ZXJyaWRkZW4gaWYgdGFnIGNvbnRhaWxzIGFuIHhtbG5zPVwiZm9vXCIgb3IgeG1sbnM6Zm9vPVwiYmFyXCJcbiAgICBpZiAocGFyc2VyLm9wdC54bWxucykge1xuICAgICAgdGFnLm5zID0gcGFyZW50Lm5zXG4gICAgfVxuICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW50YWdzdGFydCcsIHRhZylcbiAgfVxuXG4gIGZ1bmN0aW9uIHFuYW1lIChuYW1lLCBhdHRyaWJ1dGUpIHtcbiAgICB2YXIgaSA9IG5hbWUuaW5kZXhPZignOicpXG4gICAgdmFyIHF1YWxOYW1lID0gaSA8IDAgPyBbICcnLCBuYW1lIF0gOiBuYW1lLnNwbGl0KCc6JylcbiAgICB2YXIgcHJlZml4ID0gcXVhbE5hbWVbMF1cbiAgICB2YXIgbG9jYWwgPSBxdWFsTmFtZVsxXVxuXG4gICAgLy8gPHggXCJ4bWxuc1wiPVwiaHR0cDovL2Zvb1wiPlxuICAgIGlmIChhdHRyaWJ1dGUgJiYgbmFtZSA9PT0gJ3htbG5zJykge1xuICAgICAgcHJlZml4ID0gJ3htbG5zJ1xuICAgICAgbG9jYWwgPSAnJ1xuICAgIH1cblxuICAgIHJldHVybiB7IHByZWZpeDogcHJlZml4LCBsb2NhbDogbG9jYWwgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXR0cmliIChwYXJzZXIpIHtcbiAgICBpZiAoIXBhcnNlci5zdHJpY3QpIHtcbiAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYk5hbWVbcGFyc2VyLmxvb3NlQ2FzZV0oKVxuICAgIH1cblxuICAgIGlmIChwYXJzZXIuYXR0cmliTGlzdC5pbmRleE9mKHBhcnNlci5hdHRyaWJOYW1lKSAhPT0gLTEgfHxcbiAgICAgIHBhcnNlci50YWcuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShwYXJzZXIuYXR0cmliTmFtZSkpIHtcbiAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG4gICAgICB2YXIgcW4gPSBxbmFtZShwYXJzZXIuYXR0cmliTmFtZSwgdHJ1ZSlcbiAgICAgIHZhciBwcmVmaXggPSBxbi5wcmVmaXhcbiAgICAgIHZhciBsb2NhbCA9IHFuLmxvY2FsXG5cbiAgICAgIGlmIChwcmVmaXggPT09ICd4bWxucycpIHtcbiAgICAgICAgLy8gbmFtZXNwYWNlIGJpbmRpbmcgYXR0cmlidXRlLiBwdXNoIHRoZSBiaW5kaW5nIGludG8gc2NvcGVcbiAgICAgICAgaWYgKGxvY2FsID09PSAneG1sJyAmJiBwYXJzZXIuYXR0cmliVmFsdWUgIT09IFhNTF9OQU1FU1BBQ0UpIHtcbiAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlcixcbiAgICAgICAgICAgICd4bWw6IHByZWZpeCBtdXN0IGJlIGJvdW5kIHRvICcgKyBYTUxfTkFNRVNQQUNFICsgJ1xcbicgK1xuICAgICAgICAgICAgJ0FjdHVhbDogJyArIHBhcnNlci5hdHRyaWJWYWx1ZSlcbiAgICAgICAgfSBlbHNlIGlmIChsb2NhbCA9PT0gJ3htbG5zJyAmJiBwYXJzZXIuYXR0cmliVmFsdWUgIT09IFhNTE5TX05BTUVTUEFDRSkge1xuICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLFxuICAgICAgICAgICAgJ3htbG5zOiBwcmVmaXggbXVzdCBiZSBib3VuZCB0byAnICsgWE1MTlNfTkFNRVNQQUNFICsgJ1xcbicgK1xuICAgICAgICAgICAgJ0FjdHVhbDogJyArIHBhcnNlci5hdHRyaWJWYWx1ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgdGFnID0gcGFyc2VyLnRhZ1xuICAgICAgICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICAgICAgICBpZiAodGFnLm5zID09PSBwYXJlbnQubnMpIHtcbiAgICAgICAgICAgIHRhZy5ucyA9IE9iamVjdC5jcmVhdGUocGFyZW50Lm5zKVxuICAgICAgICAgIH1cbiAgICAgICAgICB0YWcubnNbbG9jYWxdID0gcGFyc2VyLmF0dHJpYlZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gZGVmZXIgb25hdHRyaWJ1dGUgZXZlbnRzIHVudGlsIGFsbCBhdHRyaWJ1dGVzIGhhdmUgYmVlbiBzZWVuXG4gICAgICAvLyBzbyBhbnkgbmV3IGJpbmRpbmdzIGNhbiB0YWtlIGVmZmVjdC4gcHJlc2VydmUgYXR0cmlidXRlIG9yZGVyXG4gICAgICAvLyBzbyBkZWZlcnJlZCBldmVudHMgY2FuIGJlIGVtaXR0ZWQgaW4gZG9jdW1lbnQgb3JkZXJcbiAgICAgIHBhcnNlci5hdHRyaWJMaXN0LnB1c2goW3BhcnNlci5hdHRyaWJOYW1lLCBwYXJzZXIuYXR0cmliVmFsdWVdKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbiBub24teG1sbnMgbW9kZSwgd2UgY2FuIGVtaXQgdGhlIGV2ZW50IHJpZ2h0IGF3YXlcbiAgICAgIHBhcnNlci50YWcuYXR0cmlidXRlc1twYXJzZXIuYXR0cmliTmFtZV0gPSBwYXJzZXIuYXR0cmliVmFsdWVcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uYXR0cmlidXRlJywge1xuICAgICAgICBuYW1lOiBwYXJzZXIuYXR0cmliTmFtZSxcbiAgICAgICAgdmFsdWU6IHBhcnNlci5hdHRyaWJWYWx1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBwYXJzZXIuYXR0cmliTmFtZSA9IHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gIH1cblxuICBmdW5jdGlvbiBvcGVuVGFnIChwYXJzZXIsIHNlbGZDbG9zaW5nKSB7XG4gICAgaWYgKHBhcnNlci5vcHQueG1sbnMpIHtcbiAgICAgIC8vIGVtaXQgbmFtZXNwYWNlIGJpbmRpbmcgZXZlbnRzXG4gICAgICB2YXIgdGFnID0gcGFyc2VyLnRhZ1xuXG4gICAgICAvLyBhZGQgbmFtZXNwYWNlIGluZm8gdG8gdGFnXG4gICAgICB2YXIgcW4gPSBxbmFtZShwYXJzZXIudGFnTmFtZSlcbiAgICAgIHRhZy5wcmVmaXggPSBxbi5wcmVmaXhcbiAgICAgIHRhZy5sb2NhbCA9IHFuLmxvY2FsXG4gICAgICB0YWcudXJpID0gdGFnLm5zW3FuLnByZWZpeF0gfHwgJydcblxuICAgICAgaWYgKHRhZy5wcmVmaXggJiYgIXRhZy51cmkpIHtcbiAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbmJvdW5kIG5hbWVzcGFjZSBwcmVmaXg6ICcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHBhcnNlci50YWdOYW1lKSlcbiAgICAgICAgdGFnLnVyaSA9IHFuLnByZWZpeFxuICAgICAgfVxuXG4gICAgICB2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyXG4gICAgICBpZiAodGFnLm5zICYmIHBhcmVudC5ucyAhPT0gdGFnLm5zKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRhZy5ucykuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29ub3Blbm5hbWVzcGFjZScsIHtcbiAgICAgICAgICAgIHByZWZpeDogcCxcbiAgICAgICAgICAgIHVyaTogdGFnLm5zW3BdXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gaGFuZGxlIGRlZmVycmVkIG9uYXR0cmlidXRlIGV2ZW50c1xuICAgICAgLy8gTm90ZTogZG8gbm90IGFwcGx5IGRlZmF1bHQgbnMgdG8gYXR0cmlidXRlczpcbiAgICAgIC8vICAgaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLXhtbC1uYW1lcy8jZGVmYXVsdGluZ1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIG52ID0gcGFyc2VyLmF0dHJpYkxpc3RbaV1cbiAgICAgICAgdmFyIG5hbWUgPSBudlswXVxuICAgICAgICB2YXIgdmFsdWUgPSBudlsxXVxuICAgICAgICB2YXIgcXVhbE5hbWUgPSBxbmFtZShuYW1lLCB0cnVlKVxuICAgICAgICB2YXIgcHJlZml4ID0gcXVhbE5hbWUucHJlZml4XG4gICAgICAgIHZhciBsb2NhbCA9IHF1YWxOYW1lLmxvY2FsXG4gICAgICAgIHZhciB1cmkgPSBwcmVmaXggPT09ICcnID8gJycgOiAodGFnLm5zW3ByZWZpeF0gfHwgJycpXG4gICAgICAgIHZhciBhID0ge1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHByZWZpeDogcHJlZml4LFxuICAgICAgICAgIGxvY2FsOiBsb2NhbCxcbiAgICAgICAgICB1cmk6IHVyaVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUncyBhbnkgYXR0cmlidXRlcyB3aXRoIGFuIHVuZGVmaW5lZCBuYW1lc3BhY2UsXG4gICAgICAgIC8vIHRoZW4gZmFpbCBvbiB0aGVtIG5vdy5cbiAgICAgICAgaWYgKHByZWZpeCAmJiBwcmVmaXggIT09ICd4bWxucycgJiYgIXVyaSkge1xuICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5ib3VuZCBuYW1lc3BhY2UgcHJlZml4OiAnICtcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByZWZpeCkpXG4gICAgICAgICAgYS51cmkgPSBwcmVmaXhcbiAgICAgICAgfVxuICAgICAgICBwYXJzZXIudGFnLmF0dHJpYnV0ZXNbbmFtZV0gPSBhXG4gICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uYXR0cmlidXRlJywgYSlcbiAgICAgIH1cbiAgICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgICB9XG5cbiAgICBwYXJzZXIudGFnLmlzU2VsZkNsb3NpbmcgPSAhIXNlbGZDbG9zaW5nXG5cbiAgICAvLyBwcm9jZXNzIHRoZSB0YWdcbiAgICBwYXJzZXIuc2F3Um9vdCA9IHRydWVcbiAgICBwYXJzZXIudGFncy5wdXNoKHBhcnNlci50YWcpXG4gICAgZW1pdE5vZGUocGFyc2VyLCAnb25vcGVudGFnJywgcGFyc2VyLnRhZylcbiAgICBpZiAoIXNlbGZDbG9zaW5nKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIDxzY3JpcHQ+IGluIG5vbi1zdHJpY3QgbW9kZS5cbiAgICAgIGlmICghcGFyc2VyLm5vc2NyaXB0ICYmIHBhcnNlci50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzY3JpcHQnKSB7XG4gICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgIH1cbiAgICAgIHBhcnNlci50YWcgPSBudWxsXG4gICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgfVxuICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICBwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGggPSAwXG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVRhZyAocGFyc2VyKSB7XG4gICAgaWYgKCFwYXJzZXIudGFnTmFtZSkge1xuICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdXZWlyZCBlbXB0eSBjbG9zZSB0YWcuJylcbiAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSAnPC8+J1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAocGFyc2VyLnNjcmlwdCkge1xuICAgICAgaWYgKHBhcnNlci50YWdOYW1lICE9PSAnc2NyaXB0Jykge1xuICAgICAgICBwYXJzZXIuc2NyaXB0ICs9ICc8LycgKyBwYXJzZXIudGFnTmFtZSArICc+J1xuICAgICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25zY3JpcHQnLCBwYXJzZXIuc2NyaXB0KVxuICAgICAgcGFyc2VyLnNjcmlwdCA9ICcnXG4gICAgfVxuXG4gICAgLy8gZmlyc3QgbWFrZSBzdXJlIHRoYXQgdGhlIGNsb3NpbmcgdGFnIGFjdHVhbGx5IGV4aXN0cy5cbiAgICAvLyA8YT48Yj48L2M+PC9iPjwvYT4gd2lsbCBjbG9zZSBldmVyeXRoaW5nLCBvdGhlcndpc2UuXG4gICAgdmFyIHQgPSBwYXJzZXIudGFncy5sZW5ndGhcbiAgICB2YXIgdGFnTmFtZSA9IHBhcnNlci50YWdOYW1lXG4gICAgaWYgKCFwYXJzZXIuc3RyaWN0KSB7XG4gICAgICB0YWdOYW1lID0gdGFnTmFtZVtwYXJzZXIubG9vc2VDYXNlXSgpXG4gICAgfVxuICAgIHZhciBjbG9zZVRvID0gdGFnTmFtZVxuICAgIHdoaWxlICh0LS0pIHtcbiAgICAgIHZhciBjbG9zZSA9IHBhcnNlci50YWdzW3RdXG4gICAgICBpZiAoY2xvc2UubmFtZSAhPT0gY2xvc2VUbykge1xuICAgICAgICAvLyBmYWlsIHRoZSBmaXJzdCB0aW1lIGluIHN0cmljdCBtb2RlXG4gICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5leHBlY3RlZCBjbG9zZSB0YWcnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkaWRuJ3QgZmluZCBpdC4gIHdlIGFscmVhZHkgZmFpbGVkIGZvciBzdHJpY3QsIHNvIGp1c3QgYWJvcnQuXG4gICAgaWYgKHQgPCAwKSB7XG4gICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VubWF0Y2hlZCBjbG9zaW5nIHRhZzogJyArIHBhcnNlci50YWdOYW1lKVxuICAgICAgcGFyc2VyLnRleHROb2RlICs9ICc8LycgKyBwYXJzZXIudGFnTmFtZSArICc+J1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgcGFyc2VyLnRhZ05hbWUgPSB0YWdOYW1lXG4gICAgdmFyIHMgPSBwYXJzZXIudGFncy5sZW5ndGhcbiAgICB3aGlsZSAocy0tID4gdCkge1xuICAgICAgdmFyIHRhZyA9IHBhcnNlci50YWcgPSBwYXJzZXIudGFncy5wb3AoKVxuICAgICAgcGFyc2VyLnRhZ05hbWUgPSBwYXJzZXIudGFnLm5hbWVcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2xvc2V0YWcnLCBwYXJzZXIudGFnTmFtZSlcblxuICAgICAgdmFyIHggPSB7fVxuICAgICAgZm9yICh2YXIgaSBpbiB0YWcubnMpIHtcbiAgICAgICAgeFtpXSA9IHRhZy5uc1tpXVxuICAgICAgfVxuXG4gICAgICB2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyXG4gICAgICBpZiAocGFyc2VyLm9wdC54bWxucyAmJiB0YWcubnMgIT09IHBhcmVudC5ucykge1xuICAgICAgICAvLyByZW1vdmUgbmFtZXNwYWNlIGJpbmRpbmdzIGludHJvZHVjZWQgYnkgdGFnXG4gICAgICAgIE9iamVjdC5rZXlzKHRhZy5ucykuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgIHZhciBuID0gdGFnLm5zW3BdXG4gICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jbG9zZW5hbWVzcGFjZScsIHsgcHJlZml4OiBwLCB1cmk6IG4gfSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHQgPT09IDApIHBhcnNlci5jbG9zZWRSb290ID0gdHJ1ZVxuICAgIHBhcnNlci50YWdOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gcGFyc2VyLmF0dHJpYk5hbWUgPSAnJ1xuICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlRW50aXR5IChwYXJzZXIpIHtcbiAgICB2YXIgZW50aXR5ID0gcGFyc2VyLmVudGl0eVxuICAgIHZhciBlbnRpdHlMQyA9IGVudGl0eS50b0xvd2VyQ2FzZSgpXG4gICAgdmFyIG51bVxuICAgIHZhciBudW1TdHIgPSAnJ1xuXG4gICAgaWYgKHBhcnNlci5FTlRJVElFU1tlbnRpdHldKSB7XG4gICAgICByZXR1cm4gcGFyc2VyLkVOVElUSUVTW2VudGl0eV1cbiAgICB9XG4gICAgaWYgKHBhcnNlci5FTlRJVElFU1tlbnRpdHlMQ10pIHtcbiAgICAgIHJldHVybiBwYXJzZXIuRU5USVRJRVNbZW50aXR5TENdXG4gICAgfVxuICAgIGVudGl0eSA9IGVudGl0eUxDXG4gICAgaWYgKGVudGl0eS5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgaWYgKGVudGl0eS5jaGFyQXQoMSkgPT09ICd4Jykge1xuICAgICAgICBlbnRpdHkgPSBlbnRpdHkuc2xpY2UoMilcbiAgICAgICAgbnVtID0gcGFyc2VJbnQoZW50aXR5LCAxNilcbiAgICAgICAgbnVtU3RyID0gbnVtLnRvU3RyaW5nKDE2KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW50aXR5ID0gZW50aXR5LnNsaWNlKDEpXG4gICAgICAgIG51bSA9IHBhcnNlSW50KGVudGl0eSwgMTApXG4gICAgICAgIG51bVN0ciA9IG51bS50b1N0cmluZygxMClcbiAgICAgIH1cbiAgICB9XG4gICAgZW50aXR5ID0gZW50aXR5LnJlcGxhY2UoL14wKy8sICcnKVxuICAgIGlmIChpc05hTihudW0pIHx8IG51bVN0ci50b0xvd2VyQ2FzZSgpICE9PSBlbnRpdHkpIHtcbiAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBjaGFyYWN0ZXIgZW50aXR5JylcbiAgICAgIHJldHVybiAnJicgKyBwYXJzZXIuZW50aXR5ICsgJzsnXG4gICAgfVxuXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KG51bSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGJlZ2luV2hpdGVTcGFjZSAocGFyc2VyLCBjKSB7XG4gICAgaWYgKGMgPT09ICc8Jykge1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1dBS0FcbiAgICAgIHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uID0gcGFyc2VyLnBvc2l0aW9uXG4gICAgfSBlbHNlIGlmICghaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAvLyBoYXZlIHRvIHByb2Nlc3MgdGhpcyBhcyBhIHRleHQgbm9kZS5cbiAgICAgIC8vIHdlaXJkLCBidXQgaGFwcGVucy5cbiAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnTm9uLXdoaXRlc3BhY2UgYmVmb3JlIGZpcnN0IHRhZy4nKVxuICAgICAgcGFyc2VyLnRleHROb2RlID0gY1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hhckF0IChjaHVuaywgaSkge1xuICAgIHZhciByZXN1bHQgPSAnJ1xuICAgIGlmIChpIDwgY2h1bmsubGVuZ3RoKSB7XG4gICAgICByZXN1bHQgPSBjaHVuay5jaGFyQXQoaSlcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGUgKGNodW5rKSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXNcbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5lcnJvclxuICAgIH1cbiAgICBpZiAocGFyc2VyLmNsb3NlZCkge1xuICAgICAgcmV0dXJuIGVycm9yKHBhcnNlcixcbiAgICAgICAgJ0Nhbm5vdCB3cml0ZSBhZnRlciBjbG9zZS4gQXNzaWduIGFuIG9ucmVhZHkgaGFuZGxlci4nKVxuICAgIH1cbiAgICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBlbmQocGFyc2VyKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNodW5rID09PSAnb2JqZWN0Jykge1xuICAgICAgY2h1bmsgPSBjaHVuay50b1N0cmluZygpXG4gICAgfVxuICAgIHZhciBpID0gMFxuICAgIHZhciBjID0gJydcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgYyA9IGNoYXJBdChjaHVuaywgaSsrKVxuICAgICAgcGFyc2VyLmMgPSBjXG5cbiAgICAgIGlmICghYykge1xuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcbiAgICAgICAgcGFyc2VyLnBvc2l0aW9uKytcbiAgICAgICAgaWYgKGMgPT09ICdcXG4nKSB7XG4gICAgICAgICAgcGFyc2VyLmxpbmUrK1xuICAgICAgICAgIHBhcnNlci5jb2x1bW4gPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyc2VyLmNvbHVtbisrXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChwYXJzZXIuc3RhdGUpIHtcbiAgICAgICAgY2FzZSBTLkJFR0lOOlxuICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQkVHSU5fV0hJVEVTUEFDRVxuICAgICAgICAgIGlmIChjID09PSAnXFx1RkVGRicpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJlZ2luV2hpdGVTcGFjZShwYXJzZXIsIGMpXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQkVHSU5fV0hJVEVTUEFDRTpcbiAgICAgICAgICBiZWdpbldoaXRlU3BhY2UocGFyc2VyLCBjKVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlRFWFQ6XG4gICAgICAgICAgaWYgKHBhcnNlci5zYXdSb290ICYmICFwYXJzZXIuY2xvc2VkUm9vdCkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0aSA9IGkgLSAxXG4gICAgICAgICAgICB3aGlsZSAoYyAmJiBjICE9PSAnPCcgJiYgYyAhPT0gJyYnKSB7XG4gICAgICAgICAgICAgIGMgPSBjaGFyQXQoY2h1bmssIGkrKylcbiAgICAgICAgICAgICAgaWYgKGMgJiYgcGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBwYXJzZXIucG9zaXRpb24rK1xuICAgICAgICAgICAgICAgIGlmIChjID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICAgcGFyc2VyLmxpbmUrK1xuICAgICAgICAgICAgICAgICAgcGFyc2VyLmNvbHVtbiA9IDBcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGFyc2VyLmNvbHVtbisrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIudGV4dE5vZGUgKz0gY2h1bmsuc3Vic3RyaW5nKHN0YXJ0aSwgaSAtIDEpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjID09PSAnPCcgJiYgIShwYXJzZXIuc2F3Um9vdCAmJiBwYXJzZXIuY2xvc2VkUm9vdCAmJiAhcGFyc2VyLnN0cmljdCkpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9XQUtBXG4gICAgICAgICAgICBwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiA9IHBhcnNlci5wb3NpdGlvblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzV2hpdGVzcGFjZShjKSAmJiAoIXBhcnNlci5zYXdSb290IHx8IHBhcnNlci5jbG9zZWRSb290KSkge1xuICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1RleHQgZGF0YSBvdXRzaWRlIG9mIHJvb3Qgbm9kZS4nKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICcmJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRfRU5USVRZXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXIudGV4dE5vZGUgKz0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5TQ1JJUFQ6XG4gICAgICAgICAgLy8gb25seSBub24tc3RyaWN0XG4gICAgICAgICAgaWYgKGMgPT09ICc8Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRfRU5ESU5HXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5TQ1JJUFRfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0xPU0VfVEFHXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgKz0gJzwnICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuT1BFTl9XQUtBOlxuICAgICAgICAgIC8vIGVpdGhlciBhIC8sID8sICEsIG9yIHRleHQgaXMgY29taW5nIG5leHQuXG4gICAgICAgICAgaWYgKGMgPT09ICchJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TR01MX0RFQ0xcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIGl0Li4uXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdcbiAgICAgICAgICAgIHBhcnNlci50YWdOYW1lID0gY1xuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNMT1NFX1RBR1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgPSAnJ1xuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVFxuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0TmFtZSA9IHBhcnNlci5wcm9jSW5zdEJvZHkgPSAnJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VuZW5jb2RlZCA8JylcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIHdhcyBzb21lIHdoaXRlc3BhY2UsIHRoZW4gYWRkIHRoYXQgaW4uXG4gICAgICAgICAgICBpZiAocGFyc2VyLnN0YXJ0VGFnUG9zaXRpb24gKyAxIDwgcGFyc2VyLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIHZhciBwYWQgPSBwYXJzZXIucG9zaXRpb24gLSBwYXJzZXIuc3RhcnRUYWdQb3NpdGlvblxuICAgICAgICAgICAgICBjID0gbmV3IEFycmF5KHBhZCkuam9pbignICcpICsgY1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VyLnRleHROb2RlICs9ICc8JyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5TR01MX0RFQ0w6XG4gICAgICAgICAgaWYgKChwYXJzZXIuc2dtbERlY2wgKyBjKS50b1VwcGVyQ2FzZSgpID09PSBDREFUQSkge1xuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25vcGVuY2RhdGEnKVxuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DREFUQVxuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJzZXIuc2dtbERlY2wgKyBjID09PSAnLS0nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlRcbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmICgocGFyc2VyLnNnbWxEZWNsICsgYykudG9VcHBlckNhc2UoKSA9PT0gRE9DVFlQRSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFXG4gICAgICAgICAgICBpZiAocGFyc2VyLmRvY3R5cGUgfHwgcGFyc2VyLnNhd1Jvb3QpIHtcbiAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsXG4gICAgICAgICAgICAgICAgJ0luYXBwcm9wcmlhdGVseSBsb2NhdGVkIGRvY3R5cGUgZGVjbGFyYXRpb24nKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VyLmRvY3R5cGUgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25zZ21sZGVjbGFyYXRpb24nLCBwYXJzZXIuc2dtbERlY2wpXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNHTUxfREVDTF9RVU9URURcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCArPSBjXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNHTUxfREVDTF9RVU9URUQ6XG4gICAgICAgICAgaWYgKGMgPT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNHTUxfREVDTFxuICAgICAgICAgICAgcGFyc2VyLnEgPSAnJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgKz0gY1xuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkRPQ1RZUEU6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmRvY3R5cGUnLCBwYXJzZXIuZG9jdHlwZSlcbiAgICAgICAgICAgIHBhcnNlci5kb2N0eXBlID0gdHJ1ZSAvLyBqdXN0IHJlbWVtYmVyIHRoYXQgd2Ugc2F3IGl0LlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgICBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRV9EVERcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfUVVPVEVEXG4gICAgICAgICAgICAgIHBhcnNlci5xID0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5ET0NUWVBFX1FVT1RFRDpcbiAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgaWYgKGMgPT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuRE9DVFlQRV9EVEQ6XG4gICAgICAgICAgcGFyc2VyLmRvY3R5cGUgKz0gY1xuICAgICAgICAgIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX0RURF9RVU9URURcbiAgICAgICAgICAgIHBhcnNlci5xID0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5ET0NUWVBFX0RURF9RVU9URUQ6XG4gICAgICAgICAgcGFyc2VyLmRvY3R5cGUgKz0gY1xuICAgICAgICAgIGlmIChjID09PSBwYXJzZXIucSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX0RURFxuICAgICAgICAgICAgcGFyc2VyLnEgPSAnJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DT01NRU5UOlxuICAgICAgICAgIGlmIChjID09PSAnLScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DT01NRU5UX0VORElORzpcbiAgICAgICAgICBpZiAoYyA9PT0gJy0nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlRfRU5ERURcbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ID0gdGV4dG9wdHMocGFyc2VyLm9wdCwgcGFyc2VyLmNvbW1lbnQpXG4gICAgICAgICAgICBpZiAocGFyc2VyLmNvbW1lbnQpIHtcbiAgICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jb21tZW50JywgcGFyc2VyLmNvbW1lbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIuY29tbWVudCA9ICcnXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ICs9ICctJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DT01NRU5UX0VOREVEOlxuICAgICAgICAgIGlmIChjICE9PSAnPicpIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnTWFsZm9ybWVkIGNvbW1lbnQnKVxuICAgICAgICAgICAgLy8gYWxsb3cgPCEtLSBibGFoIC0tIGJsb28gLS0+IGluIG5vbi1zdHJpY3QgbW9kZSxcbiAgICAgICAgICAgIC8vIHdoaWNoIGlzIGEgY29tbWVudCBvZiBcIiBibGFoIC0tIGJsb28gXCJcbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ICs9ICctLScgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNEQVRBOlxuICAgICAgICAgIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFfRU5ESU5HXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNEQVRBX0VORElORzpcbiAgICAgICAgICBpZiAoYyA9PT0gJ10nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBX0VORElOR18yXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSArPSAnXScgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNEQVRBX0VORElOR18yOlxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGlmIChwYXJzZXIuY2RhdGEpIHtcbiAgICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jZGF0YScsIHBhcnNlci5jZGF0YSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2xvc2VjZGF0YScpXG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSArPSAnXSdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9ICddXScgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlBST0NfSU5TVDpcbiAgICAgICAgICBpZiAoYyA9PT0gJz8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfQk9EWVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3ROYW1lICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuUFJPQ19JTlNUX0JPRFk6XG4gICAgICAgICAgaWYgKCFwYXJzZXIucHJvY0luc3RCb2R5ICYmIGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc/Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfRU5ESU5HXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdEJvZHkgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5QUk9DX0lOU1RfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29ucHJvY2Vzc2luZ2luc3RydWN0aW9uJywge1xuICAgICAgICAgICAgICBuYW1lOiBwYXJzZXIucHJvY0luc3ROYW1lLFxuICAgICAgICAgICAgICBib2R5OiBwYXJzZXIucHJvY0luc3RCb2R5XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0TmFtZSA9IHBhcnNlci5wcm9jSW5zdEJvZHkgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdEJvZHkgKz0gJz8nICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfQk9EWVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5PUEVOX1RBRzpcbiAgICAgICAgICBpZiAoaXNNYXRjaChuYW1lQm9keSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci50YWdOYW1lICs9IGNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3VGFnKHBhcnNlcilcbiAgICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHX1NMQVNIXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoIWlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBjaGFyYWN0ZXIgaW4gdGFnIG5hbWUnKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLk9QRU5fVEFHX1NMQVNIOlxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyLCB0cnVlKVxuICAgICAgICAgICAgY2xvc2VUYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ZvcndhcmQtc2xhc2ggaW4gb3BlbmluZyB0YWcgbm90IGZvbGxvd2VkIGJ5ID4nKVxuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCOlxuICAgICAgICAgIC8vIGhhdmVuJ3QgcmVhZCB0aGUgYXR0cmlidXRlIG5hbWUgeWV0LlxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHX1NMQVNIXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gY1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX05BTUU6XG4gICAgICAgICAgaWYgKGMgPT09ICc9Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdBdHRyaWJ1dGUgd2l0aG91dCB2YWx1ZScpXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSBwYXJzZXIuYXR0cmliTmFtZVxuICAgICAgICAgICAgYXR0cmliKHBhcnNlcilcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9OQU1FX1NBV19XSElURVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaChuYW1lQm9keSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lICs9IGNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX05BTUVfU0FXX1dISVRFOlxuICAgICAgICAgIGlmIChjID09PSAnPScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnQXR0cmlidXRlIHdpdGhvdXQgdmFsdWUnKVxuICAgICAgICAgICAgcGFyc2VyLnRhZy5hdHRyaWJ1dGVzW3BhcnNlci5hdHRyaWJOYW1lXSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25hdHRyaWJ1dGUnLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHBhcnNlci5hdHRyaWJOYW1lLFxuICAgICAgICAgICAgICB2YWx1ZTogJydcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliTmFtZSA9ICcnXG4gICAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBjXG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZScpXG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRTpcbiAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnEgPSBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9RVU9URURcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUnKVxuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfVU5RVU9URURcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX1FVT1RFRDpcbiAgICAgICAgICBpZiAoYyAhPT0gcGFyc2VyLnEpIHtcbiAgICAgICAgICAgIGlmIChjID09PSAnJicpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfRU5USVRZX1FcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSArPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBhdHRyaWIocGFyc2VyKVxuICAgICAgICAgIHBhcnNlci5xID0gJydcbiAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9DTE9TRURcbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfQ0xPU0VEOlxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHX1NMQVNIXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnTm8gd2hpdGVzcGFjZSBiZXR3ZWVuIGF0dHJpYnV0ZXMnKVxuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBjXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWUnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfVU5RVU9URUQ6XG4gICAgICAgICAgaWYgKCFpc0F0dHJpYkVuZChjKSkge1xuICAgICAgICAgICAgaWYgKGMgPT09ICcmJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlICs9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGF0dHJpYihwYXJzZXIpXG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNMT1NFX1RBRzpcbiAgICAgICAgICBpZiAoIXBhcnNlci50YWdOYW1lKSB7XG4gICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vdE1hdGNoKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgICAgaWYgKHBhcnNlci5zY3JpcHQpIHtcbiAgICAgICAgICAgICAgICBwYXJzZXIuc2NyaXB0ICs9ICc8LycgKyBjXG4gICAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgdGFnbmFtZSBpbiBjbG9zaW5nIHRhZy4nKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXIudGFnTmFtZSA9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgY2xvc2VUYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaChuYW1lQm9keSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci50YWdOYW1lICs9IGNcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlci5zY3JpcHQpIHtcbiAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgKz0gJzwvJyArIHBhcnNlci50YWdOYW1lXG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgdGFnbmFtZSBpbiBjbG9zaW5nIHRhZycpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNMT1NFX1RBR19TQVdfV0hJVEVcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0xPU0VfVEFHX1NBV19XSElURTpcbiAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBjbG9zZVRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBjaGFyYWN0ZXJzIGluIGNsb3NpbmcgdGFnJylcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuVEVYVF9FTlRJVFk6XG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1E6XG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1U6XG4gICAgICAgICAgdmFyIHJldHVyblN0YXRlXG4gICAgICAgICAgdmFyIGJ1ZmZlclxuICAgICAgICAgIHN3aXRjaCAocGFyc2VyLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIFMuVEVYVF9FTlRJVFk6XG4gICAgICAgICAgICAgIHJldHVyblN0YXRlID0gUy5URVhUXG4gICAgICAgICAgICAgIGJ1ZmZlciA9ICd0ZXh0Tm9kZSdcbiAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUTpcbiAgICAgICAgICAgICAgcmV0dXJuU3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9RVU9URURcbiAgICAgICAgICAgICAgYnVmZmVyID0gJ2F0dHJpYlZhbHVlJ1xuICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX0VOVElUWV9VOlxuICAgICAgICAgICAgICByZXR1cm5TdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1VOUVVPVEVEXG4gICAgICAgICAgICAgIGJ1ZmZlciA9ICdhdHRyaWJWYWx1ZSdcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYyA9PT0gJzsnKSB7XG4gICAgICAgICAgICBwYXJzZXJbYnVmZmVyXSArPSBwYXJzZUVudGl0eShwYXJzZXIpXG4gICAgICAgICAgICBwYXJzZXIuZW50aXR5ID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IHJldHVyblN0YXRlXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKHBhcnNlci5lbnRpdHkubGVuZ3RoID8gZW50aXR5Qm9keSA6IGVudGl0eVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLmVudGl0eSArPSBjXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBjaGFyYWN0ZXIgaW4gZW50aXR5IG5hbWUnKVxuICAgICAgICAgICAgcGFyc2VyW2J1ZmZlcl0gKz0gJyYnICsgcGFyc2VyLmVudGl0eSArIGNcbiAgICAgICAgICAgIHBhcnNlci5lbnRpdHkgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gcmV0dXJuU3RhdGVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBhcnNlciwgJ1Vua25vd24gc3RhdGU6ICcgKyBwYXJzZXIuc3RhdGUpXG4gICAgICB9XG4gICAgfSAvLyB3aGlsZVxuXG4gICAgaWYgKHBhcnNlci5wb3NpdGlvbiA+PSBwYXJzZXIuYnVmZmVyQ2hlY2tQb3NpdGlvbikge1xuICAgICAgY2hlY2tCdWZmZXJMZW5ndGgocGFyc2VyKVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VyXG4gIH1cblxuICAvKiEgaHR0cDovL210aHMuYmUvZnJvbWNvZGVwb2ludCB2MC4xLjAgYnkgQG1hdGhpYXMgKi9cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKCFTdHJpbmcuZnJvbUNvZGVQb2ludCkge1xuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZVxuICAgICAgdmFyIGZsb29yID0gTWF0aC5mbG9vclxuICAgICAgdmFyIGZyb21Db2RlUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBNQVhfU0laRSA9IDB4NDAwMFxuICAgICAgICB2YXIgY29kZVVuaXRzID0gW11cbiAgICAgICAgdmFyIGhpZ2hTdXJyb2dhdGVcbiAgICAgICAgdmFyIGxvd1N1cnJvZ2F0ZVxuICAgICAgICB2YXIgaW5kZXggPSAtMVxuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiAnJ1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSAnJ1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBjb2RlUG9pbnQgPSBOdW1iZXIoYXJndW1lbnRzW2luZGV4XSlcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNGaW5pdGUoY29kZVBvaW50KSB8fCAvLyBgTmFOYCwgYCtJbmZpbml0eWAsIG9yIGAtSW5maW5pdHlgXG4gICAgICAgICAgICBjb2RlUG9pbnQgPCAwIHx8IC8vIG5vdCBhIHZhbGlkIFVuaWNvZGUgY29kZSBwb2ludFxuICAgICAgICAgICAgY29kZVBvaW50ID4gMHgxMEZGRkYgfHwgLy8gbm90IGEgdmFsaWQgVW5pY29kZSBjb2RlIHBvaW50XG4gICAgICAgICAgICBmbG9vcihjb2RlUG9pbnQpICE9PSBjb2RlUG9pbnQgLy8gbm90IGFuIGludGVnZXJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IFJhbmdlRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludDogJyArIGNvZGVQb2ludClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweEZGRkYpIHsgLy8gQk1QIGNvZGUgcG9pbnRcbiAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKGNvZGVQb2ludClcbiAgICAgICAgICB9IGVsc2UgeyAvLyBBc3RyYWwgY29kZSBwb2ludDsgc3BsaXQgaW4gc3Vycm9nYXRlIGhhbHZlc1xuICAgICAgICAgICAgLy8gaHR0cDovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZyNzdXJyb2dhdGUtZm9ybXVsYWVcbiAgICAgICAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICAgICAgICBoaWdoU3Vycm9nYXRlID0gKGNvZGVQb2ludCA+PiAxMCkgKyAweEQ4MDBcbiAgICAgICAgICAgIGxvd1N1cnJvZ2F0ZSA9IChjb2RlUG9pbnQgJSAweDQwMCkgKyAweERDMDBcbiAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKGhpZ2hTdXJyb2dhdGUsIGxvd1N1cnJvZ2F0ZSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gbGVuZ3RoIHx8IGNvZGVVbml0cy5sZW5ndGggPiBNQVhfU0laRSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZS5hcHBseShudWxsLCBjb2RlVW5pdHMpXG4gICAgICAgICAgICBjb2RlVW5pdHMubGVuZ3RoID0gMFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLCAnZnJvbUNvZGVQb2ludCcsIHtcbiAgICAgICAgICB2YWx1ZTogZnJvbUNvZGVQb2ludCxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFN0cmluZy5mcm9tQ29kZVBvaW50ID0gZnJvbUNvZGVQb2ludFxuICAgICAgfVxuICAgIH0oKSlcbiAgfVxufSkodHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnID8gdGhpcy5zYXggPSB7fSA6IGV4cG9ydHMpXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VYbWwgPSBleHBvcnRzLlhFbGVtZW50ID0gdm9pZCAwO1xuY29uc3Qgc2F4ID0gcmVxdWlyZShcInNheFwiKTtcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiLi9pbmRleFwiKTtcbmNsYXNzIFhFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmlzQ0RhdGEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IG51bGw7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgaW5kZXhfMS5uZXdFcnJvcihcIkVsZW1lbnQgbmFtZSBjYW5ub3QgYmUgZW1wdHlcIiwgXCJFUlJfWE1MX0VMRU1FTlRfTkFNRV9FTVBUWVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVmFsaWROYW1lKG5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBpbmRleF8xLm5ld0Vycm9yKGBJbnZhbGlkIGVsZW1lbnQgbmFtZTogJHtuYW1lfWAsIFwiRVJSX1hNTF9FTEVNRU5UX0lOVkFMSURfTkFNRVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhdHRyaWJ1dGUobmFtZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmF0dHJpYnV0ZXMgPT09IG51bGwgPyBudWxsIDogdGhpcy5hdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGluZGV4XzEubmV3RXJyb3IoYE5vIGF0dHJpYnV0ZSBcIiR7bmFtZX1cImAsIFwiRVJSX1hNTF9NSVNTRURfQVRUUklCVVRFXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlbW92ZUF0dHJpYnV0ZShuYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudChuYW1lLCBpZ25vcmVDYXNlID0gZmFsc2UsIGVycm9ySWZNaXNzZWQgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZWxlbWVudE9yTnVsbChuYW1lLCBpZ25vcmVDYXNlKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgaW5kZXhfMS5uZXdFcnJvcihlcnJvcklmTWlzc2VkIHx8IGBObyBlbGVtZW50IFwiJHtuYW1lfVwiYCwgXCJFUlJfWE1MX01JU1NFRF9FTEVNRU5UXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGVsZW1lbnRPck51bGwobmFtZSwgaWdub3JlQ2FzZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5lbGVtZW50cykge1xuICAgICAgICAgICAgaWYgKGlzTmFtZUVxdWFscyhlbGVtZW50LCBuYW1lLCBpZ25vcmVDYXNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRFbGVtZW50cyhuYW1lLCBpZ25vcmVDYXNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5maWx0ZXIoaXQgPT4gaXNOYW1lRXF1YWxzKGl0LCBuYW1lLCBpZ25vcmVDYXNlKSk7XG4gICAgfVxuICAgIGVsZW1lbnRWYWx1ZU9yRW1wdHkobmFtZSwgaWdub3JlQ2FzZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRPck51bGwobmFtZSwgaWdub3JlQ2FzZSk7XG4gICAgICAgIHJldHVybiBlbGVtZW50ID09PSBudWxsID8gXCJcIiA6IGVsZW1lbnQudmFsdWU7XG4gICAgfVxufVxuZXhwb3J0cy5YRWxlbWVudCA9IFhFbGVtZW50O1xuY29uc3QgTkFNRV9SRUdfRVhQID0gbmV3IFJlZ0V4cCgvXltBLVphLXpfXVs6QS1aYS16MC05Xy1dKiQvaSk7XG5mdW5jdGlvbiBpc1ZhbGlkTmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIE5BTUVfUkVHX0VYUC50ZXN0KG5hbWUpO1xufVxuZnVuY3Rpb24gaXNOYW1lRXF1YWxzKGVsZW1lbnQsIG5hbWUsIGlnbm9yZUNhc2UpIHtcbiAgICBjb25zdCBlbGVtZW50TmFtZSA9IGVsZW1lbnQubmFtZTtcbiAgICByZXR1cm4gZWxlbWVudE5hbWUgPT09IG5hbWUgfHwgKGlnbm9yZUNhc2UgPT09IHRydWUgJiYgZWxlbWVudE5hbWUubGVuZ3RoID09PSBuYW1lLmxlbmd0aCAmJiBlbGVtZW50TmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gcGFyc2VYbWwoZGF0YSkge1xuICAgIGxldCByb290RWxlbWVudCA9IG51bGw7XG4gICAgY29uc3QgcGFyc2VyID0gc2F4LnBhcnNlcih0cnVlLCB7fSk7XG4gICAgY29uc3QgZWxlbWVudHMgPSBbXTtcbiAgICBwYXJzZXIub25vcGVudGFnID0gc2F4RWxlbWVudCA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBuZXcgWEVsZW1lbnQoc2F4RWxlbWVudC5uYW1lKTtcbiAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzID0gc2F4RWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgICAgICBpZiAocm9vdEVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJvb3RFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGVsZW1lbnRzW2VsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKHBhcmVudC5lbGVtZW50cyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmVsZW1lbnRzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQuZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgIH07XG4gICAgcGFyc2VyLm9uY2xvc2V0YWcgPSAoKSA9PiB7XG4gICAgICAgIGVsZW1lbnRzLnBvcCgpO1xuICAgIH07XG4gICAgcGFyc2VyLm9udGV4dCA9IHRleHQgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZWxlbWVudHNbZWxlbWVudHMubGVuZ3RoIC0gMV0udmFsdWUgPSB0ZXh0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBwYXJzZXIub25jZGF0YSA9IGNkYXRhID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2VsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBlbGVtZW50LnZhbHVlID0gY2RhdGE7XG4gICAgICAgIGVsZW1lbnQuaXNDRGF0YSA9IHRydWU7XG4gICAgfTtcbiAgICBwYXJzZXIub25lcnJvciA9IGVyciA9PiB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICB9O1xuICAgIHBhcnNlci53cml0ZShkYXRhKTtcbiAgICByZXR1cm4gcm9vdEVsZW1lbnQ7XG59XG5leHBvcnRzLnBhcnNlWG1sID0gcGFyc2VYbWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD14bWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm5ld0Vycm9yID0gZXhwb3J0cy5hc0FycmF5ID0gZXhwb3J0cy5DVVJSRU5UX0FQUF9QQUNLQUdFX0ZJTEVfTkFNRSA9IGV4cG9ydHMuQ1VSUkVOVF9BUFBfSU5TVEFMTEVSX0ZJTEVfTkFNRSA9IGV4cG9ydHMuWEVsZW1lbnQgPSBleHBvcnRzLnBhcnNlWG1sID0gZXhwb3J0cy5Qcm9ncmVzc0NhbGxiYWNrVHJhbnNmb3JtID0gZXhwb3J0cy5VVUlEID0gZXhwb3J0cy5wYXJzZURuID0gZXhwb3J0cy5naXRodWJVcmwgPSBleHBvcnRzLmdldFMzTGlrZVByb3ZpZGVyQmFzZVVybCA9IGV4cG9ydHMuY29uZmlndXJlUmVxdWVzdFVybCA9IGV4cG9ydHMucGFyc2VKc29uID0gZXhwb3J0cy5zYWZlU3RyaW5naWZ5SnNvbiA9IGV4cG9ydHMuY29uZmlndXJlUmVxdWVzdE9wdGlvbnNGcm9tVXJsID0gZXhwb3J0cy5jb25maWd1cmVSZXF1ZXN0T3B0aW9ucyA9IGV4cG9ydHMuc2FmZUdldEhlYWRlciA9IGV4cG9ydHMuRGlnZXN0VHJhbnNmb3JtID0gZXhwb3J0cy5IdHRwRXhlY3V0b3IgPSBleHBvcnRzLmNyZWF0ZUh0dHBFcnJvciA9IGV4cG9ydHMuSHR0cEVycm9yID0gZXhwb3J0cy5DYW5jZWxsYXRpb25FcnJvciA9IGV4cG9ydHMuQ2FuY2VsbGF0aW9uVG9rZW4gPSB2b2lkIDA7XG52YXIgQ2FuY2VsbGF0aW9uVG9rZW5fMSA9IHJlcXVpcmUoXCIuL0NhbmNlbGxhdGlvblRva2VuXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2FuY2VsbGF0aW9uVG9rZW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIENhbmNlbGxhdGlvblRva2VuXzEuQ2FuY2VsbGF0aW9uVG9rZW47IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDYW5jZWxsYXRpb25FcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQ2FuY2VsbGF0aW9uVG9rZW5fMS5DYW5jZWxsYXRpb25FcnJvcjsgfSB9KTtcbnZhciBodHRwRXhlY3V0b3JfMSA9IHJlcXVpcmUoXCIuL2h0dHBFeGVjdXRvclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkh0dHBFcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaHR0cEV4ZWN1dG9yXzEuSHR0cEVycm9yOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlSHR0cEVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBodHRwRXhlY3V0b3JfMS5jcmVhdGVIdHRwRXJyb3I7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJIdHRwRXhlY3V0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGh0dHBFeGVjdXRvcl8xLkh0dHBFeGVjdXRvcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkRpZ2VzdFRyYW5zZm9ybVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaHR0cEV4ZWN1dG9yXzEuRGlnZXN0VHJhbnNmb3JtOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2FmZUdldEhlYWRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaHR0cEV4ZWN1dG9yXzEuc2FmZUdldEhlYWRlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbmZpZ3VyZVJlcXVlc3RPcHRpb25zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBodHRwRXhlY3V0b3JfMS5jb25maWd1cmVSZXF1ZXN0T3B0aW9uczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbmZpZ3VyZVJlcXVlc3RPcHRpb25zRnJvbVVybFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaHR0cEV4ZWN1dG9yXzEuY29uZmlndXJlUmVxdWVzdE9wdGlvbnNGcm9tVXJsOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2FmZVN0cmluZ2lmeUpzb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGh0dHBFeGVjdXRvcl8xLnNhZmVTdHJpbmdpZnlKc29uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicGFyc2VKc29uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBodHRwRXhlY3V0b3JfMS5wYXJzZUpzb247IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb25maWd1cmVSZXF1ZXN0VXJsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBodHRwRXhlY3V0b3JfMS5jb25maWd1cmVSZXF1ZXN0VXJsOyB9IH0pO1xudmFyIHB1Ymxpc2hPcHRpb25zXzEgPSByZXF1aXJlKFwiLi9wdWJsaXNoT3B0aW9uc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImdldFMzTGlrZVByb3ZpZGVyQmFzZVVybFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHVibGlzaE9wdGlvbnNfMS5nZXRTM0xpa2VQcm92aWRlckJhc2VVcmw7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnaXRodWJVcmxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHB1Ymxpc2hPcHRpb25zXzEuZ2l0aHViVXJsOyB9IH0pO1xudmFyIHJmYzIyNTNQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3JmYzIyNTNQYXJzZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwYXJzZURuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZmMyMjUzUGFyc2VyXzEucGFyc2VEbjsgfSB9KTtcbnZhciB1dWlkXzEgPSByZXF1aXJlKFwiLi91dWlkXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVVVJRFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXVpZF8xLlVVSUQ7IH0gfSk7XG52YXIgUHJvZ3Jlc3NDYWxsYmFja1RyYW5zZm9ybV8xID0gcmVxdWlyZShcIi4vUHJvZ3Jlc3NDYWxsYmFja1RyYW5zZm9ybVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlByb2dyZXNzQ2FsbGJhY2tUcmFuc2Zvcm1cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb2dyZXNzQ2FsbGJhY2tUcmFuc2Zvcm1fMS5Qcm9ncmVzc0NhbGxiYWNrVHJhbnNmb3JtOyB9IH0pO1xudmFyIHhtbF8xID0gcmVxdWlyZShcIi4veG1sXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicGFyc2VYbWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHhtbF8xLnBhcnNlWG1sOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiWEVsZW1lbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHhtbF8xLlhFbGVtZW50OyB9IH0pO1xuLy8gbnNpc1xuZXhwb3J0cy5DVVJSRU5UX0FQUF9JTlNUQUxMRVJfRklMRV9OQU1FID0gXCJpbnN0YWxsZXIuZXhlXCI7XG4vLyBuc2lzLXdlYlxuZXhwb3J0cy5DVVJSRU5UX0FQUF9QQUNLQUdFX0ZJTEVfTkFNRSA9IFwicGFja2FnZS43elwiO1xuZnVuY3Rpb24gYXNBcnJheSh2KSB7XG4gICAgaWYgKHYgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW3ZdO1xuICAgIH1cbn1cbmV4cG9ydHMuYXNBcnJheSA9IGFzQXJyYXk7XG5mdW5jdGlvbiBuZXdFcnJvcihtZXNzYWdlLCBjb2RlKSB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgcmV0dXJuIGVycm9yO1xufVxuZXhwb3J0cy5uZXdFcnJvciA9IG5ld0Vycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuZnJvbUNhbGxiYWNrID0gZnVuY3Rpb24gKGZuKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykgZm4uYXBwbHkodGhpcywgYXJncylcbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGZuLmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgIChlcnIsIHJlcykgPT4gKGVyciAhPSBudWxsKSA/IHJlamVjdChlcnIpIDogcmVzb2x2ZShyZXMpXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfVxuICB9LCAnbmFtZScsIHsgdmFsdWU6IGZuLm5hbWUgfSlcbn1cblxuZXhwb3J0cy5mcm9tUHJvbWlzZSA9IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgY29uc3QgY2IgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV1cbiAgICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncylcbiAgICBlbHNlIGZuLmFwcGx5KHRoaXMsIGFyZ3Muc2xpY2UoMCwgLTEpKS50aGVuKHIgPT4gY2IobnVsbCwgciksIGNiKVxuICB9LCAnbmFtZScsIHsgdmFsdWU6IGZuLm5hbWUgfSlcbn1cbiIsInZhciBjb25zdGFudHMgPSByZXF1aXJlKCdjb25zdGFudHMnKVxuXG52YXIgb3JpZ0N3ZCA9IHByb2Nlc3MuY3dkXG52YXIgY3dkID0gbnVsbFxuXG52YXIgcGxhdGZvcm0gPSBwcm9jZXNzLmVudi5HUkFDRUZVTF9GU19QTEFURk9STSB8fCBwcm9jZXNzLnBsYXRmb3JtXG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24oKSB7XG4gIGlmICghY3dkKVxuICAgIGN3ZCA9IG9yaWdDd2QuY2FsbChwcm9jZXNzKVxuICByZXR1cm4gY3dkXG59XG50cnkge1xuICBwcm9jZXNzLmN3ZCgpXG59IGNhdGNoIChlcikge31cblxuLy8gVGhpcyBjaGVjayBpcyBuZWVkZWQgdW50aWwgbm9kZS5qcyAxMiBpcyByZXF1aXJlZFxuaWYgKHR5cGVvZiBwcm9jZXNzLmNoZGlyID09PSAnZnVuY3Rpb24nKSB7XG4gIHZhciBjaGRpciA9IHByb2Nlc3MuY2hkaXJcbiAgcHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkKSB7XG4gICAgY3dkID0gbnVsbFxuICAgIGNoZGlyLmNhbGwocHJvY2VzcywgZClcbiAgfVxuICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJvY2Vzcy5jaGRpciwgY2hkaXIpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0Y2hcblxuZnVuY3Rpb24gcGF0Y2ggKGZzKSB7XG4gIC8vIChyZS0paW1wbGVtZW50IHNvbWUgdGhpbmdzIHRoYXQgYXJlIGtub3duIGJ1c3RlZCBvciBtaXNzaW5nLlxuXG4gIC8vIGxjaG1vZCwgYnJva2VuIHByaW9yIHRvIDAuNi4yXG4gIC8vIGJhY2stcG9ydCB0aGUgZml4IGhlcmUuXG4gIGlmIChjb25zdGFudHMuaGFzT3duUHJvcGVydHkoJ09fU1lNTElOSycpICYmXG4gICAgICBwcm9jZXNzLnZlcnNpb24ubWF0Y2goL152MFxcLjZcXC5bMC0yXXxedjBcXC41XFwuLykpIHtcbiAgICBwYXRjaExjaG1vZChmcylcbiAgfVxuXG4gIC8vIGx1dGltZXMgaW1wbGVtZW50YXRpb24sIG9yIG5vLW9wXG4gIGlmICghZnMubHV0aW1lcykge1xuICAgIHBhdGNoTHV0aW1lcyhmcylcbiAgfVxuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9pc2FhY3Mvbm9kZS1ncmFjZWZ1bC1mcy9pc3N1ZXMvNFxuICAvLyBDaG93biBzaG91bGQgbm90IGZhaWwgb24gZWludmFsIG9yIGVwZXJtIGlmIG5vbi1yb290LlxuICAvLyBJdCBzaG91bGQgbm90IGZhaWwgb24gZW5vc3lzIGV2ZXIsIGFzIHRoaXMganVzdCBpbmRpY2F0ZXNcbiAgLy8gdGhhdCBhIGZzIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgaW50ZW5kZWQgb3BlcmF0aW9uLlxuXG4gIGZzLmNob3duID0gY2hvd25GaXgoZnMuY2hvd24pXG4gIGZzLmZjaG93biA9IGNob3duRml4KGZzLmZjaG93bilcbiAgZnMubGNob3duID0gY2hvd25GaXgoZnMubGNob3duKVxuXG4gIGZzLmNobW9kID0gY2htb2RGaXgoZnMuY2htb2QpXG4gIGZzLmZjaG1vZCA9IGNobW9kRml4KGZzLmZjaG1vZClcbiAgZnMubGNobW9kID0gY2htb2RGaXgoZnMubGNobW9kKVxuXG4gIGZzLmNob3duU3luYyA9IGNob3duRml4U3luYyhmcy5jaG93blN5bmMpXG4gIGZzLmZjaG93blN5bmMgPSBjaG93bkZpeFN5bmMoZnMuZmNob3duU3luYylcbiAgZnMubGNob3duU3luYyA9IGNob3duRml4U3luYyhmcy5sY2hvd25TeW5jKVxuXG4gIGZzLmNobW9kU3luYyA9IGNobW9kRml4U3luYyhmcy5jaG1vZFN5bmMpXG4gIGZzLmZjaG1vZFN5bmMgPSBjaG1vZEZpeFN5bmMoZnMuZmNobW9kU3luYylcbiAgZnMubGNobW9kU3luYyA9IGNobW9kRml4U3luYyhmcy5sY2htb2RTeW5jKVxuXG4gIGZzLnN0YXQgPSBzdGF0Rml4KGZzLnN0YXQpXG4gIGZzLmZzdGF0ID0gc3RhdEZpeChmcy5mc3RhdClcbiAgZnMubHN0YXQgPSBzdGF0Rml4KGZzLmxzdGF0KVxuXG4gIGZzLnN0YXRTeW5jID0gc3RhdEZpeFN5bmMoZnMuc3RhdFN5bmMpXG4gIGZzLmZzdGF0U3luYyA9IHN0YXRGaXhTeW5jKGZzLmZzdGF0U3luYylcbiAgZnMubHN0YXRTeW5jID0gc3RhdEZpeFN5bmMoZnMubHN0YXRTeW5jKVxuXG4gIC8vIGlmIGxjaG1vZC9sY2hvd24gZG8gbm90IGV4aXN0LCB0aGVuIG1ha2UgdGhlbSBuby1vcHNcbiAgaWYgKCFmcy5sY2htb2QpIHtcbiAgICBmcy5sY2htb2QgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSwgY2IpIHtcbiAgICAgIGlmIChjYikgcHJvY2Vzcy5uZXh0VGljayhjYilcbiAgICB9XG4gICAgZnMubGNobW9kU3luYyA9IGZ1bmN0aW9uICgpIHt9XG4gIH1cbiAgaWYgKCFmcy5sY2hvd24pIHtcbiAgICBmcy5sY2hvd24gPSBmdW5jdGlvbiAocGF0aCwgdWlkLCBnaWQsIGNiKSB7XG4gICAgICBpZiAoY2IpIHByb2Nlc3MubmV4dFRpY2soY2IpXG4gICAgfVxuICAgIGZzLmxjaG93blN5bmMgPSBmdW5jdGlvbiAoKSB7fVxuICB9XG5cbiAgLy8gb24gV2luZG93cywgQS9WIHNvZnR3YXJlIGNhbiBsb2NrIHRoZSBkaXJlY3RvcnksIGNhdXNpbmcgdGhpc1xuICAvLyB0byBmYWlsIHdpdGggYW4gRUFDQ0VTIG9yIEVQRVJNIGlmIHRoZSBkaXJlY3RvcnkgY29udGFpbnMgbmV3bHlcbiAgLy8gY3JlYXRlZCBmaWxlcy4gIFRyeSBhZ2FpbiBvbiBmYWlsdXJlLCBmb3IgdXAgdG8gNjAgc2Vjb25kcy5cblxuICAvLyBTZXQgdGhlIHRpbWVvdXQgdGhpcyBsb25nIGJlY2F1c2Ugc29tZSBXaW5kb3dzIEFudGktVmlydXMsIHN1Y2ggYXMgUGFyaXR5XG4gIC8vIGJpdDksIG1heSBsb2NrIGZpbGVzIGZvciB1cCB0byBhIG1pbnV0ZSwgY2F1c2luZyBucG0gcGFja2FnZSBpbnN0YWxsXG4gIC8vIGZhaWx1cmVzLiBBbHNvLCB0YWtlIGNhcmUgdG8geWllbGQgdGhlIHNjaGVkdWxlci4gV2luZG93cyBzY2hlZHVsaW5nIGdpdmVzXG4gIC8vIENQVSB0byBhIGJ1c3kgbG9vcGluZyBwcm9jZXNzLCB3aGljaCBjYW4gY2F1c2UgdGhlIHByb2dyYW0gY2F1c2luZyB0aGUgbG9ja1xuICAvLyBjb250ZW50aW9uIHRvIGJlIHN0YXJ2ZWQgb2YgQ1BVIGJ5IG5vZGUsIHNvIHRoZSBjb250ZW50aW9uIGRvZXNuJ3QgcmVzb2x2ZS5cbiAgaWYgKHBsYXRmb3JtID09PSBcIndpbjMyXCIpIHtcbiAgICBmcy5yZW5hbWUgPSAoZnVuY3Rpb24gKGZzJHJlbmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGZyb20sIHRvLCBjYikge1xuICAgICAgdmFyIHN0YXJ0ID0gRGF0ZS5ub3coKVxuICAgICAgdmFyIGJhY2tvZmYgPSAwO1xuICAgICAgZnMkcmVuYW1lKGZyb20sIHRvLCBmdW5jdGlvbiBDQiAoZXIpIHtcbiAgICAgICAgaWYgKGVyXG4gICAgICAgICAgICAmJiAoZXIuY29kZSA9PT0gXCJFQUNDRVNcIiB8fCBlci5jb2RlID09PSBcIkVQRVJNXCIpXG4gICAgICAgICAgICAmJiBEYXRlLm5vdygpIC0gc3RhcnQgPCA2MDAwMCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmcy5zdGF0KHRvLCBmdW5jdGlvbiAoc3RhdGVyLCBzdCkge1xuICAgICAgICAgICAgICBpZiAoc3RhdGVyICYmIHN0YXRlci5jb2RlID09PSBcIkVOT0VOVFwiKVxuICAgICAgICAgICAgICAgIGZzJHJlbmFtZShmcm9tLCB0bywgQ0IpO1xuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY2IoZXIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sIGJhY2tvZmYpXG4gICAgICAgICAgaWYgKGJhY2tvZmYgPCAxMDApXG4gICAgICAgICAgICBiYWNrb2ZmICs9IDEwO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2IpIGNiKGVyKVxuICAgICAgfSlcbiAgICB9fSkoZnMucmVuYW1lKVxuICB9XG5cbiAgLy8gaWYgcmVhZCgpIHJldHVybnMgRUFHQUlOLCB0aGVuIGp1c3QgdHJ5IGl0IGFnYWluLlxuICBmcy5yZWFkID0gKGZ1bmN0aW9uIChmcyRyZWFkKSB7XG4gICAgZnVuY3Rpb24gcmVhZCAoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uLCBjYWxsYmFja18pIHtcbiAgICAgIHZhciBjYWxsYmFja1xuICAgICAgaWYgKGNhbGxiYWNrXyAmJiB0eXBlb2YgY2FsbGJhY2tfID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBlYWdDb3VudGVyID0gMFxuICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uIChlciwgXywgX18pIHtcbiAgICAgICAgICBpZiAoZXIgJiYgZXIuY29kZSA9PT0gJ0VBR0FJTicgJiYgZWFnQ291bnRlciA8IDEwKSB7XG4gICAgICAgICAgICBlYWdDb3VudGVyICsrXG4gICAgICAgICAgICByZXR1cm4gZnMkcmVhZC5jYWxsKGZzLCBmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24sIGNhbGxiYWNrKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjYWxsYmFja18uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZnMkcmVhZC5jYWxsKGZzLCBmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24sIGNhbGxiYWNrKVxuICAgIH1cblxuICAgIC8vIFRoaXMgZW5zdXJlcyBgdXRpbC5wcm9taXNpZnlgIHdvcmtzIGFzIGl0IGRvZXMgZm9yIG5hdGl2ZSBgZnMucmVhZGAuXG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikgT2JqZWN0LnNldFByb3RvdHlwZU9mKHJlYWQsIGZzJHJlYWQpXG4gICAgcmV0dXJuIHJlYWRcbiAgfSkoZnMucmVhZClcblxuICBmcy5yZWFkU3luYyA9IChmdW5jdGlvbiAoZnMkcmVhZFN5bmMpIHsgcmV0dXJuIGZ1bmN0aW9uIChmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pIHtcbiAgICB2YXIgZWFnQ291bnRlciA9IDBcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZzJHJlYWRTeW5jLmNhbGwoZnMsIGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbilcbiAgICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICAgIGlmIChlci5jb2RlID09PSAnRUFHQUlOJyAmJiBlYWdDb3VudGVyIDwgMTApIHtcbiAgICAgICAgICBlYWdDb3VudGVyICsrXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlclxuICAgICAgfVxuICAgIH1cbiAgfX0pKGZzLnJlYWRTeW5jKVxuXG4gIGZ1bmN0aW9uIHBhdGNoTGNobW9kIChmcykge1xuICAgIGZzLmxjaG1vZCA9IGZ1bmN0aW9uIChwYXRoLCBtb2RlLCBjYWxsYmFjaykge1xuICAgICAgZnMub3BlbiggcGF0aFxuICAgICAgICAgICAgICwgY29uc3RhbnRzLk9fV1JPTkxZIHwgY29uc3RhbnRzLk9fU1lNTElOS1xuICAgICAgICAgICAgICwgbW9kZVxuICAgICAgICAgICAgICwgZnVuY3Rpb24gKGVyciwgZmQpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIC8vIHByZWZlciB0byByZXR1cm4gdGhlIGNobW9kIGVycm9yLCBpZiBvbmUgb2NjdXJzLFxuICAgICAgICAvLyBidXQgc3RpbGwgdHJ5IHRvIGNsb3NlLCBhbmQgcmVwb3J0IGNsb3NpbmcgZXJyb3JzIGlmIHRoZXkgb2NjdXIuXG4gICAgICAgIGZzLmZjaG1vZChmZCwgbW9kZSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGZzLmNsb3NlKGZkLCBmdW5jdGlvbihlcnIyKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVyciB8fCBlcnIyKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cblxuICAgIGZzLmxjaG1vZFN5bmMgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSkge1xuICAgICAgdmFyIGZkID0gZnMub3BlblN5bmMocGF0aCwgY29uc3RhbnRzLk9fV1JPTkxZIHwgY29uc3RhbnRzLk9fU1lNTElOSywgbW9kZSlcblxuICAgICAgLy8gcHJlZmVyIHRvIHJldHVybiB0aGUgY2htb2QgZXJyb3IsIGlmIG9uZSBvY2N1cnMsXG4gICAgICAvLyBidXQgc3RpbGwgdHJ5IHRvIGNsb3NlLCBhbmQgcmVwb3J0IGNsb3NpbmcgZXJyb3JzIGlmIHRoZXkgb2NjdXIuXG4gICAgICB2YXIgdGhyZXcgPSB0cnVlXG4gICAgICB2YXIgcmV0XG4gICAgICB0cnkge1xuICAgICAgICByZXQgPSBmcy5mY2htb2RTeW5jKGZkLCBtb2RlKVxuICAgICAgICB0aHJldyA9IGZhbHNlXG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAodGhyZXcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZnMuY2xvc2VTeW5jKGZkKVxuICAgICAgICAgIH0gY2F0Y2ggKGVyKSB7fVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZzLmNsb3NlU3luYyhmZClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJldFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdGNoTHV0aW1lcyAoZnMpIHtcbiAgICBpZiAoY29uc3RhbnRzLmhhc093blByb3BlcnR5KFwiT19TWU1MSU5LXCIpKSB7XG4gICAgICBmcy5sdXRpbWVzID0gZnVuY3Rpb24gKHBhdGgsIGF0LCBtdCwgY2IpIHtcbiAgICAgICAgZnMub3BlbihwYXRoLCBjb25zdGFudHMuT19TWU1MSU5LLCBmdW5jdGlvbiAoZXIsIGZkKSB7XG4gICAgICAgICAgaWYgKGVyKSB7XG4gICAgICAgICAgICBpZiAoY2IpIGNiKGVyKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGZzLmZ1dGltZXMoZmQsIGF0LCBtdCwgZnVuY3Rpb24gKGVyKSB7XG4gICAgICAgICAgICBmcy5jbG9zZShmZCwgZnVuY3Rpb24gKGVyMikge1xuICAgICAgICAgICAgICBpZiAoY2IpIGNiKGVyIHx8IGVyMilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgZnMubHV0aW1lc1N5bmMgPSBmdW5jdGlvbiAocGF0aCwgYXQsIG10KSB7XG4gICAgICAgIHZhciBmZCA9IGZzLm9wZW5TeW5jKHBhdGgsIGNvbnN0YW50cy5PX1NZTUxJTkspXG4gICAgICAgIHZhciByZXRcbiAgICAgICAgdmFyIHRocmV3ID0gdHJ1ZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldCA9IGZzLmZ1dGltZXNTeW5jKGZkLCBhdCwgbXQpXG4gICAgICAgICAgdGhyZXcgPSBmYWxzZVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmICh0aHJldykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZnMuY2xvc2VTeW5jKGZkKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXIpIHt9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZzLmNsb3NlU3luYyhmZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldFxuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIGZzLmx1dGltZXMgPSBmdW5jdGlvbiAoX2EsIF9iLCBfYywgY2IpIHsgaWYgKGNiKSBwcm9jZXNzLm5leHRUaWNrKGNiKSB9XG4gICAgICBmcy5sdXRpbWVzU3luYyA9IGZ1bmN0aW9uICgpIHt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2htb2RGaXggKG9yaWcpIHtcbiAgICBpZiAoIW9yaWcpIHJldHVybiBvcmlnXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG1vZGUsIGNiKSB7XG4gICAgICByZXR1cm4gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIG1vZGUsIGZ1bmN0aW9uIChlcikge1xuICAgICAgICBpZiAoY2hvd25Fck9rKGVyKSkgZXIgPSBudWxsXG4gICAgICAgIGlmIChjYikgY2IuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaG1vZEZpeFN5bmMgKG9yaWcpIHtcbiAgICBpZiAoIW9yaWcpIHJldHVybiBvcmlnXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG1vZGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBvcmlnLmNhbGwoZnMsIHRhcmdldCwgbW9kZSlcbiAgICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICAgIGlmICghY2hvd25Fck9rKGVyKSkgdGhyb3cgZXJcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNob3duRml4IChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCB1aWQsIGdpZCwgY2IpIHtcbiAgICAgIHJldHVybiBvcmlnLmNhbGwoZnMsIHRhcmdldCwgdWlkLCBnaWQsIGZ1bmN0aW9uIChlcikge1xuICAgICAgICBpZiAoY2hvd25Fck9rKGVyKSkgZXIgPSBudWxsXG4gICAgICAgIGlmIChjYikgY2IuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaG93bkZpeFN5bmMgKG9yaWcpIHtcbiAgICBpZiAoIW9yaWcpIHJldHVybiBvcmlnXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIHVpZCwgZ2lkKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIHVpZCwgZ2lkKVxuICAgICAgfSBjYXRjaCAoZXIpIHtcbiAgICAgICAgaWYgKCFjaG93bkVyT2soZXIpKSB0aHJvdyBlclxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXRGaXggKG9yaWcpIHtcbiAgICBpZiAoIW9yaWcpIHJldHVybiBvcmlnXG4gICAgLy8gT2xkZXIgdmVyc2lvbnMgb2YgTm9kZSBlcnJvbmVvdXNseSByZXR1cm5lZCBzaWduZWQgaW50ZWdlcnMgZm9yXG4gICAgLy8gdWlkICsgZ2lkLlxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zLCBjYikge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiID0gb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gbnVsbFxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gY2FsbGJhY2sgKGVyLCBzdGF0cykge1xuICAgICAgICBpZiAoc3RhdHMpIHtcbiAgICAgICAgICBpZiAoc3RhdHMudWlkIDwgMCkgc3RhdHMudWlkICs9IDB4MTAwMDAwMDAwXG4gICAgICAgICAgaWYgKHN0YXRzLmdpZCA8IDApIHN0YXRzLmdpZCArPSAweDEwMDAwMDAwMFxuICAgICAgICB9XG4gICAgICAgIGlmIChjYikgY2IuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnMgPyBvcmlnLmNhbGwoZnMsIHRhcmdldCwgb3B0aW9ucywgY2FsbGJhY2spXG4gICAgICAgIDogb3JpZy5jYWxsKGZzLCB0YXJnZXQsIGNhbGxiYWNrKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXRGaXhTeW5jIChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIC8vIE9sZGVyIHZlcnNpb25zIG9mIE5vZGUgZXJyb25lb3VzbHkgcmV0dXJuZWQgc2lnbmVkIGludGVnZXJzIGZvclxuICAgIC8vIHVpZCArIGdpZC5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgdmFyIHN0YXRzID0gb3B0aW9ucyA/IG9yaWcuY2FsbChmcywgdGFyZ2V0LCBvcHRpb25zKVxuICAgICAgICA6IG9yaWcuY2FsbChmcywgdGFyZ2V0KVxuICAgICAgaWYgKHN0YXRzKSB7XG4gICAgICAgIGlmIChzdGF0cy51aWQgPCAwKSBzdGF0cy51aWQgKz0gMHgxMDAwMDAwMDBcbiAgICAgICAgaWYgKHN0YXRzLmdpZCA8IDApIHN0YXRzLmdpZCArPSAweDEwMDAwMDAwMFxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRzO1xuICAgIH1cbiAgfVxuXG4gIC8vIEVOT1NZUyBtZWFucyB0aGF0IHRoZSBmcyBkb2Vzbid0IHN1cHBvcnQgdGhlIG9wLiBKdXN0IGlnbm9yZVxuICAvLyB0aGF0LCBiZWNhdXNlIGl0IGRvZXNuJ3QgbWF0dGVyLlxuICAvL1xuICAvLyBpZiB0aGVyZSdzIG5vIGdldHVpZCwgb3IgaWYgZ2V0dWlkKCkgaXMgc29tZXRoaW5nIG90aGVyXG4gIC8vIHRoYW4gMCwgYW5kIHRoZSBlcnJvciBpcyBFSU5WQUwgb3IgRVBFUk0sIHRoZW4ganVzdCBpZ25vcmVcbiAgLy8gaXQuXG4gIC8vXG4gIC8vIFRoaXMgc3BlY2lmaWMgY2FzZSBpcyBhIHNpbGVudCBmYWlsdXJlIGluIGNwLCBpbnN0YWxsLCB0YXIsXG4gIC8vIGFuZCBtb3N0IG90aGVyIHVuaXggdG9vbHMgdGhhdCBtYW5hZ2UgcGVybWlzc2lvbnMuXG4gIC8vXG4gIC8vIFdoZW4gcnVubmluZyBhcyByb290LCBvciBpZiBvdGhlciB0eXBlcyBvZiBlcnJvcnMgYXJlXG4gIC8vIGVuY291bnRlcmVkLCB0aGVuIGl0J3Mgc3RyaWN0LlxuICBmdW5jdGlvbiBjaG93bkVyT2sgKGVyKSB7XG4gICAgaWYgKCFlcilcbiAgICAgIHJldHVybiB0cnVlXG5cbiAgICBpZiAoZXIuY29kZSA9PT0gXCJFTk9TWVNcIilcbiAgICAgIHJldHVybiB0cnVlXG5cbiAgICB2YXIgbm9ucm9vdCA9ICFwcm9jZXNzLmdldHVpZCB8fCBwcm9jZXNzLmdldHVpZCgpICE9PSAwXG4gICAgaWYgKG5vbnJvb3QpIHtcbiAgICAgIGlmIChlci5jb2RlID09PSBcIkVJTlZBTFwiIHx8IGVyLmNvZGUgPT09IFwiRVBFUk1cIilcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuIiwidmFyIFN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpLlN0cmVhbVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxlZ2FjeVxuXG5mdW5jdGlvbiBsZWdhY3kgKGZzKSB7XG4gIHJldHVybiB7XG4gICAgUmVhZFN0cmVhbTogUmVhZFN0cmVhbSxcbiAgICBXcml0ZVN0cmVhbTogV3JpdGVTdHJlYW1cbiAgfVxuXG4gIGZ1bmN0aW9uIFJlYWRTdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVhZFN0cmVhbSkpIHJldHVybiBuZXcgUmVhZFN0cmVhbShwYXRoLCBvcHRpb25zKTtcblxuICAgIFN0cmVhbS5jYWxsKHRoaXMpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLmZkID0gbnVsbDtcbiAgICB0aGlzLnJlYWRhYmxlID0gdHJ1ZTtcbiAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5mbGFncyA9ICdyJztcbiAgICB0aGlzLm1vZGUgPSA0Mzg7IC8qPTA2NjYqL1xuICAgIHRoaXMuYnVmZmVyU2l6ZSA9IDY0ICogMTAyNDtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLy8gTWl4aW4gb3B0aW9ucyBpbnRvIHRoaXNcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICB0aGlzW2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZW5jb2RpbmcpIHRoaXMuc2V0RW5jb2RpbmcodGhpcy5lbmNvZGluZyk7XG5cbiAgICBpZiAodGhpcy5zdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoJ251bWJlcicgIT09IHR5cGVvZiB0aGlzLnN0YXJ0KSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcignc3RhcnQgbXVzdCBiZSBhIE51bWJlcicpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5lbmQgPSBJbmZpbml0eTtcbiAgICAgIH0gZWxzZSBpZiAoJ251bWJlcicgIT09IHR5cGVvZiB0aGlzLmVuZCkge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ2VuZCBtdXN0IGJlIGEgTnVtYmVyJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnN0YXJ0ID4gdGhpcy5lbmQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdGFydCBtdXN0IGJlIDw9IGVuZCcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBvcyA9IHRoaXMuc3RhcnQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmQgIT09IG51bGwpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuX3JlYWQoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZzLm9wZW4odGhpcy5wYXRoLCB0aGlzLmZsYWdzLCB0aGlzLm1vZGUsIGZ1bmN0aW9uIChlcnIsIGZkKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICBzZWxmLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5mZCA9IGZkO1xuICAgICAgc2VsZi5lbWl0KCdvcGVuJywgZmQpO1xuICAgICAgc2VsZi5fcmVhZCgpO1xuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBXcml0ZVN0cmVhbSAocGF0aCwgb3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBXcml0ZVN0cmVhbSkpIHJldHVybiBuZXcgV3JpdGVTdHJlYW0ocGF0aCwgb3B0aW9ucyk7XG5cbiAgICBTdHJlYW0uY2FsbCh0aGlzKTtcblxuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgdGhpcy5mZCA9IG51bGw7XG4gICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG5cbiAgICB0aGlzLmZsYWdzID0gJ3cnO1xuICAgIHRoaXMuZW5jb2RpbmcgPSAnYmluYXJ5JztcbiAgICB0aGlzLm1vZGUgPSA0Mzg7IC8qPTA2NjYqL1xuICAgIHRoaXMuYnl0ZXNXcml0dGVuID0gMDtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLy8gTWl4aW4gb3B0aW9ucyBpbnRvIHRoaXNcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICB0aGlzW2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCdudW1iZXInICE9PSB0eXBlb2YgdGhpcy5zdGFydCkge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ3N0YXJ0IG11c3QgYmUgYSBOdW1iZXInKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0YXJ0IDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0YXJ0IG11c3QgYmUgPj0gemVybycpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBvcyA9IHRoaXMuc3RhcnQ7XG4gICAgfVxuXG4gICAgdGhpcy5idXN5ID0gZmFsc2U7XG4gICAgdGhpcy5fcXVldWUgPSBbXTtcblxuICAgIGlmICh0aGlzLmZkID09PSBudWxsKSB7XG4gICAgICB0aGlzLl9vcGVuID0gZnMub3BlbjtcbiAgICAgIHRoaXMuX3F1ZXVlLnB1c2goW3RoaXMuX29wZW4sIHRoaXMucGF0aCwgdGhpcy5mbGFncywgdGhpcy5tb2RlLCB1bmRlZmluZWRdKTtcbiAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lXG5cbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmouX19wcm90b19fXG59XG5cbmZ1bmN0aW9uIGNsb25lIChvYmopIHtcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JylcbiAgICByZXR1cm4gb2JqXG5cbiAgaWYgKG9iaiBpbnN0YW5jZW9mIE9iamVjdClcbiAgICB2YXIgY29weSA9IHsgX19wcm90b19fOiBnZXRQcm90b3R5cGVPZihvYmopIH1cbiAgZWxzZVxuICAgIHZhciBjb3B5ID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvcHksIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkpXG4gIH0pXG5cbiAgcmV0dXJuIGNvcHlcbn1cbiIsInZhciBmcyA9IHJlcXVpcmUoJ2ZzJylcbnZhciBwb2x5ZmlsbHMgPSByZXF1aXJlKCcuL3BvbHlmaWxscy5qcycpXG52YXIgbGVnYWN5ID0gcmVxdWlyZSgnLi9sZWdhY3ktc3RyZWFtcy5qcycpXG52YXIgY2xvbmUgPSByZXF1aXJlKCcuL2Nsb25lLmpzJylcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBub2RlIDAueCBwb2x5ZmlsbCAqL1xudmFyIGdyYWNlZnVsUXVldWVcbnZhciBwcmV2aW91c1N5bWJvbFxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAtIG5vZGUgMC54IHBvbHlmaWxsICovXG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sLmZvciA9PT0gJ2Z1bmN0aW9uJykge1xuICBncmFjZWZ1bFF1ZXVlID0gU3ltYm9sLmZvcignZ3JhY2VmdWwtZnMucXVldWUnKVxuICAvLyBUaGlzIGlzIHVzZWQgaW4gdGVzdGluZyBieSBmdXR1cmUgdmVyc2lvbnNcbiAgcHJldmlvdXNTeW1ib2wgPSBTeW1ib2wuZm9yKCdncmFjZWZ1bC1mcy5wcmV2aW91cycpXG59IGVsc2Uge1xuICBncmFjZWZ1bFF1ZXVlID0gJ19fX2dyYWNlZnVsLWZzLnF1ZXVlJ1xuICBwcmV2aW91c1N5bWJvbCA9ICdfX19ncmFjZWZ1bC1mcy5wcmV2aW91cydcbn1cblxuZnVuY3Rpb24gbm9vcCAoKSB7fVxuXG5mdW5jdGlvbiBwdWJsaXNoUXVldWUoY29udGV4dCwgcXVldWUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRleHQsIGdyYWNlZnVsUXVldWUsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHF1ZXVlXG4gICAgfVxuICB9KVxufVxuXG52YXIgZGVidWcgPSBub29wXG5pZiAodXRpbC5kZWJ1Z2xvZylcbiAgZGVidWcgPSB1dGlsLmRlYnVnbG9nKCdnZnM0JylcbmVsc2UgaWYgKC9cXGJnZnM0XFxiL2kudGVzdChwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnKSlcbiAgZGVidWcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbSA9IHV0aWwuZm9ybWF0LmFwcGx5KHV0aWwsIGFyZ3VtZW50cylcbiAgICBtID0gJ0dGUzQ6ICcgKyBtLnNwbGl0KC9cXG4vKS5qb2luKCdcXG5HRlM0OiAnKVxuICAgIGNvbnNvbGUuZXJyb3IobSlcbiAgfVxuXG4vLyBPbmNlIHRpbWUgaW5pdGlhbGl6YXRpb25cbmlmICghZnNbZ3JhY2VmdWxRdWV1ZV0pIHtcbiAgLy8gVGhpcyBxdWV1ZSBjYW4gYmUgc2hhcmVkIGJ5IG11bHRpcGxlIGxvYWRlZCBpbnN0YW5jZXNcbiAgdmFyIHF1ZXVlID0gZ2xvYmFsW2dyYWNlZnVsUXVldWVdIHx8IFtdXG4gIHB1Ymxpc2hRdWV1ZShmcywgcXVldWUpXG5cbiAgLy8gUGF0Y2ggZnMuY2xvc2UvY2xvc2VTeW5jIHRvIHNoYXJlZCBxdWV1ZSB2ZXJzaW9uLCBiZWNhdXNlIHdlIG5lZWRcbiAgLy8gdG8gcmV0cnkoKSB3aGVuZXZlciBhIGNsb3NlIGhhcHBlbnMgKmFueXdoZXJlKiBpbiB0aGUgcHJvZ3JhbS5cbiAgLy8gVGhpcyBpcyBlc3NlbnRpYWwgd2hlbiBtdWx0aXBsZSBncmFjZWZ1bC1mcyBpbnN0YW5jZXMgYXJlXG4gIC8vIGluIHBsYXkgYXQgdGhlIHNhbWUgdGltZS5cbiAgZnMuY2xvc2UgPSAoZnVuY3Rpb24gKGZzJGNsb3NlKSB7XG4gICAgZnVuY3Rpb24gY2xvc2UgKGZkLCBjYikge1xuICAgICAgcmV0dXJuIGZzJGNsb3NlLmNhbGwoZnMsIGZkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gdXNlcyB0aGUgZ3JhY2VmdWwtZnMgc2hhcmVkIHF1ZXVlXG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgcmVzZXRRdWV1ZSgpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsb3NlLCBwcmV2aW91c1N5bWJvbCwge1xuICAgICAgdmFsdWU6IGZzJGNsb3NlXG4gICAgfSlcbiAgICByZXR1cm4gY2xvc2VcbiAgfSkoZnMuY2xvc2UpXG5cbiAgZnMuY2xvc2VTeW5jID0gKGZ1bmN0aW9uIChmcyRjbG9zZVN5bmMpIHtcbiAgICBmdW5jdGlvbiBjbG9zZVN5bmMgKGZkKSB7XG4gICAgICAvLyBUaGlzIGZ1bmN0aW9uIHVzZXMgdGhlIGdyYWNlZnVsLWZzIHNoYXJlZCBxdWV1ZVxuICAgICAgZnMkY2xvc2VTeW5jLmFwcGx5KGZzLCBhcmd1bWVudHMpXG4gICAgICByZXNldFF1ZXVlKClcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xvc2VTeW5jLCBwcmV2aW91c1N5bWJvbCwge1xuICAgICAgdmFsdWU6IGZzJGNsb3NlU3luY1xuICAgIH0pXG4gICAgcmV0dXJuIGNsb3NlU3luY1xuICB9KShmcy5jbG9zZVN5bmMpXG5cbiAgaWYgKC9cXGJnZnM0XFxiL2kudGVzdChwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnKSkge1xuICAgIHByb2Nlc3Mub24oJ2V4aXQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGRlYnVnKGZzW2dyYWNlZnVsUXVldWVdKVxuICAgICAgcmVxdWlyZSgnYXNzZXJ0JykuZXF1YWwoZnNbZ3JhY2VmdWxRdWV1ZV0ubGVuZ3RoLCAwKVxuICAgIH0pXG4gIH1cbn1cblxuaWYgKCFnbG9iYWxbZ3JhY2VmdWxRdWV1ZV0pIHtcbiAgcHVibGlzaFF1ZXVlKGdsb2JhbCwgZnNbZ3JhY2VmdWxRdWV1ZV0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGNoKGNsb25lKGZzKSlcbmlmIChwcm9jZXNzLmVudi5URVNUX0dSQUNFRlVMX0ZTX0dMT0JBTF9QQVRDSCAmJiAhZnMuX19wYXRjaGVkKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBwYXRjaChmcylcbiAgICBmcy5fX3BhdGNoZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBwYXRjaCAoZnMpIHtcbiAgLy8gRXZlcnl0aGluZyB0aGF0IHJlZmVyZW5jZXMgdGhlIG9wZW4oKSBmdW5jdGlvbiBuZWVkcyB0byBiZSBpbiBoZXJlXG4gIHBvbHlmaWxscyhmcylcbiAgZnMuZ3JhY2VmdWxpZnkgPSBwYXRjaFxuXG4gIGZzLmNyZWF0ZVJlYWRTdHJlYW0gPSBjcmVhdGVSZWFkU3RyZWFtXG4gIGZzLmNyZWF0ZVdyaXRlU3RyZWFtID0gY3JlYXRlV3JpdGVTdHJlYW1cbiAgdmFyIGZzJHJlYWRGaWxlID0gZnMucmVhZEZpbGVcbiAgZnMucmVhZEZpbGUgPSByZWFkRmlsZVxuICBmdW5jdGlvbiByZWFkRmlsZSAocGF0aCwgb3B0aW9ucywgY2IpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpXG4gICAgICBjYiA9IG9wdGlvbnMsIG9wdGlvbnMgPSBudWxsXG5cbiAgICByZXR1cm4gZ28kcmVhZEZpbGUocGF0aCwgb3B0aW9ucywgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRyZWFkRmlsZSAocGF0aCwgb3B0aW9ucywgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJHJlYWRGaWxlKHBhdGgsIG9wdGlvbnMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciAmJiAoZXJyLmNvZGUgPT09ICdFTUZJTEUnIHx8IGVyci5jb2RlID09PSAnRU5GSUxFJykpXG4gICAgICAgICAgZW5xdWV1ZShbZ28kcmVhZEZpbGUsIFtwYXRoLCBvcHRpb25zLCBjYl0sIGVyciwgc3RhcnRUaW1lIHx8IERhdGUubm93KCksIERhdGUubm93KCldKVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHZhciBmcyR3cml0ZUZpbGUgPSBmcy53cml0ZUZpbGVcbiAgZnMud3JpdGVGaWxlID0gd3JpdGVGaWxlXG4gIGZ1bmN0aW9uIHdyaXRlRmlsZSAocGF0aCwgZGF0YSwgb3B0aW9ucywgY2IpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpXG4gICAgICBjYiA9IG9wdGlvbnMsIG9wdGlvbnMgPSBudWxsXG5cbiAgICByZXR1cm4gZ28kd3JpdGVGaWxlKHBhdGgsIGRhdGEsIG9wdGlvbnMsIGNiKVxuXG4gICAgZnVuY3Rpb24gZ28kd3JpdGVGaWxlIChwYXRoLCBkYXRhLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4gZnMkd3JpdGVGaWxlKHBhdGgsIGRhdGEsIG9wdGlvbnMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciAmJiAoZXJyLmNvZGUgPT09ICdFTUZJTEUnIHx8IGVyci5jb2RlID09PSAnRU5GSUxFJykpXG4gICAgICAgICAgZW5xdWV1ZShbZ28kd3JpdGVGaWxlLCBbcGF0aCwgZGF0YSwgb3B0aW9ucywgY2JdLCBlcnIsIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLCBEYXRlLm5vdygpXSlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB2YXIgZnMkYXBwZW5kRmlsZSA9IGZzLmFwcGVuZEZpbGVcbiAgaWYgKGZzJGFwcGVuZEZpbGUpXG4gICAgZnMuYXBwZW5kRmlsZSA9IGFwcGVuZEZpbGVcbiAgZnVuY3Rpb24gYXBwZW5kRmlsZSAocGF0aCwgZGF0YSwgb3B0aW9ucywgY2IpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpXG4gICAgICBjYiA9IG9wdGlvbnMsIG9wdGlvbnMgPSBudWxsXG5cbiAgICByZXR1cm4gZ28kYXBwZW5kRmlsZShwYXRoLCBkYXRhLCBvcHRpb25zLCBjYilcblxuICAgIGZ1bmN0aW9uIGdvJGFwcGVuZEZpbGUgKHBhdGgsIGRhdGEsIG9wdGlvbnMsIGNiLCBzdGFydFRpbWUpIHtcbiAgICAgIHJldHVybiBmcyRhcHBlbmRGaWxlKHBhdGgsIGRhdGEsIG9wdGlvbnMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciAmJiAoZXJyLmNvZGUgPT09ICdFTUZJTEUnIHx8IGVyci5jb2RlID09PSAnRU5GSUxFJykpXG4gICAgICAgICAgZW5xdWV1ZShbZ28kYXBwZW5kRmlsZSwgW3BhdGgsIGRhdGEsIG9wdGlvbnMsIGNiXSwgZXJyLCBzdGFydFRpbWUgfHwgRGF0ZS5ub3coKSwgRGF0ZS5ub3coKV0pXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICBjYi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgdmFyIGZzJGNvcHlGaWxlID0gZnMuY29weUZpbGVcbiAgaWYgKGZzJGNvcHlGaWxlKVxuICAgIGZzLmNvcHlGaWxlID0gY29weUZpbGVcbiAgZnVuY3Rpb24gY29weUZpbGUgKHNyYywgZGVzdCwgZmxhZ3MsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBmbGFncyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBmbGFnc1xuICAgICAgZmxhZ3MgPSAwXG4gICAgfVxuICAgIHJldHVybiBnbyRjb3B5RmlsZShzcmMsIGRlc3QsIGZsYWdzLCBjYilcblxuICAgIGZ1bmN0aW9uIGdvJGNvcHlGaWxlIChzcmMsIGRlc3QsIGZsYWdzLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4gZnMkY29weUZpbGUoc3JjLCBkZXN0LCBmbGFncywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoZXJyICYmIChlcnIuY29kZSA9PT0gJ0VNRklMRScgfHwgZXJyLmNvZGUgPT09ICdFTkZJTEUnKSlcbiAgICAgICAgICBlbnF1ZXVlKFtnbyRjb3B5RmlsZSwgW3NyYywgZGVzdCwgZmxhZ3MsIGNiXSwgZXJyLCBzdGFydFRpbWUgfHwgRGF0ZS5ub3coKSwgRGF0ZS5ub3coKV0pXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICBjYi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgdmFyIGZzJHJlYWRkaXIgPSBmcy5yZWFkZGlyXG4gIGZzLnJlYWRkaXIgPSByZWFkZGlyXG4gIGZ1bmN0aW9uIHJlYWRkaXIgKHBhdGgsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKVxuICAgICAgY2IgPSBvcHRpb25zLCBvcHRpb25zID0gbnVsbFxuXG4gICAgcmV0dXJuIGdvJHJlYWRkaXIocGF0aCwgb3B0aW9ucywgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRyZWFkZGlyIChwYXRoLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4gZnMkcmVhZGRpcihwYXRoLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyLCBmaWxlcykge1xuICAgICAgICBpZiAoZXJyICYmIChlcnIuY29kZSA9PT0gJ0VNRklMRScgfHwgZXJyLmNvZGUgPT09ICdFTkZJTEUnKSlcbiAgICAgICAgICBlbnF1ZXVlKFtnbyRyZWFkZGlyLCBbcGF0aCwgb3B0aW9ucywgY2JdLCBlcnIsIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLCBEYXRlLm5vdygpXSlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKGZpbGVzICYmIGZpbGVzLnNvcnQpXG4gICAgICAgICAgICBmaWxlcy5zb3J0KClcblxuICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICBjYi5jYWxsKHRoaXMsIGVyciwgZmlsZXMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaWYgKHByb2Nlc3MudmVyc2lvbi5zdWJzdHIoMCwgNCkgPT09ICd2MC44Jykge1xuICAgIHZhciBsZWdTdHJlYW1zID0gbGVnYWN5KGZzKVxuICAgIFJlYWRTdHJlYW0gPSBsZWdTdHJlYW1zLlJlYWRTdHJlYW1cbiAgICBXcml0ZVN0cmVhbSA9IGxlZ1N0cmVhbXMuV3JpdGVTdHJlYW1cbiAgfVxuXG4gIHZhciBmcyRSZWFkU3RyZWFtID0gZnMuUmVhZFN0cmVhbVxuICBpZiAoZnMkUmVhZFN0cmVhbSkge1xuICAgIFJlYWRTdHJlYW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShmcyRSZWFkU3RyZWFtLnByb3RvdHlwZSlcbiAgICBSZWFkU3RyZWFtLnByb3RvdHlwZS5vcGVuID0gUmVhZFN0cmVhbSRvcGVuXG4gIH1cblxuICB2YXIgZnMkV3JpdGVTdHJlYW0gPSBmcy5Xcml0ZVN0cmVhbVxuICBpZiAoZnMkV3JpdGVTdHJlYW0pIHtcbiAgICBXcml0ZVN0cmVhbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGZzJFdyaXRlU3RyZWFtLnByb3RvdHlwZSlcbiAgICBXcml0ZVN0cmVhbS5wcm90b3R5cGUub3BlbiA9IFdyaXRlU3RyZWFtJG9wZW5cbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmcywgJ1JlYWRTdHJlYW0nLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUmVhZFN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBSZWFkU3RyZWFtID0gdmFsXG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnMsICdXcml0ZVN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBXcml0ZVN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBXcml0ZVN0cmVhbSA9IHZhbFxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcblxuICAvLyBsZWdhY3kgbmFtZXNcbiAgdmFyIEZpbGVSZWFkU3RyZWFtID0gUmVhZFN0cmVhbVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnMsICdGaWxlUmVhZFN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBGaWxlUmVhZFN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBGaWxlUmVhZFN0cmVhbSA9IHZhbFxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcbiAgdmFyIEZpbGVXcml0ZVN0cmVhbSA9IFdyaXRlU3RyZWFtXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmcywgJ0ZpbGVXcml0ZVN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBGaWxlV3JpdGVTdHJlYW1cbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgRmlsZVdyaXRlU3RyZWFtID0gdmFsXG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxuXG4gIGZ1bmN0aW9uIFJlYWRTdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFJlYWRTdHJlYW0pXG4gICAgICByZXR1cm4gZnMkUmVhZFN0cmVhbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0aGlzXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIFJlYWRTdHJlYW0uYXBwbHkoT2JqZWN0LmNyZWF0ZShSZWFkU3RyZWFtLnByb3RvdHlwZSksIGFyZ3VtZW50cylcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlYWRTdHJlYW0kb3BlbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgb3Blbih0aGF0LnBhdGgsIHRoYXQuZmxhZ3MsIHRoYXQubW9kZSwgZnVuY3Rpb24gKGVyciwgZmQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgaWYgKHRoYXQuYXV0b0Nsb3NlKVxuICAgICAgICAgIHRoYXQuZGVzdHJveSgpXG5cbiAgICAgICAgdGhhdC5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoYXQuZmQgPSBmZFxuICAgICAgICB0aGF0LmVtaXQoJ29wZW4nLCBmZClcbiAgICAgICAgdGhhdC5yZWFkKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gV3JpdGVTdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFdyaXRlU3RyZWFtKVxuICAgICAgcmV0dXJuIGZzJFdyaXRlU3RyZWFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRoaXNcbiAgICBlbHNlXG4gICAgICByZXR1cm4gV3JpdGVTdHJlYW0uYXBwbHkoT2JqZWN0LmNyZWF0ZShXcml0ZVN0cmVhbS5wcm90b3R5cGUpLCBhcmd1bWVudHMpXG4gIH1cblxuICBmdW5jdGlvbiBXcml0ZVN0cmVhbSRvcGVuICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICBvcGVuKHRoYXQucGF0aCwgdGhhdC5mbGFncywgdGhhdC5tb2RlLCBmdW5jdGlvbiAoZXJyLCBmZCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aGF0LmRlc3Ryb3koKVxuICAgICAgICB0aGF0LmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhhdC5mZCA9IGZkXG4gICAgICAgIHRoYXQuZW1pdCgnb3BlbicsIGZkKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVSZWFkU3RyZWFtIChwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBmcy5SZWFkU3RyZWFtKHBhdGgsIG9wdGlvbnMpXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVXcml0ZVN0cmVhbSAocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgZnMuV3JpdGVTdHJlYW0ocGF0aCwgb3B0aW9ucylcbiAgfVxuXG4gIHZhciBmcyRvcGVuID0gZnMub3BlblxuICBmcy5vcGVuID0gb3BlblxuICBmdW5jdGlvbiBvcGVuIChwYXRoLCBmbGFncywgbW9kZSwgY2IpIHtcbiAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdmdW5jdGlvbicpXG4gICAgICBjYiA9IG1vZGUsIG1vZGUgPSBudWxsXG5cbiAgICByZXR1cm4gZ28kb3BlbihwYXRoLCBmbGFncywgbW9kZSwgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRvcGVuIChwYXRoLCBmbGFncywgbW9kZSwgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJG9wZW4ocGF0aCwgZmxhZ3MsIG1vZGUsIGZ1bmN0aW9uIChlcnIsIGZkKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJG9wZW4sIFtwYXRoLCBmbGFncywgbW9kZSwgY2JdLCBlcnIsIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLCBEYXRlLm5vdygpXSlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnNcbn1cblxuZnVuY3Rpb24gZW5xdWV1ZSAoZWxlbSkge1xuICBkZWJ1ZygnRU5RVUVVRScsIGVsZW1bMF0ubmFtZSwgZWxlbVsxXSlcbiAgZnNbZ3JhY2VmdWxRdWV1ZV0ucHVzaChlbGVtKVxuICByZXRyeSgpXG59XG5cbi8vIGtlZXAgdHJhY2sgb2YgdGhlIHRpbWVvdXQgYmV0d2VlbiByZXRyeSgpIGNhbGxzXG52YXIgcmV0cnlUaW1lclxuXG4vLyByZXNldCB0aGUgc3RhcnRUaW1lIGFuZCBsYXN0VGltZSB0byBub3dcbi8vIHRoaXMgcmVzZXRzIHRoZSBzdGFydCBvZiB0aGUgNjAgc2Vjb25kIG92ZXJhbGwgdGltZW91dCBhcyB3ZWxsIGFzIHRoZVxuLy8gZGVsYXkgYmV0d2VlbiBhdHRlbXB0cyBzbyB0aGF0IHdlJ2xsIHJldHJ5IHRoZXNlIGpvYnMgc29vbmVyXG5mdW5jdGlvbiByZXNldFF1ZXVlICgpIHtcbiAgdmFyIG5vdyA9IERhdGUubm93KClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmc1tncmFjZWZ1bFF1ZXVlXS5sZW5ndGg7ICsraSkge1xuICAgIC8vIGVudHJpZXMgdGhhdCBhcmUgb25seSBhIGxlbmd0aCBvZiAyIGFyZSBmcm9tIGFuIG9sZGVyIHZlcnNpb24sIGRvbid0XG4gICAgLy8gYm90aGVyIG1vZGlmeWluZyB0aG9zZSBzaW5jZSB0aGV5J2xsIGJlIHJldHJpZWQgYW55d2F5LlxuICAgIGlmIChmc1tncmFjZWZ1bFF1ZXVlXVtpXS5sZW5ndGggPiAyKSB7XG4gICAgICBmc1tncmFjZWZ1bFF1ZXVlXVtpXVszXSA9IG5vdyAvLyBzdGFydFRpbWVcbiAgICAgIGZzW2dyYWNlZnVsUXVldWVdW2ldWzRdID0gbm93IC8vIGxhc3RUaW1lXG4gICAgfVxuICB9XG4gIC8vIGNhbGwgcmV0cnkgdG8gbWFrZSBzdXJlIHdlJ3JlIGFjdGl2ZWx5IHByb2Nlc3NpbmcgdGhlIHF1ZXVlXG4gIHJldHJ5KClcbn1cblxuZnVuY3Rpb24gcmV0cnkgKCkge1xuICAvLyBjbGVhciB0aGUgdGltZXIgYW5kIHJlbW92ZSBpdCB0byBoZWxwIHByZXZlbnQgdW5pbnRlbmRlZCBjb25jdXJyZW5jeVxuICBjbGVhclRpbWVvdXQocmV0cnlUaW1lcilcbiAgcmV0cnlUaW1lciA9IHVuZGVmaW5lZFxuXG4gIGlmIChmc1tncmFjZWZ1bFF1ZXVlXS5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuXG5cbiAgdmFyIGVsZW0gPSBmc1tncmFjZWZ1bFF1ZXVlXS5zaGlmdCgpXG4gIHZhciBmbiA9IGVsZW1bMF1cbiAgdmFyIGFyZ3MgPSBlbGVtWzFdXG4gIC8vIHRoZXNlIGl0ZW1zIG1heSBiZSB1bnNldCBpZiB0aGV5IHdlcmUgYWRkZWQgYnkgYW4gb2xkZXIgZ3JhY2VmdWwtZnNcbiAgdmFyIGVyciA9IGVsZW1bMl1cbiAgdmFyIHN0YXJ0VGltZSA9IGVsZW1bM11cbiAgdmFyIGxhc3RUaW1lID0gZWxlbVs0XVxuXG4gIC8vIGlmIHdlIGRvbid0IGhhdmUgYSBzdGFydFRpbWUgd2UgaGF2ZSBubyB3YXkgb2Yga25vd2luZyBpZiB3ZSd2ZSB3YWl0ZWRcbiAgLy8gbG9uZyBlbm91Z2gsIHNvIGdvIGFoZWFkIGFuZCByZXRyeSB0aGlzIGl0ZW0gbm93XG4gIGlmIChzdGFydFRpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGRlYnVnKCdSRVRSWScsIGZuLm5hbWUsIGFyZ3MpXG4gICAgZm4uYXBwbHkobnVsbCwgYXJncylcbiAgfSBlbHNlIGlmIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lID49IDYwMDAwKSB7XG4gICAgLy8gaXQncyBiZWVuIG1vcmUgdGhhbiA2MCBzZWNvbmRzIHRvdGFsLCBiYWlsIG5vd1xuICAgIGRlYnVnKCdUSU1FT1VUJywgZm4ubmFtZSwgYXJncylcbiAgICB2YXIgY2IgPSBhcmdzLnBvcCgpXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIGNiLmNhbGwobnVsbCwgZXJyKVxuICB9IGVsc2Uge1xuICAgIC8vIHRoZSBhbW91bnQgb2YgdGltZSBiZXR3ZWVuIHRoZSBsYXN0IGF0dGVtcHQgYW5kIHJpZ2h0IG5vd1xuICAgIHZhciBzaW5jZUF0dGVtcHQgPSBEYXRlLm5vdygpIC0gbGFzdFRpbWVcbiAgICAvLyB0aGUgYW1vdW50IG9mIHRpbWUgYmV0d2VlbiB3aGVuIHdlIGZpcnN0IHRyaWVkLCBhbmQgd2hlbiB3ZSBsYXN0IHRyaWVkXG4gICAgLy8gcm91bmRlZCB1cCB0byBhdCBsZWFzdCAxXG4gICAgdmFyIHNpbmNlU3RhcnQgPSBNYXRoLm1heChsYXN0VGltZSAtIHN0YXJ0VGltZSwgMSlcbiAgICAvLyBiYWNrb2ZmLiB3YWl0IGxvbmdlciB0aGFuIHRoZSB0b3RhbCB0aW1lIHdlJ3ZlIGJlZW4gcmV0cnlpbmcsIGJ1dCBvbmx5XG4gICAgLy8gdXAgdG8gYSBtYXhpbXVtIG9mIDEwMG1zXG4gICAgdmFyIGRlc2lyZWREZWxheSA9IE1hdGgubWluKHNpbmNlU3RhcnQgKiAxLjIsIDEwMClcbiAgICAvLyBpdCdzIGJlZW4gbG9uZyBlbm91Z2ggc2luY2UgdGhlIGxhc3QgcmV0cnksIGRvIGl0IGFnYWluXG4gICAgaWYgKHNpbmNlQXR0ZW1wdCA+PSBkZXNpcmVkRGVsYXkpIHtcbiAgICAgIGRlYnVnKCdSRVRSWScsIGZuLm5hbWUsIGFyZ3MpXG4gICAgICBmbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChbc3RhcnRUaW1lXSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHdlIGNhbid0IGRvIHRoaXMgam9iIHlldCwgcHVzaCBpdCB0byB0aGUgZW5kIG9mIHRoZSBxdWV1ZVxuICAgICAgLy8gYW5kIGxldCB0aGUgbmV4dCBpdGVyYXRpb24gY2hlY2sgYWdhaW5cbiAgICAgIGZzW2dyYWNlZnVsUXVldWVdLnB1c2goZWxlbSlcbiAgICB9XG4gIH1cblxuICAvLyBzY2hlZHVsZSBvdXIgbmV4dCBydW4gaWYgb25lIGlzbid0IGFscmVhZHkgc2NoZWR1bGVkXG4gIGlmIChyZXRyeVRpbWVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXRyeVRpbWVyID0gc2V0VGltZW91dChyZXRyeSwgMClcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG4vLyBUaGlzIGlzIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbm9ybWFsaXplL216XG4vLyBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNiBKb25hdGhhbiBPbmcgbWVAam9uZ2xlYmVycnkuY29tIGFuZCBDb250cmlidXRvcnNcbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tQ2FsbGJhY2tcbmNvbnN0IGZzID0gcmVxdWlyZSgnZ3JhY2VmdWwtZnMnKVxuXG5jb25zdCBhcGkgPSBbXG4gICdhY2Nlc3MnLFxuICAnYXBwZW5kRmlsZScsXG4gICdjaG1vZCcsXG4gICdjaG93bicsXG4gICdjbG9zZScsXG4gICdjb3B5RmlsZScsXG4gICdmY2htb2QnLFxuICAnZmNob3duJyxcbiAgJ2ZkYXRhc3luYycsXG4gICdmc3RhdCcsXG4gICdmc3luYycsXG4gICdmdHJ1bmNhdGUnLFxuICAnZnV0aW1lcycsXG4gICdsY2htb2QnLFxuICAnbGNob3duJyxcbiAgJ2xpbmsnLFxuICAnbHN0YXQnLFxuICAnbWtkaXInLFxuICAnbWtkdGVtcCcsXG4gICdvcGVuJyxcbiAgJ29wZW5kaXInLFxuICAncmVhZGRpcicsXG4gICdyZWFkRmlsZScsXG4gICdyZWFkbGluaycsXG4gICdyZWFscGF0aCcsXG4gICdyZW5hbWUnLFxuICAncm0nLFxuICAncm1kaXInLFxuICAnc3RhdCcsXG4gICdzeW1saW5rJyxcbiAgJ3RydW5jYXRlJyxcbiAgJ3VubGluaycsXG4gICd1dGltZXMnLFxuICAnd3JpdGVGaWxlJ1xuXS5maWx0ZXIoa2V5ID0+IHtcbiAgLy8gU29tZSBjb21tYW5kcyBhcmUgbm90IGF2YWlsYWJsZSBvbiBzb21lIHN5c3RlbXMuIEV4OlxuICAvLyBmcy5vcGVuZGlyIHdhcyBhZGRlZCBpbiBOb2RlLmpzIHYxMi4xMi4wXG4gIC8vIGZzLnJtIHdhcyBhZGRlZCBpbiBOb2RlLmpzIHYxNC4xNC4wXG4gIC8vIGZzLmxjaG93biBpcyBub3QgYXZhaWxhYmxlIG9uIGF0IGxlYXN0IHNvbWUgTGludXhcbiAgcmV0dXJuIHR5cGVvZiBmc1trZXldID09PSAnZnVuY3Rpb24nXG59KVxuXG4vLyBFeHBvcnQgY2xvbmVkIGZzOlxuT2JqZWN0LmFzc2lnbihleHBvcnRzLCBmcylcblxuLy8gVW5pdmVyc2FsaWZ5IGFzeW5jIG1ldGhvZHM6XG5hcGkuZm9yRWFjaChtZXRob2QgPT4ge1xuICBleHBvcnRzW21ldGhvZF0gPSB1KGZzW21ldGhvZF0pXG59KVxuZXhwb3J0cy5yZWFscGF0aC5uYXRpdmUgPSB1KGZzLnJlYWxwYXRoLm5hdGl2ZSlcblxuLy8gV2UgZGlmZmVyIGZyb20gbXovZnMgaW4gdGhhdCB3ZSBzdGlsbCBzaGlwIHRoZSBvbGQsIGJyb2tlbiwgZnMuZXhpc3RzKClcbi8vIHNpbmNlIHdlIGFyZSBhIGRyb3AtaW4gcmVwbGFjZW1lbnQgZm9yIHRoZSBuYXRpdmUgbW9kdWxlXG5leHBvcnRzLmV4aXN0cyA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmcy5leGlzdHMoZmlsZW5hbWUsIGNhbGxiYWNrKVxuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICByZXR1cm4gZnMuZXhpc3RzKGZpbGVuYW1lLCByZXNvbHZlKVxuICB9KVxufVxuXG4vLyBmcy5yZWFkKCksIGZzLndyaXRlKCksICYgZnMud3JpdGV2KCkgbmVlZCBzcGVjaWFsIHRyZWF0bWVudCBkdWUgdG8gbXVsdGlwbGUgY2FsbGJhY2sgYXJnc1xuXG5leHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZzLnJlYWQoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uLCBjYWxsYmFjaylcbiAgfVxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGZzLnJlYWQoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uLCAoZXJyLCBieXRlc1JlYWQsIGJ1ZmZlcikgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICByZXNvbHZlKHsgYnl0ZXNSZWFkLCBidWZmZXIgfSlcbiAgICB9KVxuICB9KVxufVxuXG4vLyBGdW5jdGlvbiBzaWduYXR1cmUgY2FuIGJlXG4vLyBmcy53cml0ZShmZCwgYnVmZmVyWywgb2Zmc2V0WywgbGVuZ3RoWywgcG9zaXRpb25dXV0sIGNhbGxiYWNrKVxuLy8gT1Jcbi8vIGZzLndyaXRlKGZkLCBzdHJpbmdbLCBwb3NpdGlvblssIGVuY29kaW5nXV0sIGNhbGxiYWNrKVxuLy8gV2UgbmVlZCB0byBoYW5kbGUgYm90aCBjYXNlcywgc28gd2UgdXNlIC4uLmFyZ3NcbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoZmQsIGJ1ZmZlciwgLi4uYXJncykge1xuICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmcy53cml0ZShmZCwgYnVmZmVyLCAuLi5hcmdzKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBmcy53cml0ZShmZCwgYnVmZmVyLCAuLi5hcmdzLCAoZXJyLCBieXRlc1dyaXR0ZW4sIGJ1ZmZlcikgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICByZXNvbHZlKHsgYnl0ZXNXcml0dGVuLCBidWZmZXIgfSlcbiAgICB9KVxuICB9KVxufVxuXG4vLyBmcy53cml0ZXYgb25seSBhdmFpbGFibGUgaW4gTm9kZSB2MTIuOS4wK1xuaWYgKHR5cGVvZiBmcy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gRnVuY3Rpb24gc2lnbmF0dXJlIGlzXG4gIC8vIHMud3JpdGV2KGZkLCBidWZmZXJzWywgcG9zaXRpb25dLCBjYWxsYmFjaylcbiAgLy8gV2UgbmVlZCB0byBoYW5kbGUgdGhlIG9wdGlvbmFsIGFyZywgc28gd2UgdXNlIC4uLmFyZ3NcbiAgZXhwb3J0cy53cml0ZXYgPSBmdW5jdGlvbiAoZmQsIGJ1ZmZlcnMsIC4uLmFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGZzLndyaXRldihmZCwgYnVmZmVycywgLi4uYXJncylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZnMud3JpdGV2KGZkLCBidWZmZXJzLCAuLi5hcmdzLCAoZXJyLCBieXRlc1dyaXR0ZW4sIGJ1ZmZlcnMpID0+IHtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICAgIHJlc29sdmUoeyBieXRlc1dyaXR0ZW4sIGJ1ZmZlcnMgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuIiwiLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvbWFrZS1kaXJcbi8vIENvcHlyaWdodCAoYykgU2luZHJlIFNvcmh1cyA8c2luZHJlc29yaHVzQGdtYWlsLmNvbT4gKHNpbmRyZXNvcmh1cy5jb20pXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbid1c2Ugc3RyaWN0J1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzg5ODdcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJ1di9saWJ1di9wdWxsLzEwODhcbm1vZHVsZS5leHBvcnRzLmNoZWNrUGF0aCA9IGZ1bmN0aW9uIGNoZWNrUGF0aCAocHRoKSB7XG4gIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XG4gICAgY29uc3QgcGF0aEhhc0ludmFsaWRXaW5DaGFyYWN0ZXJzID0gL1s8PjpcInw/Kl0vLnRlc3QocHRoLnJlcGxhY2UocGF0aC5wYXJzZShwdGgpLnJvb3QsICcnKSlcblxuICAgIGlmIChwYXRoSGFzSW52YWxpZFdpbkNoYXJhY3RlcnMpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBQYXRoIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVyczogJHtwdGh9YClcbiAgICAgIGVycm9yLmNvZGUgPSAnRUlOVkFMJ1xuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuY29uc3QgZnMgPSByZXF1aXJlKCcuLi9mcycpXG5jb25zdCB7IGNoZWNrUGF0aCB9ID0gcmVxdWlyZSgnLi91dGlscycpXG5cbmNvbnN0IGdldE1vZGUgPSBvcHRpb25zID0+IHtcbiAgY29uc3QgZGVmYXVsdHMgPSB7IG1vZGU6IDBvNzc3IH1cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykgcmV0dXJuIG9wdGlvbnNcbiAgcmV0dXJuICh7IC4uLmRlZmF1bHRzLCAuLi5vcHRpb25zIH0pLm1vZGVcbn1cblxubW9kdWxlLmV4cG9ydHMubWFrZURpciA9IGFzeW5jIChkaXIsIG9wdGlvbnMpID0+IHtcbiAgY2hlY2tQYXRoKGRpcilcblxuICByZXR1cm4gZnMubWtkaXIoZGlyLCB7XG4gICAgbW9kZTogZ2V0TW9kZShvcHRpb25zKSxcbiAgICByZWN1cnNpdmU6IHRydWVcbiAgfSlcbn1cblxubW9kdWxlLmV4cG9ydHMubWFrZURpclN5bmMgPSAoZGlyLCBvcHRpb25zKSA9PiB7XG4gIGNoZWNrUGF0aChkaXIpXG5cbiAgcmV0dXJuIGZzLm1rZGlyU3luYyhkaXIsIHtcbiAgICBtb2RlOiBnZXRNb2RlKG9wdGlvbnMpLFxuICAgIHJlY3Vyc2l2ZTogdHJ1ZVxuICB9KVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5jb25zdCB1ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JykuZnJvbVByb21pc2VcbmNvbnN0IHsgbWFrZURpcjogX21ha2VEaXIsIG1ha2VEaXJTeW5jIH0gPSByZXF1aXJlKCcuL21ha2UtZGlyJylcbmNvbnN0IG1ha2VEaXIgPSB1KF9tYWtlRGlyKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbWtkaXJzOiBtYWtlRGlyLFxuICBta2RpcnNTeW5jOiBtYWtlRGlyU3luYyxcbiAgLy8gYWxpYXNcbiAgbWtkaXJwOiBtYWtlRGlyLFxuICBta2RpcnBTeW5jOiBtYWtlRGlyU3luYyxcbiAgZW5zdXJlRGlyOiBtYWtlRGlyLFxuICBlbnN1cmVEaXJTeW5jOiBtYWtlRGlyU3luY1xufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGZzID0gcmVxdWlyZSgnZ3JhY2VmdWwtZnMnKVxuXG5mdW5jdGlvbiB1dGltZXNNaWxsaXMgKHBhdGgsIGF0aW1lLCBtdGltZSwgY2FsbGJhY2spIHtcbiAgLy8gaWYgKCFIQVNfTUlMTElTX1JFUykgcmV0dXJuIGZzLnV0aW1lcyhwYXRoLCBhdGltZSwgbXRpbWUsIGNhbGxiYWNrKVxuICBmcy5vcGVuKHBhdGgsICdyKycsIChlcnIsIGZkKSA9PiB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICBmcy5mdXRpbWVzKGZkLCBhdGltZSwgbXRpbWUsIGZ1dGltZXNFcnIgPT4ge1xuICAgICAgZnMuY2xvc2UoZmQsIGNsb3NlRXJyID0+IHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhmdXRpbWVzRXJyIHx8IGNsb3NlRXJyKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxufVxuXG5mdW5jdGlvbiB1dGltZXNNaWxsaXNTeW5jIChwYXRoLCBhdGltZSwgbXRpbWUpIHtcbiAgY29uc3QgZmQgPSBmcy5vcGVuU3luYyhwYXRoLCAncisnKVxuICBmcy5mdXRpbWVzU3luYyhmZCwgYXRpbWUsIG10aW1lKVxuICByZXR1cm4gZnMuY2xvc2VTeW5jKGZkKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdXRpbWVzTWlsbGlzLFxuICB1dGltZXNNaWxsaXNTeW5jXG59XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgZnMgPSByZXF1aXJlKCcuLi9mcycpXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCB1dGlsID0gcmVxdWlyZSgndXRpbCcpXG5cbmZ1bmN0aW9uIGdldFN0YXRzIChzcmMsIGRlc3QsIG9wdHMpIHtcbiAgY29uc3Qgc3RhdEZ1bmMgPSBvcHRzLmRlcmVmZXJlbmNlXG4gICAgPyAoZmlsZSkgPT4gZnMuc3RhdChmaWxlLCB7IGJpZ2ludDogdHJ1ZSB9KVxuICAgIDogKGZpbGUpID0+IGZzLmxzdGF0KGZpbGUsIHsgYmlnaW50OiB0cnVlIH0pXG4gIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgc3RhdEZ1bmMoc3JjKSxcbiAgICBzdGF0RnVuYyhkZXN0KS5jYXRjaChlcnIgPT4ge1xuICAgICAgaWYgKGVyci5jb2RlID09PSAnRU5PRU5UJykgcmV0dXJuIG51bGxcbiAgICAgIHRocm93IGVyclxuICAgIH0pXG4gIF0pLnRoZW4oKFtzcmNTdGF0LCBkZXN0U3RhdF0pID0+ICh7IHNyY1N0YXQsIGRlc3RTdGF0IH0pKVxufVxuXG5mdW5jdGlvbiBnZXRTdGF0c1N5bmMgKHNyYywgZGVzdCwgb3B0cykge1xuICBsZXQgZGVzdFN0YXRcbiAgY29uc3Qgc3RhdEZ1bmMgPSBvcHRzLmRlcmVmZXJlbmNlXG4gICAgPyAoZmlsZSkgPT4gZnMuc3RhdFN5bmMoZmlsZSwgeyBiaWdpbnQ6IHRydWUgfSlcbiAgICA6IChmaWxlKSA9PiBmcy5sc3RhdFN5bmMoZmlsZSwgeyBiaWdpbnQ6IHRydWUgfSlcbiAgY29uc3Qgc3JjU3RhdCA9IHN0YXRGdW5jKHNyYylcbiAgdHJ5IHtcbiAgICBkZXN0U3RhdCA9IHN0YXRGdW5jKGRlc3QpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIHJldHVybiB7IHNyY1N0YXQsIGRlc3RTdGF0OiBudWxsIH1cbiAgICB0aHJvdyBlcnJcbiAgfVxuICByZXR1cm4geyBzcmNTdGF0LCBkZXN0U3RhdCB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrUGF0aHMgKHNyYywgZGVzdCwgZnVuY05hbWUsIG9wdHMsIGNiKSB7XG4gIHV0aWwuY2FsbGJhY2tpZnkoZ2V0U3RhdHMpKHNyYywgZGVzdCwgb3B0cywgKGVyciwgc3RhdHMpID0+IHtcbiAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgIGNvbnN0IHsgc3JjU3RhdCwgZGVzdFN0YXQgfSA9IHN0YXRzXG5cbiAgICBpZiAoZGVzdFN0YXQpIHtcbiAgICAgIGlmIChhcmVJZGVudGljYWwoc3JjU3RhdCwgZGVzdFN0YXQpKSB7XG4gICAgICAgIGNvbnN0IHNyY0Jhc2VOYW1lID0gcGF0aC5iYXNlbmFtZShzcmMpXG4gICAgICAgIGNvbnN0IGRlc3RCYXNlTmFtZSA9IHBhdGguYmFzZW5hbWUoZGVzdClcbiAgICAgICAgaWYgKGZ1bmNOYW1lID09PSAnbW92ZScgJiZcbiAgICAgICAgICBzcmNCYXNlTmFtZSAhPT0gZGVzdEJhc2VOYW1lICYmXG4gICAgICAgICAgc3JjQmFzZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gZGVzdEJhc2VOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICByZXR1cm4gY2IobnVsbCwgeyBzcmNTdGF0LCBkZXN0U3RhdCwgaXNDaGFuZ2luZ0Nhc2U6IHRydWUgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKCdTb3VyY2UgYW5kIGRlc3RpbmF0aW9uIG11c3Qgbm90IGJlIHRoZSBzYW1lLicpKVxuICAgICAgfVxuICAgICAgaWYgKHNyY1N0YXQuaXNEaXJlY3RvcnkoKSAmJiAhZGVzdFN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKGBDYW5ub3Qgb3ZlcndyaXRlIG5vbi1kaXJlY3RvcnkgJyR7ZGVzdH0nIHdpdGggZGlyZWN0b3J5ICcke3NyY30nLmApKVxuICAgICAgfVxuICAgICAgaWYgKCFzcmNTdGF0LmlzRGlyZWN0b3J5KCkgJiYgZGVzdFN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKGBDYW5ub3Qgb3ZlcndyaXRlIGRpcmVjdG9yeSAnJHtkZXN0fScgd2l0aCBub24tZGlyZWN0b3J5ICcke3NyY30nLmApKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzcmNTdGF0LmlzRGlyZWN0b3J5KCkgJiYgaXNTcmNTdWJkaXIoc3JjLCBkZXN0KSkge1xuICAgICAgcmV0dXJuIGNiKG5ldyBFcnJvcihlcnJNc2coc3JjLCBkZXN0LCBmdW5jTmFtZSkpKVxuICAgIH1cbiAgICByZXR1cm4gY2IobnVsbCwgeyBzcmNTdGF0LCBkZXN0U3RhdCB9KVxuICB9KVxufVxuXG5mdW5jdGlvbiBjaGVja1BhdGhzU3luYyAoc3JjLCBkZXN0LCBmdW5jTmFtZSwgb3B0cykge1xuICBjb25zdCB7IHNyY1N0YXQsIGRlc3RTdGF0IH0gPSBnZXRTdGF0c1N5bmMoc3JjLCBkZXN0LCBvcHRzKVxuXG4gIGlmIChkZXN0U3RhdCkge1xuICAgIGlmIChhcmVJZGVudGljYWwoc3JjU3RhdCwgZGVzdFN0YXQpKSB7XG4gICAgICBjb25zdCBzcmNCYXNlTmFtZSA9IHBhdGguYmFzZW5hbWUoc3JjKVxuICAgICAgY29uc3QgZGVzdEJhc2VOYW1lID0gcGF0aC5iYXNlbmFtZShkZXN0KVxuICAgICAgaWYgKGZ1bmNOYW1lID09PSAnbW92ZScgJiZcbiAgICAgICAgc3JjQmFzZU5hbWUgIT09IGRlc3RCYXNlTmFtZSAmJlxuICAgICAgICBzcmNCYXNlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBkZXN0QmFzZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICByZXR1cm4geyBzcmNTdGF0LCBkZXN0U3RhdCwgaXNDaGFuZ2luZ0Nhc2U6IHRydWUgfVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb3VyY2UgYW5kIGRlc3RpbmF0aW9uIG11c3Qgbm90IGJlIHRoZSBzYW1lLicpXG4gICAgfVxuICAgIGlmIChzcmNTdGF0LmlzRGlyZWN0b3J5KCkgJiYgIWRlc3RTdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IG92ZXJ3cml0ZSBub24tZGlyZWN0b3J5ICcke2Rlc3R9JyB3aXRoIGRpcmVjdG9yeSAnJHtzcmN9Jy5gKVxuICAgIH1cbiAgICBpZiAoIXNyY1N0YXQuaXNEaXJlY3RvcnkoKSAmJiBkZXN0U3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBvdmVyd3JpdGUgZGlyZWN0b3J5ICcke2Rlc3R9JyB3aXRoIG5vbi1kaXJlY3RvcnkgJyR7c3JjfScuYClcbiAgICB9XG4gIH1cblxuICBpZiAoc3JjU3RhdC5pc0RpcmVjdG9yeSgpICYmIGlzU3JjU3ViZGlyKHNyYywgZGVzdCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKHNyYywgZGVzdCwgZnVuY05hbWUpKVxuICB9XG4gIHJldHVybiB7IHNyY1N0YXQsIGRlc3RTdGF0IH1cbn1cblxuLy8gcmVjdXJzaXZlbHkgY2hlY2sgaWYgZGVzdCBwYXJlbnQgaXMgYSBzdWJkaXJlY3Rvcnkgb2Ygc3JjLlxuLy8gSXQgd29ya3MgZm9yIGFsbCBmaWxlIHR5cGVzIGluY2x1ZGluZyBzeW1saW5rcyBzaW5jZSBpdFxuLy8gY2hlY2tzIHRoZSBzcmMgYW5kIGRlc3QgaW5vZGVzLiBJdCBzdGFydHMgZnJvbSB0aGUgZGVlcGVzdFxuLy8gcGFyZW50IGFuZCBzdG9wcyBvbmNlIGl0IHJlYWNoZXMgdGhlIHNyYyBwYXJlbnQgb3IgdGhlIHJvb3QgcGF0aC5cbmZ1bmN0aW9uIGNoZWNrUGFyZW50UGF0aHMgKHNyYywgc3JjU3RhdCwgZGVzdCwgZnVuY05hbWUsIGNiKSB7XG4gIGNvbnN0IHNyY1BhcmVudCA9IHBhdGgucmVzb2x2ZShwYXRoLmRpcm5hbWUoc3JjKSlcbiAgY29uc3QgZGVzdFBhcmVudCA9IHBhdGgucmVzb2x2ZShwYXRoLmRpcm5hbWUoZGVzdCkpXG4gIGlmIChkZXN0UGFyZW50ID09PSBzcmNQYXJlbnQgfHwgZGVzdFBhcmVudCA9PT0gcGF0aC5wYXJzZShkZXN0UGFyZW50KS5yb290KSByZXR1cm4gY2IoKVxuICBmcy5zdGF0KGRlc3RQYXJlbnQsIHsgYmlnaW50OiB0cnVlIH0sIChlcnIsIGRlc3RTdGF0KSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgaWYgKGVyci5jb2RlID09PSAnRU5PRU5UJykgcmV0dXJuIGNiKClcbiAgICAgIHJldHVybiBjYihlcnIpXG4gICAgfVxuICAgIGlmIChhcmVJZGVudGljYWwoc3JjU3RhdCwgZGVzdFN0YXQpKSB7XG4gICAgICByZXR1cm4gY2IobmV3IEVycm9yKGVyck1zZyhzcmMsIGRlc3QsIGZ1bmNOYW1lKSkpXG4gICAgfVxuICAgIHJldHVybiBjaGVja1BhcmVudFBhdGhzKHNyYywgc3JjU3RhdCwgZGVzdFBhcmVudCwgZnVuY05hbWUsIGNiKVxuICB9KVxufVxuXG5mdW5jdGlvbiBjaGVja1BhcmVudFBhdGhzU3luYyAoc3JjLCBzcmNTdGF0LCBkZXN0LCBmdW5jTmFtZSkge1xuICBjb25zdCBzcmNQYXJlbnQgPSBwYXRoLnJlc29sdmUocGF0aC5kaXJuYW1lKHNyYykpXG4gIGNvbnN0IGRlc3RQYXJlbnQgPSBwYXRoLnJlc29sdmUocGF0aC5kaXJuYW1lKGRlc3QpKVxuICBpZiAoZGVzdFBhcmVudCA9PT0gc3JjUGFyZW50IHx8IGRlc3RQYXJlbnQgPT09IHBhdGgucGFyc2UoZGVzdFBhcmVudCkucm9vdCkgcmV0dXJuXG4gIGxldCBkZXN0U3RhdFxuICB0cnkge1xuICAgIGRlc3RTdGF0ID0gZnMuc3RhdFN5bmMoZGVzdFBhcmVudCwgeyBiaWdpbnQ6IHRydWUgfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGVyci5jb2RlID09PSAnRU5PRU5UJykgcmV0dXJuXG4gICAgdGhyb3cgZXJyXG4gIH1cbiAgaWYgKGFyZUlkZW50aWNhbChzcmNTdGF0LCBkZXN0U3RhdCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKHNyYywgZGVzdCwgZnVuY05hbWUpKVxuICB9XG4gIHJldHVybiBjaGVja1BhcmVudFBhdGhzU3luYyhzcmMsIHNyY1N0YXQsIGRlc3RQYXJlbnQsIGZ1bmNOYW1lKVxufVxuXG5mdW5jdGlvbiBhcmVJZGVudGljYWwgKHNyY1N0YXQsIGRlc3RTdGF0KSB7XG4gIHJldHVybiBkZXN0U3RhdC5pbm8gJiYgZGVzdFN0YXQuZGV2ICYmIGRlc3RTdGF0LmlubyA9PT0gc3JjU3RhdC5pbm8gJiYgZGVzdFN0YXQuZGV2ID09PSBzcmNTdGF0LmRldlxufVxuXG4vLyByZXR1cm4gdHJ1ZSBpZiBkZXN0IGlzIGEgc3ViZGlyIG9mIHNyYywgb3RoZXJ3aXNlIGZhbHNlLlxuLy8gSXQgb25seSBjaGVja3MgdGhlIHBhdGggc3RyaW5ncy5cbmZ1bmN0aW9uIGlzU3JjU3ViZGlyIChzcmMsIGRlc3QpIHtcbiAgY29uc3Qgc3JjQXJyID0gcGF0aC5yZXNvbHZlKHNyYykuc3BsaXQocGF0aC5zZXApLmZpbHRlcihpID0+IGkpXG4gIGNvbnN0IGRlc3RBcnIgPSBwYXRoLnJlc29sdmUoZGVzdCkuc3BsaXQocGF0aC5zZXApLmZpbHRlcihpID0+IGkpXG4gIHJldHVybiBzcmNBcnIucmVkdWNlKChhY2MsIGN1ciwgaSkgPT4gYWNjICYmIGRlc3RBcnJbaV0gPT09IGN1ciwgdHJ1ZSlcbn1cblxuZnVuY3Rpb24gZXJyTXNnIChzcmMsIGRlc3QsIGZ1bmNOYW1lKSB7XG4gIHJldHVybiBgQ2Fubm90ICR7ZnVuY05hbWV9ICcke3NyY30nIHRvIGEgc3ViZGlyZWN0b3J5IG9mIGl0c2VsZiwgJyR7ZGVzdH0nLmBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNoZWNrUGF0aHMsXG4gIGNoZWNrUGF0aHNTeW5jLFxuICBjaGVja1BhcmVudFBhdGhzLFxuICBjaGVja1BhcmVudFBhdGhzU3luYyxcbiAgaXNTcmNTdWJkaXIsXG4gIGFyZUlkZW50aWNhbFxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGZzID0gcmVxdWlyZSgnZ3JhY2VmdWwtZnMnKVxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3QgbWtkaXJzU3luYyA9IHJlcXVpcmUoJy4uL21rZGlycycpLm1rZGlyc1N5bmNcbmNvbnN0IHV0aW1lc01pbGxpc1N5bmMgPSByZXF1aXJlKCcuLi91dGlsL3V0aW1lcycpLnV0aW1lc01pbGxpc1N5bmNcbmNvbnN0IHN0YXQgPSByZXF1aXJlKCcuLi91dGlsL3N0YXQnKVxuXG5mdW5jdGlvbiBjb3B5U3luYyAoc3JjLCBkZXN0LCBvcHRzKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdHMgPSB7IGZpbHRlcjogb3B0cyB9XG4gIH1cblxuICBvcHRzID0gb3B0cyB8fCB7fVxuICBvcHRzLmNsb2JiZXIgPSAnY2xvYmJlcicgaW4gb3B0cyA/ICEhb3B0cy5jbG9iYmVyIDogdHJ1ZSAvLyBkZWZhdWx0IHRvIHRydWUgZm9yIG5vd1xuICBvcHRzLm92ZXJ3cml0ZSA9ICdvdmVyd3JpdGUnIGluIG9wdHMgPyAhIW9wdHMub3ZlcndyaXRlIDogb3B0cy5jbG9iYmVyIC8vIG92ZXJ3cml0ZSBmYWxscyBiYWNrIHRvIGNsb2JiZXJcblxuICAvLyBXYXJuIGFib3V0IHVzaW5nIHByZXNlcnZlVGltZXN0YW1wcyBvbiAzMi1iaXQgbm9kZVxuICBpZiAob3B0cy5wcmVzZXJ2ZVRpbWVzdGFtcHMgJiYgcHJvY2Vzcy5hcmNoID09PSAnaWEzMicpIHtcbiAgICBjb25zb2xlLndhcm4oYGZzLWV4dHJhOiBVc2luZyB0aGUgcHJlc2VydmVUaW1lc3RhbXBzIG9wdGlvbiBpbiAzMi1iaXQgbm9kZSBpcyBub3QgcmVjb21tZW5kZWQ7XFxuXG4gICAgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcHJpY2hhcmRzb24vbm9kZS1mcy1leHRyYS9pc3N1ZXMvMjY5YClcbiAgfVxuXG4gIGNvbnN0IHsgc3JjU3RhdCwgZGVzdFN0YXQgfSA9IHN0YXQuY2hlY2tQYXRoc1N5bmMoc3JjLCBkZXN0LCAnY29weScsIG9wdHMpXG4gIHN0YXQuY2hlY2tQYXJlbnRQYXRoc1N5bmMoc3JjLCBzcmNTdGF0LCBkZXN0LCAnY29weScpXG4gIHJldHVybiBoYW5kbGVGaWx0ZXJBbmRDb3B5KGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMpXG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZpbHRlckFuZENvcHkgKGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMpIHtcbiAgaWYgKG9wdHMuZmlsdGVyICYmICFvcHRzLmZpbHRlcihzcmMsIGRlc3QpKSByZXR1cm5cbiAgY29uc3QgZGVzdFBhcmVudCA9IHBhdGguZGlybmFtZShkZXN0KVxuICBpZiAoIWZzLmV4aXN0c1N5bmMoZGVzdFBhcmVudCkpIG1rZGlyc1N5bmMoZGVzdFBhcmVudClcbiAgcmV0dXJuIGdldFN0YXRzKGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMpXG59XG5cbmZ1bmN0aW9uIHN0YXJ0Q29weSAoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cykge1xuICBpZiAob3B0cy5maWx0ZXIgJiYgIW9wdHMuZmlsdGVyKHNyYywgZGVzdCkpIHJldHVyblxuICByZXR1cm4gZ2V0U3RhdHMoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cylcbn1cblxuZnVuY3Rpb24gZ2V0U3RhdHMgKGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMpIHtcbiAgY29uc3Qgc3RhdFN5bmMgPSBvcHRzLmRlcmVmZXJlbmNlID8gZnMuc3RhdFN5bmMgOiBmcy5sc3RhdFN5bmNcbiAgY29uc3Qgc3JjU3RhdCA9IHN0YXRTeW5jKHNyYylcblxuICBpZiAoc3JjU3RhdC5pc0RpcmVjdG9yeSgpKSByZXR1cm4gb25EaXIoc3JjU3RhdCwgZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cylcbiAgZWxzZSBpZiAoc3JjU3RhdC5pc0ZpbGUoKSB8fFxuICAgICAgICAgICBzcmNTdGF0LmlzQ2hhcmFjdGVyRGV2aWNlKCkgfHxcbiAgICAgICAgICAgc3JjU3RhdC5pc0Jsb2NrRGV2aWNlKCkpIHJldHVybiBvbkZpbGUoc3JjU3RhdCwgZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cylcbiAgZWxzZSBpZiAoc3JjU3RhdC5pc1N5bWJvbGljTGluaygpKSByZXR1cm4gb25MaW5rKGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMpXG4gIGVsc2UgaWYgKHNyY1N0YXQuaXNTb2NrZXQoKSkgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29weSBhIHNvY2tldCBmaWxlOiAke3NyY31gKVxuICBlbHNlIGlmIChzcmNTdGF0LmlzRklGTygpKSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb3B5IGEgRklGTyBwaXBlOiAke3NyY31gKVxuICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZmlsZTogJHtzcmN9YClcbn1cblxuZnVuY3Rpb24gb25GaWxlIChzcmNTdGF0LCBkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzKSB7XG4gIGlmICghZGVzdFN0YXQpIHJldHVybiBjb3B5RmlsZShzcmNTdGF0LCBzcmMsIGRlc3QsIG9wdHMpXG4gIHJldHVybiBtYXlDb3B5RmlsZShzcmNTdGF0LCBzcmMsIGRlc3QsIG9wdHMpXG59XG5cbmZ1bmN0aW9uIG1heUNvcHlGaWxlIChzcmNTdGF0LCBzcmMsIGRlc3QsIG9wdHMpIHtcbiAgaWYgKG9wdHMub3ZlcndyaXRlKSB7XG4gICAgZnMudW5saW5rU3luYyhkZXN0KVxuICAgIHJldHVybiBjb3B5RmlsZShzcmNTdGF0LCBzcmMsIGRlc3QsIG9wdHMpXG4gIH0gZWxzZSBpZiAob3B0cy5lcnJvck9uRXhpc3QpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCcke2Rlc3R9JyBhbHJlYWR5IGV4aXN0c2ApXG4gIH1cbn1cblxuZnVuY3Rpb24gY29weUZpbGUgKHNyY1N0YXQsIHNyYywgZGVzdCwgb3B0cykge1xuICBmcy5jb3B5RmlsZVN5bmMoc3JjLCBkZXN0KVxuICBpZiAob3B0cy5wcmVzZXJ2ZVRpbWVzdGFtcHMpIGhhbmRsZVRpbWVzdGFtcHMoc3JjU3RhdC5tb2RlLCBzcmMsIGRlc3QpXG4gIHJldHVybiBzZXREZXN0TW9kZShkZXN0LCBzcmNTdGF0Lm1vZGUpXG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRpbWVzdGFtcHMgKHNyY01vZGUsIHNyYywgZGVzdCkge1xuICAvLyBNYWtlIHN1cmUgdGhlIGZpbGUgaXMgd3JpdGFibGUgYmVmb3JlIHNldHRpbmcgdGhlIHRpbWVzdGFtcFxuICAvLyBvdGhlcndpc2Ugb3BlbiBmYWlscyB3aXRoIEVQRVJNIHdoZW4gaW52b2tlZCB3aXRoICdyKydcbiAgLy8gKHRocm91Z2ggdXRpbWVzIGNhbGwpXG4gIGlmIChmaWxlSXNOb3RXcml0YWJsZShzcmNNb2RlKSkgbWFrZUZpbGVXcml0YWJsZShkZXN0LCBzcmNNb2RlKVxuICByZXR1cm4gc2V0RGVzdFRpbWVzdGFtcHMoc3JjLCBkZXN0KVxufVxuXG5mdW5jdGlvbiBmaWxlSXNOb3RXcml0YWJsZSAoc3JjTW9kZSkge1xuICByZXR1cm4gKHNyY01vZGUgJiAwbzIwMCkgPT09IDBcbn1cblxuZnVuY3Rpb24gbWFrZUZpbGVXcml0YWJsZSAoZGVzdCwgc3JjTW9kZSkge1xuICByZXR1cm4gc2V0RGVzdE1vZGUoZGVzdCwgc3JjTW9kZSB8IDBvMjAwKVxufVxuXG5mdW5jdGlvbiBzZXREZXN0TW9kZSAoZGVzdCwgc3JjTW9kZSkge1xuICByZXR1cm4gZnMuY2htb2RTeW5jKGRlc3QsIHNyY01vZGUpXG59XG5cbmZ1bmN0aW9uIHNldERlc3RUaW1lc3RhbXBzIChzcmMsIGRlc3QpIHtcbiAgLy8gVGhlIGluaXRpYWwgc3JjU3RhdC5hdGltZSBjYW5ub3QgYmUgdHJ1c3RlZFxuICAvLyBiZWNhdXNlIGl0IGlzIG1vZGlmaWVkIGJ5IHRoZSByZWFkKDIpIHN5c3RlbSBjYWxsXG4gIC8vIChTZWUgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9mcy5odG1sI2ZzX3N0YXRfdGltZV92YWx1ZXMpXG4gIGNvbnN0IHVwZGF0ZWRTcmNTdGF0ID0gZnMuc3RhdFN5bmMoc3JjKVxuICByZXR1cm4gdXRpbWVzTWlsbGlzU3luYyhkZXN0LCB1cGRhdGVkU3JjU3RhdC5hdGltZSwgdXBkYXRlZFNyY1N0YXQubXRpbWUpXG59XG5cbmZ1bmN0aW9uIG9uRGlyIChzcmNTdGF0LCBkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzKSB7XG4gIGlmICghZGVzdFN0YXQpIHJldHVybiBta0RpckFuZENvcHkoc3JjU3RhdC5tb2RlLCBzcmMsIGRlc3QsIG9wdHMpXG4gIHJldHVybiBjb3B5RGlyKHNyYywgZGVzdCwgb3B0cylcbn1cblxuZnVuY3Rpb24gbWtEaXJBbmRDb3B5IChzcmNNb2RlLCBzcmMsIGRlc3QsIG9wdHMpIHtcbiAgZnMubWtkaXJTeW5jKGRlc3QpXG4gIGNvcHlEaXIoc3JjLCBkZXN0LCBvcHRzKVxuICByZXR1cm4gc2V0RGVzdE1vZGUoZGVzdCwgc3JjTW9kZSlcbn1cblxuZnVuY3Rpb24gY29weURpciAoc3JjLCBkZXN0LCBvcHRzKSB7XG4gIGZzLnJlYWRkaXJTeW5jKHNyYykuZm9yRWFjaChpdGVtID0+IGNvcHlEaXJJdGVtKGl0ZW0sIHNyYywgZGVzdCwgb3B0cykpXG59XG5cbmZ1bmN0aW9uIGNvcHlEaXJJdGVtIChpdGVtLCBzcmMsIGRlc3QsIG9wdHMpIHtcbiAgY29uc3Qgc3JjSXRlbSA9IHBhdGguam9pbihzcmMsIGl0ZW0pXG4gIGNvbnN0IGRlc3RJdGVtID0gcGF0aC5qb2luKGRlc3QsIGl0ZW0pXG4gIGNvbnN0IHsgZGVzdFN0YXQgfSA9IHN0YXQuY2hlY2tQYXRoc1N5bmMoc3JjSXRlbSwgZGVzdEl0ZW0sICdjb3B5Jywgb3B0cylcbiAgcmV0dXJuIHN0YXJ0Q29weShkZXN0U3RhdCwgc3JjSXRlbSwgZGVzdEl0ZW0sIG9wdHMpXG59XG5cbmZ1bmN0aW9uIG9uTGluayAoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cykge1xuICBsZXQgcmVzb2x2ZWRTcmMgPSBmcy5yZWFkbGlua1N5bmMoc3JjKVxuICBpZiAob3B0cy5kZXJlZmVyZW5jZSkge1xuICAgIHJlc29sdmVkU3JjID0gcGF0aC5yZXNvbHZlKHByb2Nlc3MuY3dkKCksIHJlc29sdmVkU3JjKVxuICB9XG5cbiAgaWYgKCFkZXN0U3RhdCkge1xuICAgIHJldHVybiBmcy5zeW1saW5rU3luYyhyZXNvbHZlZFNyYywgZGVzdClcbiAgfSBlbHNlIHtcbiAgICBsZXQgcmVzb2x2ZWREZXN0XG4gICAgdHJ5IHtcbiAgICAgIHJlc29sdmVkRGVzdCA9IGZzLnJlYWRsaW5rU3luYyhkZXN0KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gZGVzdCBleGlzdHMgYW5kIGlzIGEgcmVndWxhciBmaWxlIG9yIGRpcmVjdG9yeSxcbiAgICAgIC8vIFdpbmRvd3MgbWF5IHRocm93IFVOS05PV04gZXJyb3IuIElmIGRlc3QgYWxyZWFkeSBleGlzdHMsXG4gICAgICAvLyBmcyB0aHJvd3MgZXJyb3IgYW55d2F5LCBzbyBubyBuZWVkIHRvIGd1YXJkIGFnYWluc3QgaXQgaGVyZS5cbiAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VJTlZBTCcgfHwgZXJyLmNvZGUgPT09ICdVTktOT1dOJykgcmV0dXJuIGZzLnN5bWxpbmtTeW5jKHJlc29sdmVkU3JjLCBkZXN0KVxuICAgICAgdGhyb3cgZXJyXG4gICAgfVxuICAgIGlmIChvcHRzLmRlcmVmZXJlbmNlKSB7XG4gICAgICByZXNvbHZlZERlc3QgPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgcmVzb2x2ZWREZXN0KVxuICAgIH1cbiAgICBpZiAoc3RhdC5pc1NyY1N1YmRpcihyZXNvbHZlZFNyYywgcmVzb2x2ZWREZXN0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29weSAnJHtyZXNvbHZlZFNyY30nIHRvIGEgc3ViZGlyZWN0b3J5IG9mIGl0c2VsZiwgJyR7cmVzb2x2ZWREZXN0fScuYClcbiAgICB9XG5cbiAgICAvLyBwcmV2ZW50IGNvcHkgaWYgc3JjIGlzIGEgc3ViZGlyIG9mIGRlc3Qgc2luY2UgdW5saW5raW5nXG4gICAgLy8gZGVzdCBpbiB0aGlzIGNhc2Ugd291bGQgcmVzdWx0IGluIHJlbW92aW5nIHNyYyBjb250ZW50c1xuICAgIC8vIGFuZCB0aGVyZWZvcmUgYSBicm9rZW4gc3ltbGluayB3b3VsZCBiZSBjcmVhdGVkLlxuICAgIGlmIChmcy5zdGF0U3luYyhkZXN0KS5pc0RpcmVjdG9yeSgpICYmIHN0YXQuaXNTcmNTdWJkaXIocmVzb2x2ZWREZXN0LCByZXNvbHZlZFNyYykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IG92ZXJ3cml0ZSAnJHtyZXNvbHZlZERlc3R9JyB3aXRoICcke3Jlc29sdmVkU3JjfScuYClcbiAgICB9XG4gICAgcmV0dXJuIGNvcHlMaW5rKHJlc29sdmVkU3JjLCBkZXN0KVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvcHlMaW5rIChyZXNvbHZlZFNyYywgZGVzdCkge1xuICBmcy51bmxpbmtTeW5jKGRlc3QpXG4gIHJldHVybiBmcy5zeW1saW5rU3luYyhyZXNvbHZlZFNyYywgZGVzdClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb3B5U3luY1xuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb3B5U3luYzogcmVxdWlyZSgnLi9jb3B5LXN5bmMnKVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5jb25zdCB1ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JykuZnJvbVByb21pc2VcbmNvbnN0IGZzID0gcmVxdWlyZSgnLi4vZnMnKVxuXG5mdW5jdGlvbiBwYXRoRXhpc3RzIChwYXRoKSB7XG4gIHJldHVybiBmcy5hY2Nlc3MocGF0aCkudGhlbigoKSA9PiB0cnVlKS5jYXRjaCgoKSA9PiBmYWxzZSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHBhdGhFeGlzdHM6IHUocGF0aEV4aXN0cyksXG4gIHBhdGhFeGlzdHNTeW5jOiBmcy5leGlzdHNTeW5jXG59XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgZnMgPSByZXF1aXJlKCdncmFjZWZ1bC1mcycpXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCBta2RpcnMgPSByZXF1aXJlKCcuLi9ta2RpcnMnKS5ta2RpcnNcbmNvbnN0IHBhdGhFeGlzdHMgPSByZXF1aXJlKCcuLi9wYXRoLWV4aXN0cycpLnBhdGhFeGlzdHNcbmNvbnN0IHV0aW1lc01pbGxpcyA9IHJlcXVpcmUoJy4uL3V0aWwvdXRpbWVzJykudXRpbWVzTWlsbGlzXG5jb25zdCBzdGF0ID0gcmVxdWlyZSgnLi4vdXRpbC9zdGF0JylcblxuZnVuY3Rpb24gY29weSAoc3JjLCBkZXN0LCBvcHRzLCBjYikge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicgJiYgIWNiKSB7XG4gICAgY2IgPSBvcHRzXG4gICAgb3B0cyA9IHt9XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRzID0geyBmaWx0ZXI6IG9wdHMgfVxuICB9XG5cbiAgY2IgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fVxuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIG9wdHMuY2xvYmJlciA9ICdjbG9iYmVyJyBpbiBvcHRzID8gISFvcHRzLmNsb2JiZXIgOiB0cnVlIC8vIGRlZmF1bHQgdG8gdHJ1ZSBmb3Igbm93XG4gIG9wdHMub3ZlcndyaXRlID0gJ292ZXJ3cml0ZScgaW4gb3B0cyA/ICEhb3B0cy5vdmVyd3JpdGUgOiBvcHRzLmNsb2JiZXIgLy8gb3ZlcndyaXRlIGZhbGxzIGJhY2sgdG8gY2xvYmJlclxuXG4gIC8vIFdhcm4gYWJvdXQgdXNpbmcgcHJlc2VydmVUaW1lc3RhbXBzIG9uIDMyLWJpdCBub2RlXG4gIGlmIChvcHRzLnByZXNlcnZlVGltZXN0YW1wcyAmJiBwcm9jZXNzLmFyY2ggPT09ICdpYTMyJykge1xuICAgIGNvbnNvbGUud2FybihgZnMtZXh0cmE6IFVzaW5nIHRoZSBwcmVzZXJ2ZVRpbWVzdGFtcHMgb3B0aW9uIGluIDMyLWJpdCBub2RlIGlzIG5vdCByZWNvbW1lbmRlZDtcXG5cbiAgICBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pwcmljaGFyZHNvbi9ub2RlLWZzLWV4dHJhL2lzc3Vlcy8yNjlgKVxuICB9XG5cbiAgc3RhdC5jaGVja1BhdGhzKHNyYywgZGVzdCwgJ2NvcHknLCBvcHRzLCAoZXJyLCBzdGF0cykgPT4ge1xuICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpXG4gICAgY29uc3QgeyBzcmNTdGF0LCBkZXN0U3RhdCB9ID0gc3RhdHNcbiAgICBzdGF0LmNoZWNrUGFyZW50UGF0aHMoc3JjLCBzcmNTdGF0LCBkZXN0LCAnY29weScsIGVyciA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgICAgaWYgKG9wdHMuZmlsdGVyKSByZXR1cm4gaGFuZGxlRmlsdGVyKGNoZWNrUGFyZW50RGlyLCBkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzLCBjYilcbiAgICAgIHJldHVybiBjaGVja1BhcmVudERpcihkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzLCBjYilcbiAgICB9KVxuICB9KVxufVxuXG5mdW5jdGlvbiBjaGVja1BhcmVudERpciAoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cywgY2IpIHtcbiAgY29uc3QgZGVzdFBhcmVudCA9IHBhdGguZGlybmFtZShkZXN0KVxuICBwYXRoRXhpc3RzKGRlc3RQYXJlbnQsIChlcnIsIGRpckV4aXN0cykgPT4ge1xuICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpXG4gICAgaWYgKGRpckV4aXN0cykgcmV0dXJuIGdldFN0YXRzKGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMsIGNiKVxuICAgIG1rZGlycyhkZXN0UGFyZW50LCBlcnIgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycilcbiAgICAgIHJldHVybiBnZXRTdGF0cyhkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzLCBjYilcbiAgICB9KVxuICB9KVxufVxuXG5mdW5jdGlvbiBoYW5kbGVGaWx0ZXIgKG9uSW5jbHVkZSwgZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cywgY2IpIHtcbiAgUHJvbWlzZS5yZXNvbHZlKG9wdHMuZmlsdGVyKHNyYywgZGVzdCkpLnRoZW4oaW5jbHVkZSA9PiB7XG4gICAgaWYgKGluY2x1ZGUpIHJldHVybiBvbkluY2x1ZGUoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cywgY2IpXG4gICAgcmV0dXJuIGNiKClcbiAgfSwgZXJyb3IgPT4gY2IoZXJyb3IpKVxufVxuXG5mdW5jdGlvbiBzdGFydENvcHkgKGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMsIGNiKSB7XG4gIGlmIChvcHRzLmZpbHRlcikgcmV0dXJuIGhhbmRsZUZpbHRlcihnZXRTdGF0cywgZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cywgY2IpXG4gIHJldHVybiBnZXRTdGF0cyhkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzLCBjYilcbn1cblxuZnVuY3Rpb24gZ2V0U3RhdHMgKGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMsIGNiKSB7XG4gIGNvbnN0IHN0YXQgPSBvcHRzLmRlcmVmZXJlbmNlID8gZnMuc3RhdCA6IGZzLmxzdGF0XG4gIHN0YXQoc3JjLCAoZXJyLCBzcmNTdGF0KSA9PiB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNiKGVycilcblxuICAgIGlmIChzcmNTdGF0LmlzRGlyZWN0b3J5KCkpIHJldHVybiBvbkRpcihzcmNTdGF0LCBkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzLCBjYilcbiAgICBlbHNlIGlmIChzcmNTdGF0LmlzRmlsZSgpIHx8XG4gICAgICAgICAgICAgc3JjU3RhdC5pc0NoYXJhY3RlckRldmljZSgpIHx8XG4gICAgICAgICAgICAgc3JjU3RhdC5pc0Jsb2NrRGV2aWNlKCkpIHJldHVybiBvbkZpbGUoc3JjU3RhdCwgZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cywgY2IpXG4gICAgZWxzZSBpZiAoc3JjU3RhdC5pc1N5bWJvbGljTGluaygpKSByZXR1cm4gb25MaW5rKGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMsIGNiKVxuICAgIGVsc2UgaWYgKHNyY1N0YXQuaXNTb2NrZXQoKSkgcmV0dXJuIGNiKG5ldyBFcnJvcihgQ2Fubm90IGNvcHkgYSBzb2NrZXQgZmlsZTogJHtzcmN9YCkpXG4gICAgZWxzZSBpZiAoc3JjU3RhdC5pc0ZJRk8oKSkgcmV0dXJuIGNiKG5ldyBFcnJvcihgQ2Fubm90IGNvcHkgYSBGSUZPIHBpcGU6ICR7c3JjfWApKVxuICAgIHJldHVybiBjYihuZXcgRXJyb3IoYFVua25vd24gZmlsZTogJHtzcmN9YCkpXG4gIH0pXG59XG5cbmZ1bmN0aW9uIG9uRmlsZSAoc3JjU3RhdCwgZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cywgY2IpIHtcbiAgaWYgKCFkZXN0U3RhdCkgcmV0dXJuIGNvcHlGaWxlKHNyY1N0YXQsIHNyYywgZGVzdCwgb3B0cywgY2IpXG4gIHJldHVybiBtYXlDb3B5RmlsZShzcmNTdGF0LCBzcmMsIGRlc3QsIG9wdHMsIGNiKVxufVxuXG5mdW5jdGlvbiBtYXlDb3B5RmlsZSAoc3JjU3RhdCwgc3JjLCBkZXN0LCBvcHRzLCBjYikge1xuICBpZiAob3B0cy5vdmVyd3JpdGUpIHtcbiAgICBmcy51bmxpbmsoZGVzdCwgZXJyID0+IHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpXG4gICAgICByZXR1cm4gY29weUZpbGUoc3JjU3RhdCwgc3JjLCBkZXN0LCBvcHRzLCBjYilcbiAgICB9KVxuICB9IGVsc2UgaWYgKG9wdHMuZXJyb3JPbkV4aXN0KSB7XG4gICAgcmV0dXJuIGNiKG5ldyBFcnJvcihgJyR7ZGVzdH0nIGFscmVhZHkgZXhpc3RzYCkpXG4gIH0gZWxzZSByZXR1cm4gY2IoKVxufVxuXG5mdW5jdGlvbiBjb3B5RmlsZSAoc3JjU3RhdCwgc3JjLCBkZXN0LCBvcHRzLCBjYikge1xuICBmcy5jb3B5RmlsZShzcmMsIGRlc3QsIGVyciA9PiB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNiKGVycilcbiAgICBpZiAob3B0cy5wcmVzZXJ2ZVRpbWVzdGFtcHMpIHJldHVybiBoYW5kbGVUaW1lc3RhbXBzQW5kTW9kZShzcmNTdGF0Lm1vZGUsIHNyYywgZGVzdCwgY2IpXG4gICAgcmV0dXJuIHNldERlc3RNb2RlKGRlc3QsIHNyY1N0YXQubW9kZSwgY2IpXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRpbWVzdGFtcHNBbmRNb2RlIChzcmNNb2RlLCBzcmMsIGRlc3QsIGNiKSB7XG4gIC8vIE1ha2Ugc3VyZSB0aGUgZmlsZSBpcyB3cml0YWJsZSBiZWZvcmUgc2V0dGluZyB0aGUgdGltZXN0YW1wXG4gIC8vIG90aGVyd2lzZSBvcGVuIGZhaWxzIHdpdGggRVBFUk0gd2hlbiBpbnZva2VkIHdpdGggJ3IrJ1xuICAvLyAodGhyb3VnaCB1dGltZXMgY2FsbClcbiAgaWYgKGZpbGVJc05vdFdyaXRhYmxlKHNyY01vZGUpKSB7XG4gICAgcmV0dXJuIG1ha2VGaWxlV3JpdGFibGUoZGVzdCwgc3JjTW9kZSwgZXJyID0+IHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpXG4gICAgICByZXR1cm4gc2V0RGVzdFRpbWVzdGFtcHNBbmRNb2RlKHNyY01vZGUsIHNyYywgZGVzdCwgY2IpXG4gICAgfSlcbiAgfVxuICByZXR1cm4gc2V0RGVzdFRpbWVzdGFtcHNBbmRNb2RlKHNyY01vZGUsIHNyYywgZGVzdCwgY2IpXG59XG5cbmZ1bmN0aW9uIGZpbGVJc05vdFdyaXRhYmxlIChzcmNNb2RlKSB7XG4gIHJldHVybiAoc3JjTW9kZSAmIDBvMjAwKSA9PT0gMFxufVxuXG5mdW5jdGlvbiBtYWtlRmlsZVdyaXRhYmxlIChkZXN0LCBzcmNNb2RlLCBjYikge1xuICByZXR1cm4gc2V0RGVzdE1vZGUoZGVzdCwgc3JjTW9kZSB8IDBvMjAwLCBjYilcbn1cblxuZnVuY3Rpb24gc2V0RGVzdFRpbWVzdGFtcHNBbmRNb2RlIChzcmNNb2RlLCBzcmMsIGRlc3QsIGNiKSB7XG4gIHNldERlc3RUaW1lc3RhbXBzKHNyYywgZGVzdCwgZXJyID0+IHtcbiAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgIHJldHVybiBzZXREZXN0TW9kZShkZXN0LCBzcmNNb2RlLCBjYilcbiAgfSlcbn1cblxuZnVuY3Rpb24gc2V0RGVzdE1vZGUgKGRlc3QsIHNyY01vZGUsIGNiKSB7XG4gIHJldHVybiBmcy5jaG1vZChkZXN0LCBzcmNNb2RlLCBjYilcbn1cblxuZnVuY3Rpb24gc2V0RGVzdFRpbWVzdGFtcHMgKHNyYywgZGVzdCwgY2IpIHtcbiAgLy8gVGhlIGluaXRpYWwgc3JjU3RhdC5hdGltZSBjYW5ub3QgYmUgdHJ1c3RlZFxuICAvLyBiZWNhdXNlIGl0IGlzIG1vZGlmaWVkIGJ5IHRoZSByZWFkKDIpIHN5c3RlbSBjYWxsXG4gIC8vIChTZWUgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9mcy5odG1sI2ZzX3N0YXRfdGltZV92YWx1ZXMpXG4gIGZzLnN0YXQoc3JjLCAoZXJyLCB1cGRhdGVkU3JjU3RhdCkgPT4ge1xuICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpXG4gICAgcmV0dXJuIHV0aW1lc01pbGxpcyhkZXN0LCB1cGRhdGVkU3JjU3RhdC5hdGltZSwgdXBkYXRlZFNyY1N0YXQubXRpbWUsIGNiKVxuICB9KVxufVxuXG5mdW5jdGlvbiBvbkRpciAoc3JjU3RhdCwgZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cywgY2IpIHtcbiAgaWYgKCFkZXN0U3RhdCkgcmV0dXJuIG1rRGlyQW5kQ29weShzcmNTdGF0Lm1vZGUsIHNyYywgZGVzdCwgb3B0cywgY2IpXG4gIHJldHVybiBjb3B5RGlyKHNyYywgZGVzdCwgb3B0cywgY2IpXG59XG5cbmZ1bmN0aW9uIG1rRGlyQW5kQ29weSAoc3JjTW9kZSwgc3JjLCBkZXN0LCBvcHRzLCBjYikge1xuICBmcy5ta2RpcihkZXN0LCBlcnIgPT4ge1xuICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpXG4gICAgY29weURpcihzcmMsIGRlc3QsIG9wdHMsIGVyciA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgICAgcmV0dXJuIHNldERlc3RNb2RlKGRlc3QsIHNyY01vZGUsIGNiKVxuICAgIH0pXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGNvcHlEaXIgKHNyYywgZGVzdCwgb3B0cywgY2IpIHtcbiAgZnMucmVhZGRpcihzcmMsIChlcnIsIGl0ZW1zKSA9PiB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNiKGVycilcbiAgICByZXR1cm4gY29weURpckl0ZW1zKGl0ZW1zLCBzcmMsIGRlc3QsIG9wdHMsIGNiKVxuICB9KVxufVxuXG5mdW5jdGlvbiBjb3B5RGlySXRlbXMgKGl0ZW1zLCBzcmMsIGRlc3QsIG9wdHMsIGNiKSB7XG4gIGNvbnN0IGl0ZW0gPSBpdGVtcy5wb3AoKVxuICBpZiAoIWl0ZW0pIHJldHVybiBjYigpXG4gIHJldHVybiBjb3B5RGlySXRlbShpdGVtcywgaXRlbSwgc3JjLCBkZXN0LCBvcHRzLCBjYilcbn1cblxuZnVuY3Rpb24gY29weURpckl0ZW0gKGl0ZW1zLCBpdGVtLCBzcmMsIGRlc3QsIG9wdHMsIGNiKSB7XG4gIGNvbnN0IHNyY0l0ZW0gPSBwYXRoLmpvaW4oc3JjLCBpdGVtKVxuICBjb25zdCBkZXN0SXRlbSA9IHBhdGguam9pbihkZXN0LCBpdGVtKVxuICBzdGF0LmNoZWNrUGF0aHMoc3JjSXRlbSwgZGVzdEl0ZW0sICdjb3B5Jywgb3B0cywgKGVyciwgc3RhdHMpID0+IHtcbiAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgIGNvbnN0IHsgZGVzdFN0YXQgfSA9IHN0YXRzXG4gICAgc3RhcnRDb3B5KGRlc3RTdGF0LCBzcmNJdGVtLCBkZXN0SXRlbSwgb3B0cywgZXJyID0+IHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpXG4gICAgICByZXR1cm4gY29weURpckl0ZW1zKGl0ZW1zLCBzcmMsIGRlc3QsIG9wdHMsIGNiKVxuICAgIH0pXG4gIH0pXG59XG5cbmZ1bmN0aW9uIG9uTGluayAoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cywgY2IpIHtcbiAgZnMucmVhZGxpbmsoc3JjLCAoZXJyLCByZXNvbHZlZFNyYykgPT4ge1xuICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpXG4gICAgaWYgKG9wdHMuZGVyZWZlcmVuY2UpIHtcbiAgICAgIHJlc29sdmVkU3JjID0gcGF0aC5yZXNvbHZlKHByb2Nlc3MuY3dkKCksIHJlc29sdmVkU3JjKVxuICAgIH1cblxuICAgIGlmICghZGVzdFN0YXQpIHtcbiAgICAgIHJldHVybiBmcy5zeW1saW5rKHJlc29sdmVkU3JjLCBkZXN0LCBjYilcbiAgICB9IGVsc2Uge1xuICAgICAgZnMucmVhZGxpbmsoZGVzdCwgKGVyciwgcmVzb2x2ZWREZXN0KSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAvLyBkZXN0IGV4aXN0cyBhbmQgaXMgYSByZWd1bGFyIGZpbGUgb3IgZGlyZWN0b3J5LFxuICAgICAgICAgIC8vIFdpbmRvd3MgbWF5IHRocm93IFVOS05PV04gZXJyb3IuIElmIGRlc3QgYWxyZWFkeSBleGlzdHMsXG4gICAgICAgICAgLy8gZnMgdGhyb3dzIGVycm9yIGFueXdheSwgc28gbm8gbmVlZCB0byBndWFyZCBhZ2FpbnN0IGl0IGhlcmUuXG4gICAgICAgICAgaWYgKGVyci5jb2RlID09PSAnRUlOVkFMJyB8fCBlcnIuY29kZSA9PT0gJ1VOS05PV04nKSByZXR1cm4gZnMuc3ltbGluayhyZXNvbHZlZFNyYywgZGVzdCwgY2IpXG4gICAgICAgICAgcmV0dXJuIGNiKGVycilcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5kZXJlZmVyZW5jZSkge1xuICAgICAgICAgIHJlc29sdmVkRGVzdCA9IHBhdGgucmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCByZXNvbHZlZERlc3QpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXQuaXNTcmNTdWJkaXIocmVzb2x2ZWRTcmMsIHJlc29sdmVkRGVzdCkpIHtcbiAgICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKGBDYW5ub3QgY29weSAnJHtyZXNvbHZlZFNyY30nIHRvIGEgc3ViZGlyZWN0b3J5IG9mIGl0c2VsZiwgJyR7cmVzb2x2ZWREZXN0fScuYCkpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBkbyBub3QgY29weSBpZiBzcmMgaXMgYSBzdWJkaXIgb2YgZGVzdCBzaW5jZSB1bmxpbmtpbmdcbiAgICAgICAgLy8gZGVzdCBpbiB0aGlzIGNhc2Ugd291bGQgcmVzdWx0IGluIHJlbW92aW5nIHNyYyBjb250ZW50c1xuICAgICAgICAvLyBhbmQgdGhlcmVmb3JlIGEgYnJva2VuIHN5bWxpbmsgd291bGQgYmUgY3JlYXRlZC5cbiAgICAgICAgaWYgKGRlc3RTdGF0LmlzRGlyZWN0b3J5KCkgJiYgc3RhdC5pc1NyY1N1YmRpcihyZXNvbHZlZERlc3QsIHJlc29sdmVkU3JjKSkge1xuICAgICAgICAgIHJldHVybiBjYihuZXcgRXJyb3IoYENhbm5vdCBvdmVyd3JpdGUgJyR7cmVzb2x2ZWREZXN0fScgd2l0aCAnJHtyZXNvbHZlZFNyY30nLmApKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3B5TGluayhyZXNvbHZlZFNyYywgZGVzdCwgY2IpXG4gICAgICB9KVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gY29weUxpbmsgKHJlc29sdmVkU3JjLCBkZXN0LCBjYikge1xuICBmcy51bmxpbmsoZGVzdCwgZXJyID0+IHtcbiAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgIHJldHVybiBmcy5zeW1saW5rKHJlc29sdmVkU3JjLCBkZXN0LCBjYilcbiAgfSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb3B5XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgdSA9IHJlcXVpcmUoJ3VuaXZlcnNhbGlmeScpLmZyb21DYWxsYmFja1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvcHk6IHUocmVxdWlyZSgnLi9jb3B5JykpXG59XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgZnMgPSByZXF1aXJlKCdncmFjZWZ1bC1mcycpXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKVxuXG5jb25zdCBpc1dpbmRvd3MgPSAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJylcblxuZnVuY3Rpb24gZGVmYXVsdHMgKG9wdGlvbnMpIHtcbiAgY29uc3QgbWV0aG9kcyA9IFtcbiAgICAndW5saW5rJyxcbiAgICAnY2htb2QnLFxuICAgICdzdGF0JyxcbiAgICAnbHN0YXQnLFxuICAgICdybWRpcicsXG4gICAgJ3JlYWRkaXInXG4gIF1cbiAgbWV0aG9kcy5mb3JFYWNoKG0gPT4ge1xuICAgIG9wdGlvbnNbbV0gPSBvcHRpb25zW21dIHx8IGZzW21dXG4gICAgbSA9IG0gKyAnU3luYydcbiAgICBvcHRpb25zW21dID0gb3B0aW9uc1ttXSB8fCBmc1ttXVxuICB9KVxuXG4gIG9wdGlvbnMubWF4QnVzeVRyaWVzID0gb3B0aW9ucy5tYXhCdXN5VHJpZXMgfHwgM1xufVxuXG5mdW5jdGlvbiByaW1yYWYgKHAsIG9wdGlvbnMsIGNiKSB7XG4gIGxldCBidXN5VHJpZXMgPSAwXG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRpb25zXG4gICAgb3B0aW9ucyA9IHt9XG4gIH1cblxuICBhc3NlcnQocCwgJ3JpbXJhZjogbWlzc2luZyBwYXRoJylcbiAgYXNzZXJ0LnN0cmljdEVxdWFsKHR5cGVvZiBwLCAnc3RyaW5nJywgJ3JpbXJhZjogcGF0aCBzaG91bGQgYmUgYSBzdHJpbmcnKVxuICBhc3NlcnQuc3RyaWN0RXF1YWwodHlwZW9mIGNiLCAnZnVuY3Rpb24nLCAncmltcmFmOiBjYWxsYmFjayBmdW5jdGlvbiByZXF1aXJlZCcpXG4gIGFzc2VydChvcHRpb25zLCAncmltcmFmOiBpbnZhbGlkIG9wdGlvbnMgYXJndW1lbnQgcHJvdmlkZWQnKVxuICBhc3NlcnQuc3RyaWN0RXF1YWwodHlwZW9mIG9wdGlvbnMsICdvYmplY3QnLCAncmltcmFmOiBvcHRpb25zIHNob3VsZCBiZSBvYmplY3QnKVxuXG4gIGRlZmF1bHRzKG9wdGlvbnMpXG5cbiAgcmltcmFmXyhwLCBvcHRpb25zLCBmdW5jdGlvbiBDQiAoZXIpIHtcbiAgICBpZiAoZXIpIHtcbiAgICAgIGlmICgoZXIuY29kZSA9PT0gJ0VCVVNZJyB8fCBlci5jb2RlID09PSAnRU5PVEVNUFRZJyB8fCBlci5jb2RlID09PSAnRVBFUk0nKSAmJlxuICAgICAgICAgIGJ1c3lUcmllcyA8IG9wdGlvbnMubWF4QnVzeVRyaWVzKSB7XG4gICAgICAgIGJ1c3lUcmllcysrXG4gICAgICAgIGNvbnN0IHRpbWUgPSBidXN5VHJpZXMgKiAxMDBcbiAgICAgICAgLy8gdHJ5IGFnYWluLCB3aXRoIHRoZSBzYW1lIGV4YWN0IGNhbGxiYWNrIGFzIHRoaXMgb25lLlxuICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKSA9PiByaW1yYWZfKHAsIG9wdGlvbnMsIENCKSwgdGltZSlcbiAgICAgIH1cblxuICAgICAgLy8gYWxyZWFkeSBnb25lXG4gICAgICBpZiAoZXIuY29kZSA9PT0gJ0VOT0VOVCcpIGVyID0gbnVsbFxuICAgIH1cblxuICAgIGNiKGVyKVxuICB9KVxufVxuXG4vLyBUd28gcG9zc2libGUgc3RyYXRlZ2llcy5cbi8vIDEuIEFzc3VtZSBpdCdzIGEgZmlsZS4gIHVubGluayBpdCwgdGhlbiBkbyB0aGUgZGlyIHN0dWZmIG9uIEVQRVJNIG9yIEVJU0RJUlxuLy8gMi4gQXNzdW1lIGl0J3MgYSBkaXJlY3RvcnkuICByZWFkZGlyLCB0aGVuIGRvIHRoZSBmaWxlIHN0dWZmIG9uIEVOT1RESVJcbi8vXG4vLyBCb3RoIHJlc3VsdCBpbiBhbiBleHRyYSBzeXNjYWxsIHdoZW4geW91IGd1ZXNzIHdyb25nLiAgSG93ZXZlciwgdGhlcmVcbi8vIGFyZSBsaWtlbHkgZmFyIG1vcmUgbm9ybWFsIGZpbGVzIGluIHRoZSB3b3JsZCB0aGFuIGRpcmVjdG9yaWVzLiAgVGhpc1xuLy8gaXMgYmFzZWQgb24gdGhlIGFzc3VtcHRpb24gdGhhdCBhIHRoZSBhdmVyYWdlIG51bWJlciBvZiBmaWxlcyBwZXJcbi8vIGRpcmVjdG9yeSBpcyA+PSAxLlxuLy9cbi8vIElmIGFueW9uZSBldmVyIGNvbXBsYWlucyBhYm91dCB0aGlzLCB0aGVuIEkgZ3Vlc3MgdGhlIHN0cmF0ZWd5IGNvdWxkXG4vLyBiZSBtYWRlIGNvbmZpZ3VyYWJsZSBzb21laG93LiAgQnV0IHVudGlsIHRoZW4sIFlBR05JLlxuZnVuY3Rpb24gcmltcmFmXyAocCwgb3B0aW9ucywgY2IpIHtcbiAgYXNzZXJ0KHApXG4gIGFzc2VydChvcHRpb25zKVxuICBhc3NlcnQodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuXG4gIC8vIHN1bm9zIGxldHMgdGhlIHJvb3QgdXNlciB1bmxpbmsgZGlyZWN0b3JpZXMsIHdoaWNoIGlzLi4uIHdlaXJkLlxuICAvLyBzbyB3ZSBoYXZlIHRvIGxzdGF0IGhlcmUgYW5kIG1ha2Ugc3VyZSBpdCdzIG5vdCBhIGRpci5cbiAgb3B0aW9ucy5sc3RhdChwLCAoZXIsIHN0KSA9PiB7XG4gICAgaWYgKGVyICYmIGVyLmNvZGUgPT09ICdFTk9FTlQnKSB7XG4gICAgICByZXR1cm4gY2IobnVsbClcbiAgICB9XG5cbiAgICAvLyBXaW5kb3dzIGNhbiBFUEVSTSBvbiBzdGF0LiAgTGlmZSBpcyBzdWZmZXJpbmcuXG4gICAgaWYgKGVyICYmIGVyLmNvZGUgPT09ICdFUEVSTScgJiYgaXNXaW5kb3dzKSB7XG4gICAgICByZXR1cm4gZml4V2luRVBFUk0ocCwgb3B0aW9ucywgZXIsIGNiKVxuICAgIH1cblxuICAgIGlmIChzdCAmJiBzdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICByZXR1cm4gcm1kaXIocCwgb3B0aW9ucywgZXIsIGNiKVxuICAgIH1cblxuICAgIG9wdGlvbnMudW5saW5rKHAsIGVyID0+IHtcbiAgICAgIGlmIChlcikge1xuICAgICAgICBpZiAoZXIuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgICAgICByZXR1cm4gY2IobnVsbClcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXIuY29kZSA9PT0gJ0VQRVJNJykge1xuICAgICAgICAgIHJldHVybiAoaXNXaW5kb3dzKVxuICAgICAgICAgICAgPyBmaXhXaW5FUEVSTShwLCBvcHRpb25zLCBlciwgY2IpXG4gICAgICAgICAgICA6IHJtZGlyKHAsIG9wdGlvbnMsIGVyLCBjYilcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXIuY29kZSA9PT0gJ0VJU0RJUicpIHtcbiAgICAgICAgICByZXR1cm4gcm1kaXIocCwgb3B0aW9ucywgZXIsIGNiKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2IoZXIpXG4gICAgfSlcbiAgfSlcbn1cblxuZnVuY3Rpb24gZml4V2luRVBFUk0gKHAsIG9wdGlvbnMsIGVyLCBjYikge1xuICBhc3NlcnQocClcbiAgYXNzZXJ0KG9wdGlvbnMpXG4gIGFzc2VydCh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpXG5cbiAgb3B0aW9ucy5jaG1vZChwLCAwbzY2NiwgZXIyID0+IHtcbiAgICBpZiAoZXIyKSB7XG4gICAgICBjYihlcjIuY29kZSA9PT0gJ0VOT0VOVCcgPyBudWxsIDogZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMuc3RhdChwLCAoZXIzLCBzdGF0cykgPT4ge1xuICAgICAgICBpZiAoZXIzKSB7XG4gICAgICAgICAgY2IoZXIzLmNvZGUgPT09ICdFTk9FTlQnID8gbnVsbCA6IGVyKVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRzLmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgICBybWRpcihwLCBvcHRpb25zLCBlciwgY2IpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9ucy51bmxpbmsocCwgY2IpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBmaXhXaW5FUEVSTVN5bmMgKHAsIG9wdGlvbnMsIGVyKSB7XG4gIGxldCBzdGF0c1xuXG4gIGFzc2VydChwKVxuICBhc3NlcnQob3B0aW9ucylcblxuICB0cnkge1xuICAgIG9wdGlvbnMuY2htb2RTeW5jKHAsIDBvNjY2KVxuICB9IGNhdGNoIChlcjIpIHtcbiAgICBpZiAoZXIyLmNvZGUgPT09ICdFTk9FTlQnKSB7XG4gICAgICByZXR1cm5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIHN0YXRzID0gb3B0aW9ucy5zdGF0U3luYyhwKVxuICB9IGNhdGNoIChlcjMpIHtcbiAgICBpZiAoZXIzLmNvZGUgPT09ICdFTk9FTlQnKSB7XG4gICAgICByZXR1cm5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJcbiAgICB9XG4gIH1cblxuICBpZiAoc3RhdHMuaXNEaXJlY3RvcnkoKSkge1xuICAgIHJtZGlyU3luYyhwLCBvcHRpb25zLCBlcilcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLnVubGlua1N5bmMocClcbiAgfVxufVxuXG5mdW5jdGlvbiBybWRpciAocCwgb3B0aW9ucywgb3JpZ2luYWxFciwgY2IpIHtcbiAgYXNzZXJ0KHApXG4gIGFzc2VydChvcHRpb25zKVxuICBhc3NlcnQodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuXG4gIC8vIHRyeSB0byBybWRpciBmaXJzdCwgYW5kIG9ubHkgcmVhZGRpciBvbiBFTk9URU1QVFkgb3IgRUVYSVNUIChTdW5PUylcbiAgLy8gaWYgd2UgZ3Vlc3NlZCB3cm9uZywgYW5kIGl0J3Mgbm90IGEgZGlyZWN0b3J5LCB0aGVuXG4gIC8vIHJhaXNlIHRoZSBvcmlnaW5hbCBlcnJvci5cbiAgb3B0aW9ucy5ybWRpcihwLCBlciA9PiB7XG4gICAgaWYgKGVyICYmIChlci5jb2RlID09PSAnRU5PVEVNUFRZJyB8fCBlci5jb2RlID09PSAnRUVYSVNUJyB8fCBlci5jb2RlID09PSAnRVBFUk0nKSkge1xuICAgICAgcm1raWRzKHAsIG9wdGlvbnMsIGNiKVxuICAgIH0gZWxzZSBpZiAoZXIgJiYgZXIuY29kZSA9PT0gJ0VOT1RESVInKSB7XG4gICAgICBjYihvcmlnaW5hbEVyKVxuICAgIH0gZWxzZSB7XG4gICAgICBjYihlcilcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHJta2lkcyAocCwgb3B0aW9ucywgY2IpIHtcbiAgYXNzZXJ0KHApXG4gIGFzc2VydChvcHRpb25zKVxuICBhc3NlcnQodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuXG4gIG9wdGlvbnMucmVhZGRpcihwLCAoZXIsIGZpbGVzKSA9PiB7XG4gICAgaWYgKGVyKSByZXR1cm4gY2IoZXIpXG5cbiAgICBsZXQgbiA9IGZpbGVzLmxlbmd0aFxuICAgIGxldCBlcnJTdGF0ZVxuXG4gICAgaWYgKG4gPT09IDApIHJldHVybiBvcHRpb25zLnJtZGlyKHAsIGNiKVxuXG4gICAgZmlsZXMuZm9yRWFjaChmID0+IHtcbiAgICAgIHJpbXJhZihwYXRoLmpvaW4ocCwgZiksIG9wdGlvbnMsIGVyID0+IHtcbiAgICAgICAgaWYgKGVyclN0YXRlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVyKSByZXR1cm4gY2IoZXJyU3RhdGUgPSBlcilcbiAgICAgICAgaWYgKC0tbiA9PT0gMCkge1xuICAgICAgICAgIG9wdGlvbnMucm1kaXIocCwgY2IpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn1cblxuLy8gdGhpcyBsb29rcyBzaW1wbGVyLCBhbmQgaXMgc3RyaWN0bHkgKmZhc3RlciosIGJ1dCB3aWxsXG4vLyB0aWUgdXAgdGhlIEphdmFTY3JpcHQgdGhyZWFkIGFuZCBmYWlsIG9uIGV4Y2Vzc2l2ZWx5XG4vLyBkZWVwIGRpcmVjdG9yeSB0cmVlcy5cbmZ1bmN0aW9uIHJpbXJhZlN5bmMgKHAsIG9wdGlvbnMpIHtcbiAgbGV0IHN0XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgZGVmYXVsdHMob3B0aW9ucylcblxuICBhc3NlcnQocCwgJ3JpbXJhZjogbWlzc2luZyBwYXRoJylcbiAgYXNzZXJ0LnN0cmljdEVxdWFsKHR5cGVvZiBwLCAnc3RyaW5nJywgJ3JpbXJhZjogcGF0aCBzaG91bGQgYmUgYSBzdHJpbmcnKVxuICBhc3NlcnQob3B0aW9ucywgJ3JpbXJhZjogbWlzc2luZyBvcHRpb25zJylcbiAgYXNzZXJ0LnN0cmljdEVxdWFsKHR5cGVvZiBvcHRpb25zLCAnb2JqZWN0JywgJ3JpbXJhZjogb3B0aW9ucyBzaG91bGQgYmUgb2JqZWN0JylcblxuICB0cnkge1xuICAgIHN0ID0gb3B0aW9ucy5sc3RhdFN5bmMocClcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICBpZiAoZXIuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIFdpbmRvd3MgY2FuIEVQRVJNIG9uIHN0YXQuICBMaWZlIGlzIHN1ZmZlcmluZy5cbiAgICBpZiAoZXIuY29kZSA9PT0gJ0VQRVJNJyAmJiBpc1dpbmRvd3MpIHtcbiAgICAgIGZpeFdpbkVQRVJNU3luYyhwLCBvcHRpb25zLCBlcilcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIC8vIHN1bm9zIGxldHMgdGhlIHJvb3QgdXNlciB1bmxpbmsgZGlyZWN0b3JpZXMsIHdoaWNoIGlzLi4uIHdlaXJkLlxuICAgIGlmIChzdCAmJiBzdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICBybWRpclN5bmMocCwgb3B0aW9ucywgbnVsbClcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucy51bmxpbmtTeW5jKHApXG4gICAgfVxuICB9IGNhdGNoIChlcikge1xuICAgIGlmIChlci5jb2RlID09PSAnRU5PRU5UJykge1xuICAgICAgcmV0dXJuXG4gICAgfSBlbHNlIGlmIChlci5jb2RlID09PSAnRVBFUk0nKSB7XG4gICAgICByZXR1cm4gaXNXaW5kb3dzID8gZml4V2luRVBFUk1TeW5jKHAsIG9wdGlvbnMsIGVyKSA6IHJtZGlyU3luYyhwLCBvcHRpb25zLCBlcilcbiAgICB9IGVsc2UgaWYgKGVyLmNvZGUgIT09ICdFSVNESVInKSB7XG4gICAgICB0aHJvdyBlclxuICAgIH1cbiAgICBybWRpclN5bmMocCwgb3B0aW9ucywgZXIpXG4gIH1cbn1cblxuZnVuY3Rpb24gcm1kaXJTeW5jIChwLCBvcHRpb25zLCBvcmlnaW5hbEVyKSB7XG4gIGFzc2VydChwKVxuICBhc3NlcnQob3B0aW9ucylcblxuICB0cnkge1xuICAgIG9wdGlvbnMucm1kaXJTeW5jKHApXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgaWYgKGVyLmNvZGUgPT09ICdFTk9URElSJykge1xuICAgICAgdGhyb3cgb3JpZ2luYWxFclxuICAgIH0gZWxzZSBpZiAoZXIuY29kZSA9PT0gJ0VOT1RFTVBUWScgfHwgZXIuY29kZSA9PT0gJ0VFWElTVCcgfHwgZXIuY29kZSA9PT0gJ0VQRVJNJykge1xuICAgICAgcm1raWRzU3luYyhwLCBvcHRpb25zKVxuICAgIH0gZWxzZSBpZiAoZXIuY29kZSAhPT0gJ0VOT0VOVCcpIHtcbiAgICAgIHRocm93IGVyXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJta2lkc1N5bmMgKHAsIG9wdGlvbnMpIHtcbiAgYXNzZXJ0KHApXG4gIGFzc2VydChvcHRpb25zKVxuICBvcHRpb25zLnJlYWRkaXJTeW5jKHApLmZvckVhY2goZiA9PiByaW1yYWZTeW5jKHBhdGguam9pbihwLCBmKSwgb3B0aW9ucykpXG5cbiAgaWYgKGlzV2luZG93cykge1xuICAgIC8vIFdlIG9ubHkgZW5kIHVwIGhlcmUgb25jZSB3ZSBnb3QgRU5PVEVNUFRZIGF0IGxlYXN0IG9uY2UsIGFuZFxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIHdlIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgcmVtb3ZlZCBhbGwgdGhlIGtpZHMuXG4gICAgLy8gU28sIHdlIGtub3cgdGhhdCBpdCB3b24ndCBiZSBFTk9FTlQgb3IgRU5PVERJUiBvciBhbnl0aGluZyBlbHNlLlxuICAgIC8vIHRyeSByZWFsbHkgaGFyZCB0byBkZWxldGUgc3R1ZmYgb24gd2luZG93cywgYmVjYXVzZSBpdCBoYXMgYVxuICAgIC8vIFBST0ZPVU5ETFkgYW5ub3lpbmcgaGFiaXQgb2Ygbm90IGNsb3NpbmcgaGFuZGxlcyBwcm9tcHRseSB3aGVuXG4gICAgLy8gZmlsZXMgYXJlIGRlbGV0ZWQsIHJlc3VsdGluZyBpbiBzcHVyaW91cyBFTk9URU1QVFkgZXJyb3JzLlxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KClcbiAgICBkbyB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXQgPSBvcHRpb25zLnJtZGlyU3luYyhwLCBvcHRpb25zKVxuICAgICAgICByZXR1cm4gcmV0XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfSB3aGlsZSAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSA8IDUwMCkgLy8gZ2l2ZSB1cCBhZnRlciA1MDBtc1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHJldCA9IG9wdGlvbnMucm1kaXJTeW5jKHAsIG9wdGlvbnMpXG4gICAgcmV0dXJuIHJldFxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmltcmFmXG5yaW1yYWYuc3luYyA9IHJpbXJhZlN5bmNcbiIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2dyYWNlZnVsLWZzJylcbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tQ2FsbGJhY2tcbmNvbnN0IHJpbXJhZiA9IHJlcXVpcmUoJy4vcmltcmFmJylcblxuZnVuY3Rpb24gcmVtb3ZlIChwYXRoLCBjYWxsYmFjaykge1xuICAvLyBOb2RlIDE0LjE0LjArXG4gIGlmIChmcy5ybSkgcmV0dXJuIGZzLnJtKHBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlLCBmb3JjZTogdHJ1ZSB9LCBjYWxsYmFjaylcbiAgcmltcmFmKHBhdGgsIGNhbGxiYWNrKVxufVxuXG5mdW5jdGlvbiByZW1vdmVTeW5jIChwYXRoKSB7XG4gIC8vIE5vZGUgMTQuMTQuMCtcbiAgaWYgKGZzLnJtU3luYykgcmV0dXJuIGZzLnJtU3luYyhwYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSwgZm9yY2U6IHRydWUgfSlcbiAgcmltcmFmLnN5bmMocGF0aClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJlbW92ZTogdShyZW1vdmUpLFxuICByZW1vdmVTeW5jXG59XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgdSA9IHJlcXVpcmUoJ3VuaXZlcnNhbGlmeScpLmZyb21Qcm9taXNlXG5jb25zdCBmcyA9IHJlcXVpcmUoJy4uL2ZzJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IG1rZGlyID0gcmVxdWlyZSgnLi4vbWtkaXJzJylcbmNvbnN0IHJlbW92ZSA9IHJlcXVpcmUoJy4uL3JlbW92ZScpXG5cbmNvbnN0IGVtcHR5RGlyID0gdShhc3luYyBmdW5jdGlvbiBlbXB0eURpciAoZGlyKSB7XG4gIGxldCBpdGVtc1xuICB0cnkge1xuICAgIGl0ZW1zID0gYXdhaXQgZnMucmVhZGRpcihkaXIpXG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBta2Rpci5ta2RpcnMoZGlyKVxuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zLm1hcChpdGVtID0+IHJlbW92ZS5yZW1vdmUocGF0aC5qb2luKGRpciwgaXRlbSkpKSlcbn0pXG5cbmZ1bmN0aW9uIGVtcHR5RGlyU3luYyAoZGlyKSB7XG4gIGxldCBpdGVtc1xuICB0cnkge1xuICAgIGl0ZW1zID0gZnMucmVhZGRpclN5bmMoZGlyKVxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbWtkaXIubWtkaXJzU3luYyhkaXIpXG4gIH1cblxuICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGl0ZW0gPSBwYXRoLmpvaW4oZGlyLCBpdGVtKVxuICAgIHJlbW92ZS5yZW1vdmVTeW5jKGl0ZW0pXG4gIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBlbXB0eURpclN5bmMsXG4gIGVtcHR5ZGlyU3luYzogZW1wdHlEaXJTeW5jLFxuICBlbXB0eURpcixcbiAgZW1wdHlkaXI6IGVtcHR5RGlyXG59XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgdSA9IHJlcXVpcmUoJ3VuaXZlcnNhbGlmeScpLmZyb21DYWxsYmFja1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3QgZnMgPSByZXF1aXJlKCdncmFjZWZ1bC1mcycpXG5jb25zdCBta2RpciA9IHJlcXVpcmUoJy4uL21rZGlycycpXG5cbmZ1bmN0aW9uIGNyZWF0ZUZpbGUgKGZpbGUsIGNhbGxiYWNrKSB7XG4gIGZ1bmN0aW9uIG1ha2VGaWxlICgpIHtcbiAgICBmcy53cml0ZUZpbGUoZmlsZSwgJycsIGVyciA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuICAgICAgY2FsbGJhY2soKVxuICAgIH0pXG4gIH1cblxuICBmcy5zdGF0KGZpbGUsIChlcnIsIHN0YXRzKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgaGFuZGxlLWNhbGxiYWNrLWVyclxuICAgIGlmICghZXJyICYmIHN0YXRzLmlzRmlsZSgpKSByZXR1cm4gY2FsbGJhY2soKVxuICAgIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShmaWxlKVxuICAgIGZzLnN0YXQoZGlyLCAoZXJyLCBzdGF0cykgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICAvLyBpZiB0aGUgZGlyZWN0b3J5IGRvZXNuJ3QgZXhpc3QsIG1ha2UgaXRcbiAgICAgICAgaWYgKGVyci5jb2RlID09PSAnRU5PRU5UJykge1xuICAgICAgICAgIHJldHVybiBta2Rpci5ta2RpcnMoZGlyLCBlcnIgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICAgICAgICAgIG1ha2VGaWxlKClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpXG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0cy5pc0RpcmVjdG9yeSgpKSBtYWtlRmlsZSgpXG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gcGFyZW50IGlzIG5vdCBhIGRpcmVjdG9yeVxuICAgICAgICAvLyBUaGlzIGlzIGp1c3QgdG8gY2F1c2UgYW4gaW50ZXJuYWwgRU5PVERJUiBlcnJvciB0byBiZSB0aHJvd25cbiAgICAgICAgZnMucmVhZGRpcihkaXIsIGVyciA9PiB7XG4gICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9KVxufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWxlU3luYyAoZmlsZSkge1xuICBsZXQgc3RhdHNcbiAgdHJ5IHtcbiAgICBzdGF0cyA9IGZzLnN0YXRTeW5jKGZpbGUpXG4gIH0gY2F0Y2gge31cbiAgaWYgKHN0YXRzICYmIHN0YXRzLmlzRmlsZSgpKSByZXR1cm5cblxuICBjb25zdCBkaXIgPSBwYXRoLmRpcm5hbWUoZmlsZSlcbiAgdHJ5IHtcbiAgICBpZiAoIWZzLnN0YXRTeW5jKGRpcikuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgLy8gcGFyZW50IGlzIG5vdCBhIGRpcmVjdG9yeVxuICAgICAgLy8gVGhpcyBpcyBqdXN0IHRvIGNhdXNlIGFuIGludGVybmFsIEVOT1RESVIgZXJyb3IgdG8gYmUgdGhyb3duXG4gICAgICBmcy5yZWFkZGlyU3luYyhkaXIpXG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBJZiB0aGUgc3RhdCBjYWxsIGFib3ZlIGZhaWxlZCBiZWNhdXNlIHRoZSBkaXJlY3RvcnkgZG9lc24ndCBleGlzdCwgY3JlYXRlIGl0XG4gICAgaWYgKGVyciAmJiBlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIG1rZGlyLm1rZGlyc1N5bmMoZGlyKVxuICAgIGVsc2UgdGhyb3cgZXJyXG4gIH1cblxuICBmcy53cml0ZUZpbGVTeW5jKGZpbGUsICcnKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlRmlsZTogdShjcmVhdGVGaWxlKSxcbiAgY3JlYXRlRmlsZVN5bmNcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB1ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JykuZnJvbUNhbGxiYWNrXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2dyYWNlZnVsLWZzJylcbmNvbnN0IG1rZGlyID0gcmVxdWlyZSgnLi4vbWtkaXJzJylcbmNvbnN0IHBhdGhFeGlzdHMgPSByZXF1aXJlKCcuLi9wYXRoLWV4aXN0cycpLnBhdGhFeGlzdHNcbmNvbnN0IHsgYXJlSWRlbnRpY2FsIH0gPSByZXF1aXJlKCcuLi91dGlsL3N0YXQnKVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rIChzcmNwYXRoLCBkc3RwYXRoLCBjYWxsYmFjaykge1xuICBmdW5jdGlvbiBtYWtlTGluayAoc3JjcGF0aCwgZHN0cGF0aCkge1xuICAgIGZzLmxpbmsoc3JjcGF0aCwgZHN0cGF0aCwgZXJyID0+IHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpXG4gICAgICBjYWxsYmFjayhudWxsKVxuICAgIH0pXG4gIH1cblxuICBmcy5sc3RhdChkc3RwYXRoLCAoXywgZHN0U3RhdCkgPT4ge1xuICAgIGZzLmxzdGF0KHNyY3BhdGgsIChlcnIsIHNyY1N0YXQpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZS5yZXBsYWNlKCdsc3RhdCcsICdlbnN1cmVMaW5rJylcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICAgIH1cbiAgICAgIGlmIChkc3RTdGF0ICYmIGFyZUlkZW50aWNhbChzcmNTdGF0LCBkc3RTdGF0KSkgcmV0dXJuIGNhbGxiYWNrKG51bGwpXG5cbiAgICAgIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShkc3RwYXRoKVxuICAgICAgcGF0aEV4aXN0cyhkaXIsIChlcnIsIGRpckV4aXN0cykgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuICAgICAgICBpZiAoZGlyRXhpc3RzKSByZXR1cm4gbWFrZUxpbmsoc3JjcGF0aCwgZHN0cGF0aClcbiAgICAgICAgbWtkaXIubWtkaXJzKGRpciwgZXJyID0+IHtcbiAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuICAgICAgICAgIG1ha2VMaW5rKHNyY3BhdGgsIGRzdHBhdGgpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtTeW5jIChzcmNwYXRoLCBkc3RwYXRoKSB7XG4gIGxldCBkc3RTdGF0XG4gIHRyeSB7XG4gICAgZHN0U3RhdCA9IGZzLmxzdGF0U3luYyhkc3RwYXRoKVxuICB9IGNhdGNoIHt9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBzcmNTdGF0ID0gZnMubHN0YXRTeW5jKHNyY3BhdGgpXG4gICAgaWYgKGRzdFN0YXQgJiYgYXJlSWRlbnRpY2FsKHNyY1N0YXQsIGRzdFN0YXQpKSByZXR1cm5cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZS5yZXBsYWNlKCdsc3RhdCcsICdlbnN1cmVMaW5rJylcbiAgICB0aHJvdyBlcnJcbiAgfVxuXG4gIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShkc3RwYXRoKVxuICBjb25zdCBkaXJFeGlzdHMgPSBmcy5leGlzdHNTeW5jKGRpcilcbiAgaWYgKGRpckV4aXN0cykgcmV0dXJuIGZzLmxpbmtTeW5jKHNyY3BhdGgsIGRzdHBhdGgpXG4gIG1rZGlyLm1rZGlyc1N5bmMoZGlyKVxuXG4gIHJldHVybiBmcy5saW5rU3luYyhzcmNwYXRoLCBkc3RwYXRoKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlTGluazogdShjcmVhdGVMaW5rKSxcbiAgY3JlYXRlTGlua1N5bmNcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2dyYWNlZnVsLWZzJylcbmNvbnN0IHBhdGhFeGlzdHMgPSByZXF1aXJlKCcuLi9wYXRoLWV4aXN0cycpLnBhdGhFeGlzdHNcblxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IHJldHVybnMgdHdvIHR5cGVzIG9mIHBhdGhzLCBvbmUgcmVsYXRpdmUgdG8gc3ltbGluaywgYW5kIG9uZVxuICogcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3RvcnkuIENoZWNrcyBpZiBwYXRoIGlzIGFic29sdXRlIG9yXG4gKiByZWxhdGl2ZS4gSWYgdGhlIHBhdGggaXMgcmVsYXRpdmUsIHRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZSBwYXRoIGlzXG4gKiByZWxhdGl2ZSB0byBzeW1saW5rIG9yIHJlbGF0aXZlIHRvIGN1cnJlbnQgd29ya2luZyBkaXJlY3RvcnkuIFRoaXMgaXMgYW5cbiAqIGluaXRpYXRpdmUgdG8gZmluZCBhIHNtYXJ0ZXIgYHNyY3BhdGhgIHRvIHN1cHBseSB3aGVuIGJ1aWxkaW5nIHN5bWxpbmtzLlxuICogVGhpcyBhbGxvd3MgeW91IHRvIGRldGVybWluZSB3aGljaCBwYXRoIHRvIHVzZSBvdXQgb2Ygb25lIG9mIHRocmVlIHBvc3NpYmxlXG4gKiB0eXBlcyBvZiBzb3VyY2UgcGF0aHMuIFRoZSBmaXJzdCBpcyBhbiBhYnNvbHV0ZSBwYXRoLiBUaGlzIGlzIGRldGVjdGVkIGJ5XG4gKiBgcGF0aC5pc0Fic29sdXRlKClgLiBXaGVuIGFuIGFic29sdXRlIHBhdGggaXMgcHJvdmlkZWQsIGl0IGlzIGNoZWNrZWQgdG9cbiAqIHNlZSBpZiBpdCBleGlzdHMuIElmIGl0IGRvZXMgaXQncyB1c2VkLCBpZiBub3QgYW4gZXJyb3IgaXMgcmV0dXJuZWRcbiAqIChjYWxsYmFjaykvIHRocm93biAoc3luYykuIFRoZSBvdGhlciB0d28gb3B0aW9ucyBmb3IgYHNyY3BhdGhgIGFyZSBhXG4gKiByZWxhdGl2ZSB1cmwuIEJ5IGRlZmF1bHQgTm9kZSdzIGBmcy5zeW1saW5rYCB3b3JrcyBieSBjcmVhdGluZyBhIHN5bWxpbmtcbiAqIHVzaW5nIGBkc3RwYXRoYCBhbmQgZXhwZWN0cyB0aGUgYHNyY3BhdGhgIHRvIGJlIHJlbGF0aXZlIHRvIHRoZSBuZXdseVxuICogY3JlYXRlZCBzeW1saW5rLiBJZiB5b3UgcHJvdmlkZSBhIGBzcmNwYXRoYCB0aGF0IGRvZXMgbm90IGV4aXN0IG9uIHRoZSBmaWxlXG4gKiBzeXN0ZW0gaXQgcmVzdWx0cyBpbiBhIGJyb2tlbiBzeW1saW5rLiBUbyBtaW5pbWl6ZSB0aGlzLCB0aGUgZnVuY3Rpb25cbiAqIGNoZWNrcyB0byBzZWUgaWYgdGhlICdyZWxhdGl2ZSB0byBzeW1saW5rJyBzb3VyY2UgZmlsZSBleGlzdHMsIGFuZCBpZiBpdFxuICogZG9lcyBpdCB3aWxsIHVzZSBpdC4gSWYgaXQgZG9lcyBub3QsIGl0IGNoZWNrcyBpZiB0aGVyZSdzIGEgZmlsZSB0aGF0XG4gKiBleGlzdHMgdGhhdCBpcyByZWxhdGl2ZSB0byB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSwgaWYgZG9lcyBpdHMgdXNlZC5cbiAqIFRoaXMgcHJlc2VydmVzIHRoZSBleHBlY3RhdGlvbnMgb2YgdGhlIG9yaWdpbmFsIGZzLnN5bWxpbmsgc3BlYyBhbmQgYWRkc1xuICogdGhlIGFiaWxpdHkgdG8gcGFzcyBpbiBgcmVsYXRpdmUgdG8gY3VycmVudCB3b3JraW5nIGRpcmVjb3RyeWAgcGF0aHMuXG4gKi9cblxuZnVuY3Rpb24gc3ltbGlua1BhdGhzIChzcmNwYXRoLCBkc3RwYXRoLCBjYWxsYmFjaykge1xuICBpZiAocGF0aC5pc0Fic29sdXRlKHNyY3BhdGgpKSB7XG4gICAgcmV0dXJuIGZzLmxzdGF0KHNyY3BhdGgsIChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZS5yZXBsYWNlKCdsc3RhdCcsICdlbnN1cmVTeW1saW5rJylcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgIHRvQ3dkOiBzcmNwYXRoLFxuICAgICAgICB0b0RzdDogc3JjcGF0aFxuICAgICAgfSlcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRzdGRpciA9IHBhdGguZGlybmFtZShkc3RwYXRoKVxuICAgIGNvbnN0IHJlbGF0aXZlVG9Ec3QgPSBwYXRoLmpvaW4oZHN0ZGlyLCBzcmNwYXRoKVxuICAgIHJldHVybiBwYXRoRXhpc3RzKHJlbGF0aXZlVG9Ec3QsIChlcnIsIGV4aXN0cykgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgICB0b0N3ZDogcmVsYXRpdmVUb0RzdCxcbiAgICAgICAgICB0b0RzdDogc3JjcGF0aFxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZzLmxzdGF0KHNyY3BhdGgsIChlcnIpID0+IHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBlcnIubWVzc2FnZSA9IGVyci5tZXNzYWdlLnJlcGxhY2UoJ2xzdGF0JywgJ2Vuc3VyZVN5bWxpbmsnKVxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgICAgIHRvQ3dkOiBzcmNwYXRoLFxuICAgICAgICAgICAgdG9Ec3Q6IHBhdGgucmVsYXRpdmUoZHN0ZGlyLCBzcmNwYXRoKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBzeW1saW5rUGF0aHNTeW5jIChzcmNwYXRoLCBkc3RwYXRoKSB7XG4gIGxldCBleGlzdHNcbiAgaWYgKHBhdGguaXNBYnNvbHV0ZShzcmNwYXRoKSkge1xuICAgIGV4aXN0cyA9IGZzLmV4aXN0c1N5bmMoc3JjcGF0aClcbiAgICBpZiAoIWV4aXN0cykgdGhyb3cgbmV3IEVycm9yKCdhYnNvbHV0ZSBzcmNwYXRoIGRvZXMgbm90IGV4aXN0JylcbiAgICByZXR1cm4ge1xuICAgICAgdG9Dd2Q6IHNyY3BhdGgsXG4gICAgICB0b0RzdDogc3JjcGF0aFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBkc3RkaXIgPSBwYXRoLmRpcm5hbWUoZHN0cGF0aClcbiAgICBjb25zdCByZWxhdGl2ZVRvRHN0ID0gcGF0aC5qb2luKGRzdGRpciwgc3JjcGF0aClcbiAgICBleGlzdHMgPSBmcy5leGlzdHNTeW5jKHJlbGF0aXZlVG9Ec3QpXG4gICAgaWYgKGV4aXN0cykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9Dd2Q6IHJlbGF0aXZlVG9Ec3QsXG4gICAgICAgIHRvRHN0OiBzcmNwYXRoXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0cyA9IGZzLmV4aXN0c1N5bmMoc3JjcGF0aClcbiAgICAgIGlmICghZXhpc3RzKSB0aHJvdyBuZXcgRXJyb3IoJ3JlbGF0aXZlIHNyY3BhdGggZG9lcyBub3QgZXhpc3QnKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9Dd2Q6IHNyY3BhdGgsXG4gICAgICAgIHRvRHN0OiBwYXRoLnJlbGF0aXZlKGRzdGRpciwgc3JjcGF0aClcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN5bWxpbmtQYXRocyxcbiAgc3ltbGlua1BhdGhzU3luY1xufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGZzID0gcmVxdWlyZSgnZ3JhY2VmdWwtZnMnKVxuXG5mdW5jdGlvbiBzeW1saW5rVHlwZSAoc3JjcGF0aCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2sgPSAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpID8gdHlwZSA6IGNhbGxiYWNrXG4gIHR5cGUgPSAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpID8gZmFsc2UgOiB0eXBlXG4gIGlmICh0eXBlKSByZXR1cm4gY2FsbGJhY2sobnVsbCwgdHlwZSlcbiAgZnMubHN0YXQoc3JjcGF0aCwgKGVyciwgc3RhdHMpID0+IHtcbiAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2sobnVsbCwgJ2ZpbGUnKVxuICAgIHR5cGUgPSAoc3RhdHMgJiYgc3RhdHMuaXNEaXJlY3RvcnkoKSkgPyAnZGlyJyA6ICdmaWxlJ1xuICAgIGNhbGxiYWNrKG51bGwsIHR5cGUpXG4gIH0pXG59XG5cbmZ1bmN0aW9uIHN5bWxpbmtUeXBlU3luYyAoc3JjcGF0aCwgdHlwZSkge1xuICBsZXQgc3RhdHNcblxuICBpZiAodHlwZSkgcmV0dXJuIHR5cGVcbiAgdHJ5IHtcbiAgICBzdGF0cyA9IGZzLmxzdGF0U3luYyhzcmNwYXRoKVxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gJ2ZpbGUnXG4gIH1cbiAgcmV0dXJuIChzdGF0cyAmJiBzdGF0cy5pc0RpcmVjdG9yeSgpKSA/ICdkaXInIDogJ2ZpbGUnXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzeW1saW5rVHlwZSxcbiAgc3ltbGlua1R5cGVTeW5jXG59XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgdSA9IHJlcXVpcmUoJ3VuaXZlcnNhbGlmeScpLmZyb21DYWxsYmFja1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3QgZnMgPSByZXF1aXJlKCcuLi9mcycpXG5jb25zdCBfbWtkaXJzID0gcmVxdWlyZSgnLi4vbWtkaXJzJylcbmNvbnN0IG1rZGlycyA9IF9ta2RpcnMubWtkaXJzXG5jb25zdCBta2RpcnNTeW5jID0gX21rZGlycy5ta2RpcnNTeW5jXG5cbmNvbnN0IF9zeW1saW5rUGF0aHMgPSByZXF1aXJlKCcuL3N5bWxpbmstcGF0aHMnKVxuY29uc3Qgc3ltbGlua1BhdGhzID0gX3N5bWxpbmtQYXRocy5zeW1saW5rUGF0aHNcbmNvbnN0IHN5bWxpbmtQYXRoc1N5bmMgPSBfc3ltbGlua1BhdGhzLnN5bWxpbmtQYXRoc1N5bmNcblxuY29uc3QgX3N5bWxpbmtUeXBlID0gcmVxdWlyZSgnLi9zeW1saW5rLXR5cGUnKVxuY29uc3Qgc3ltbGlua1R5cGUgPSBfc3ltbGlua1R5cGUuc3ltbGlua1R5cGVcbmNvbnN0IHN5bWxpbmtUeXBlU3luYyA9IF9zeW1saW5rVHlwZS5zeW1saW5rVHlwZVN5bmNcblxuY29uc3QgcGF0aEV4aXN0cyA9IHJlcXVpcmUoJy4uL3BhdGgtZXhpc3RzJykucGF0aEV4aXN0c1xuXG5jb25zdCB7IGFyZUlkZW50aWNhbCB9ID0gcmVxdWlyZSgnLi4vdXRpbC9zdGF0JylcblxuZnVuY3Rpb24gY3JlYXRlU3ltbGluayAoc3JjcGF0aCwgZHN0cGF0aCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2sgPSAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpID8gdHlwZSA6IGNhbGxiYWNrXG4gIHR5cGUgPSAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpID8gZmFsc2UgOiB0eXBlXG5cbiAgZnMubHN0YXQoZHN0cGF0aCwgKGVyciwgc3RhdHMpID0+IHtcbiAgICBpZiAoIWVyciAmJiBzdGF0cy5pc1N5bWJvbGljTGluaygpKSB7XG4gICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgIGZzLnN0YXQoc3JjcGF0aCksXG4gICAgICAgIGZzLnN0YXQoZHN0cGF0aClcbiAgICAgIF0pLnRoZW4oKFtzcmNTdGF0LCBkc3RTdGF0XSkgPT4ge1xuICAgICAgICBpZiAoYXJlSWRlbnRpY2FsKHNyY1N0YXQsIGRzdFN0YXQpKSByZXR1cm4gY2FsbGJhY2sobnVsbClcbiAgICAgICAgX2NyZWF0ZVN5bWxpbmsoc3JjcGF0aCwgZHN0cGF0aCwgdHlwZSwgY2FsbGJhY2spXG4gICAgICB9KVxuICAgIH0gZWxzZSBfY3JlYXRlU3ltbGluayhzcmNwYXRoLCBkc3RwYXRoLCB0eXBlLCBjYWxsYmFjaylcbiAgfSlcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZVN5bWxpbmsgKHNyY3BhdGgsIGRzdHBhdGgsIHR5cGUsIGNhbGxiYWNrKSB7XG4gIHN5bWxpbmtQYXRocyhzcmNwYXRoLCBkc3RwYXRoLCAoZXJyLCByZWxhdGl2ZSkgPT4ge1xuICAgIGlmIChlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpXG4gICAgc3JjcGF0aCA9IHJlbGF0aXZlLnRvRHN0XG4gICAgc3ltbGlua1R5cGUocmVsYXRpdmUudG9Dd2QsIHR5cGUsIChlcnIsIHR5cGUpID0+IHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpXG4gICAgICBjb25zdCBkaXIgPSBwYXRoLmRpcm5hbWUoZHN0cGF0aClcbiAgICAgIHBhdGhFeGlzdHMoZGlyLCAoZXJyLCBkaXJFeGlzdHMpID0+IHtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICAgICAgaWYgKGRpckV4aXN0cykgcmV0dXJuIGZzLnN5bWxpbmsoc3JjcGF0aCwgZHN0cGF0aCwgdHlwZSwgY2FsbGJhY2spXG4gICAgICAgIG1rZGlycyhkaXIsIGVyciA9PiB7XG4gICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICAgICAgICBmcy5zeW1saW5rKHNyY3BhdGgsIGRzdHBhdGgsIHR5cGUsIGNhbGxiYWNrKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTeW1saW5rU3luYyAoc3JjcGF0aCwgZHN0cGF0aCwgdHlwZSkge1xuICBsZXQgc3RhdHNcbiAgdHJ5IHtcbiAgICBzdGF0cyA9IGZzLmxzdGF0U3luYyhkc3RwYXRoKVxuICB9IGNhdGNoIHt9XG4gIGlmIChzdGF0cyAmJiBzdGF0cy5pc1N5bWJvbGljTGluaygpKSB7XG4gICAgY29uc3Qgc3JjU3RhdCA9IGZzLnN0YXRTeW5jKHNyY3BhdGgpXG4gICAgY29uc3QgZHN0U3RhdCA9IGZzLnN0YXRTeW5jKGRzdHBhdGgpXG4gICAgaWYgKGFyZUlkZW50aWNhbChzcmNTdGF0LCBkc3RTdGF0KSkgcmV0dXJuXG4gIH1cblxuICBjb25zdCByZWxhdGl2ZSA9IHN5bWxpbmtQYXRoc1N5bmMoc3JjcGF0aCwgZHN0cGF0aClcbiAgc3JjcGF0aCA9IHJlbGF0aXZlLnRvRHN0XG4gIHR5cGUgPSBzeW1saW5rVHlwZVN5bmMocmVsYXRpdmUudG9Dd2QsIHR5cGUpXG4gIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShkc3RwYXRoKVxuICBjb25zdCBleGlzdHMgPSBmcy5leGlzdHNTeW5jKGRpcilcbiAgaWYgKGV4aXN0cykgcmV0dXJuIGZzLnN5bWxpbmtTeW5jKHNyY3BhdGgsIGRzdHBhdGgsIHR5cGUpXG4gIG1rZGlyc1N5bmMoZGlyKVxuICByZXR1cm4gZnMuc3ltbGlua1N5bmMoc3JjcGF0aCwgZHN0cGF0aCwgdHlwZSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZVN5bWxpbms6IHUoY3JlYXRlU3ltbGluayksXG4gIGNyZWF0ZVN5bWxpbmtTeW5jXG59XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgZmlsZSA9IHJlcXVpcmUoJy4vZmlsZScpXG5jb25zdCBsaW5rID0gcmVxdWlyZSgnLi9saW5rJylcbmNvbnN0IHN5bWxpbmsgPSByZXF1aXJlKCcuL3N5bWxpbmsnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gZmlsZVxuICBjcmVhdGVGaWxlOiBmaWxlLmNyZWF0ZUZpbGUsXG4gIGNyZWF0ZUZpbGVTeW5jOiBmaWxlLmNyZWF0ZUZpbGVTeW5jLFxuICBlbnN1cmVGaWxlOiBmaWxlLmNyZWF0ZUZpbGUsXG4gIGVuc3VyZUZpbGVTeW5jOiBmaWxlLmNyZWF0ZUZpbGVTeW5jLFxuICAvLyBsaW5rXG4gIGNyZWF0ZUxpbms6IGxpbmsuY3JlYXRlTGluayxcbiAgY3JlYXRlTGlua1N5bmM6IGxpbmsuY3JlYXRlTGlua1N5bmMsXG4gIGVuc3VyZUxpbms6IGxpbmsuY3JlYXRlTGluayxcbiAgZW5zdXJlTGlua1N5bmM6IGxpbmsuY3JlYXRlTGlua1N5bmMsXG4gIC8vIHN5bWxpbmtcbiAgY3JlYXRlU3ltbGluazogc3ltbGluay5jcmVhdGVTeW1saW5rLFxuICBjcmVhdGVTeW1saW5rU3luYzogc3ltbGluay5jcmVhdGVTeW1saW5rU3luYyxcbiAgZW5zdXJlU3ltbGluazogc3ltbGluay5jcmVhdGVTeW1saW5rLFxuICBlbnN1cmVTeW1saW5rU3luYzogc3ltbGluay5jcmVhdGVTeW1saW5rU3luY1xufVxuIiwiZnVuY3Rpb24gc3RyaW5naWZ5IChvYmosIHsgRU9MID0gJ1xcbicsIGZpbmFsRU9MID0gdHJ1ZSwgcmVwbGFjZXIgPSBudWxsLCBzcGFjZXMgfSA9IHt9KSB7XG4gIGNvbnN0IEVPRiA9IGZpbmFsRU9MID8gRU9MIDogJydcbiAgY29uc3Qgc3RyID0gSlNPTi5zdHJpbmdpZnkob2JqLCByZXBsYWNlciwgc3BhY2VzKVxuXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXFxuL2csIEVPTCkgKyBFT0Zcbn1cblxuZnVuY3Rpb24gc3RyaXBCb20gKGNvbnRlbnQpIHtcbiAgLy8gd2UgZG8gdGhpcyBiZWNhdXNlIEpTT04ucGFyc2Ugd291bGQgY29udmVydCBpdCB0byBhIHV0Zjggc3RyaW5nIGlmIGVuY29kaW5nIHdhc24ndCBzcGVjaWZpZWRcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihjb250ZW50KSkgY29udGVudCA9IGNvbnRlbnQudG9TdHJpbmcoJ3V0ZjgnKVxuICByZXR1cm4gY29udGVudC5yZXBsYWNlKC9eXFx1RkVGRi8sICcnKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgc3RyaW5naWZ5LCBzdHJpcEJvbSB9XG4iLCJsZXQgX2ZzXG50cnkge1xuICBfZnMgPSByZXF1aXJlKCdncmFjZWZ1bC1mcycpXG59IGNhdGNoIChfKSB7XG4gIF9mcyA9IHJlcXVpcmUoJ2ZzJylcbn1cbmNvbnN0IHVuaXZlcnNhbGlmeSA9IHJlcXVpcmUoJ3VuaXZlcnNhbGlmeScpXG5jb25zdCB7IHN0cmluZ2lmeSwgc3RyaXBCb20gfSA9IHJlcXVpcmUoJy4vdXRpbHMnKVxuXG5hc3luYyBmdW5jdGlvbiBfcmVhZEZpbGUgKGZpbGUsIG9wdGlvbnMgPSB7fSkge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucyA9IHsgZW5jb2Rpbmc6IG9wdGlvbnMgfVxuICB9XG5cbiAgY29uc3QgZnMgPSBvcHRpb25zLmZzIHx8IF9mc1xuXG4gIGNvbnN0IHNob3VsZFRocm93ID0gJ3Rocm93cycgaW4gb3B0aW9ucyA/IG9wdGlvbnMudGhyb3dzIDogdHJ1ZVxuXG4gIGxldCBkYXRhID0gYXdhaXQgdW5pdmVyc2FsaWZ5LmZyb21DYWxsYmFjayhmcy5yZWFkRmlsZSkoZmlsZSwgb3B0aW9ucylcblxuICBkYXRhID0gc3RyaXBCb20oZGF0YSlcblxuICBsZXQgb2JqXG4gIHRyeSB7XG4gICAgb2JqID0gSlNPTi5wYXJzZShkYXRhLCBvcHRpb25zID8gb3B0aW9ucy5yZXZpdmVyIDogbnVsbClcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKHNob3VsZFRocm93KSB7XG4gICAgICBlcnIubWVzc2FnZSA9IGAke2ZpbGV9OiAke2Vyci5tZXNzYWdlfWBcbiAgICAgIHRocm93IGVyclxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmpcbn1cblxuY29uc3QgcmVhZEZpbGUgPSB1bml2ZXJzYWxpZnkuZnJvbVByb21pc2UoX3JlYWRGaWxlKVxuXG5mdW5jdGlvbiByZWFkRmlsZVN5bmMgKGZpbGUsIG9wdGlvbnMgPSB7fSkge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucyA9IHsgZW5jb2Rpbmc6IG9wdGlvbnMgfVxuICB9XG5cbiAgY29uc3QgZnMgPSBvcHRpb25zLmZzIHx8IF9mc1xuXG4gIGNvbnN0IHNob3VsZFRocm93ID0gJ3Rocm93cycgaW4gb3B0aW9ucyA/IG9wdGlvbnMudGhyb3dzIDogdHJ1ZVxuXG4gIHRyeSB7XG4gICAgbGV0IGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZSwgb3B0aW9ucylcbiAgICBjb250ZW50ID0gc3RyaXBCb20oY29udGVudClcbiAgICByZXR1cm4gSlNPTi5wYXJzZShjb250ZW50LCBvcHRpb25zLnJldml2ZXIpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChzaG91bGRUaHJvdykge1xuICAgICAgZXJyLm1lc3NhZ2UgPSBgJHtmaWxlfTogJHtlcnIubWVzc2FnZX1gXG4gICAgICB0aHJvdyBlcnJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX3dyaXRlRmlsZSAoZmlsZSwgb2JqLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgZnMgPSBvcHRpb25zLmZzIHx8IF9mc1xuXG4gIGNvbnN0IHN0ciA9IHN0cmluZ2lmeShvYmosIG9wdGlvbnMpXG5cbiAgYXdhaXQgdW5pdmVyc2FsaWZ5LmZyb21DYWxsYmFjayhmcy53cml0ZUZpbGUpKGZpbGUsIHN0ciwgb3B0aW9ucylcbn1cblxuY29uc3Qgd3JpdGVGaWxlID0gdW5pdmVyc2FsaWZ5LmZyb21Qcm9taXNlKF93cml0ZUZpbGUpXG5cbmZ1bmN0aW9uIHdyaXRlRmlsZVN5bmMgKGZpbGUsIG9iaiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGZzID0gb3B0aW9ucy5mcyB8fCBfZnNcblxuICBjb25zdCBzdHIgPSBzdHJpbmdpZnkob2JqLCBvcHRpb25zKVxuICAvLyBub3Qgc3VyZSBpZiBmcy53cml0ZUZpbGVTeW5jIHJldHVybnMgYW55dGhpbmcsIGJ1dCBqdXN0IGluIGNhc2VcbiAgcmV0dXJuIGZzLndyaXRlRmlsZVN5bmMoZmlsZSwgc3RyLCBvcHRpb25zKVxufVxuXG5jb25zdCBqc29uZmlsZSA9IHtcbiAgcmVhZEZpbGUsXG4gIHJlYWRGaWxlU3luYyxcbiAgd3JpdGVGaWxlLFxuICB3cml0ZUZpbGVTeW5jXG59XG5cbm1vZHVsZS5leHBvcnRzID0ganNvbmZpbGVcbiIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBqc29uRmlsZSA9IHJlcXVpcmUoJ2pzb25maWxlJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGpzb25maWxlIGV4cG9ydHNcbiAgcmVhZEpzb246IGpzb25GaWxlLnJlYWRGaWxlLFxuICByZWFkSnNvblN5bmM6IGpzb25GaWxlLnJlYWRGaWxlU3luYyxcbiAgd3JpdGVKc29uOiBqc29uRmlsZS53cml0ZUZpbGUsXG4gIHdyaXRlSnNvblN5bmM6IGpzb25GaWxlLndyaXRlRmlsZVN5bmNcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB1ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JykuZnJvbUNhbGxiYWNrXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2dyYWNlZnVsLWZzJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IG1rZGlyID0gcmVxdWlyZSgnLi4vbWtkaXJzJylcbmNvbnN0IHBhdGhFeGlzdHMgPSByZXF1aXJlKCcuLi9wYXRoLWV4aXN0cycpLnBhdGhFeGlzdHNcblxuZnVuY3Rpb24gb3V0cHV0RmlsZSAoZmlsZSwgZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IGVuY29kaW5nXG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShmaWxlKVxuICBwYXRoRXhpc3RzKGRpciwgKGVyciwgaXREb2VzKSA9PiB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICBpZiAoaXREb2VzKSByZXR1cm4gZnMud3JpdGVGaWxlKGZpbGUsIGRhdGEsIGVuY29kaW5nLCBjYWxsYmFjaylcblxuICAgIG1rZGlyLm1rZGlycyhkaXIsIGVyciA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuXG4gICAgICBmcy53cml0ZUZpbGUoZmlsZSwgZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKVxuICAgIH0pXG4gIH0pXG59XG5cbmZ1bmN0aW9uIG91dHB1dEZpbGVTeW5jIChmaWxlLCAuLi5hcmdzKSB7XG4gIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShmaWxlKVxuICBpZiAoZnMuZXhpc3RzU3luYyhkaXIpKSB7XG4gICAgcmV0dXJuIGZzLndyaXRlRmlsZVN5bmMoZmlsZSwgLi4uYXJncylcbiAgfVxuICBta2Rpci5ta2RpcnNTeW5jKGRpcilcbiAgZnMud3JpdGVGaWxlU3luYyhmaWxlLCAuLi5hcmdzKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgb3V0cHV0RmlsZTogdShvdXRwdXRGaWxlKSxcbiAgb3V0cHV0RmlsZVN5bmNcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IHN0cmluZ2lmeSB9ID0gcmVxdWlyZSgnanNvbmZpbGUvdXRpbHMnKVxuY29uc3QgeyBvdXRwdXRGaWxlIH0gPSByZXF1aXJlKCcuLi9vdXRwdXQnKVxuXG5hc3luYyBmdW5jdGlvbiBvdXRwdXRKc29uIChmaWxlLCBkYXRhLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qgc3RyID0gc3RyaW5naWZ5KGRhdGEsIG9wdGlvbnMpXG5cbiAgYXdhaXQgb3V0cHV0RmlsZShmaWxlLCBzdHIsIG9wdGlvbnMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3V0cHV0SnNvblxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHsgc3RyaW5naWZ5IH0gPSByZXF1aXJlKCdqc29uZmlsZS91dGlscycpXG5jb25zdCB7IG91dHB1dEZpbGVTeW5jIH0gPSByZXF1aXJlKCcuLi9vdXRwdXQnKVxuXG5mdW5jdGlvbiBvdXRwdXRKc29uU3luYyAoZmlsZSwgZGF0YSwgb3B0aW9ucykge1xuICBjb25zdCBzdHIgPSBzdHJpbmdpZnkoZGF0YSwgb3B0aW9ucylcblxuICBvdXRwdXRGaWxlU3luYyhmaWxlLCBzdHIsIG9wdGlvbnMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3V0cHV0SnNvblN5bmNcbiIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB1ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JykuZnJvbVByb21pc2VcbmNvbnN0IGpzb25GaWxlID0gcmVxdWlyZSgnLi9qc29uZmlsZScpXG5cbmpzb25GaWxlLm91dHB1dEpzb24gPSB1KHJlcXVpcmUoJy4vb3V0cHV0LWpzb24nKSlcbmpzb25GaWxlLm91dHB1dEpzb25TeW5jID0gcmVxdWlyZSgnLi9vdXRwdXQtanNvbi1zeW5jJylcbi8vIGFsaWFzZXNcbmpzb25GaWxlLm91dHB1dEpTT04gPSBqc29uRmlsZS5vdXRwdXRKc29uXG5qc29uRmlsZS5vdXRwdXRKU09OU3luYyA9IGpzb25GaWxlLm91dHB1dEpzb25TeW5jXG5qc29uRmlsZS53cml0ZUpTT04gPSBqc29uRmlsZS53cml0ZUpzb25cbmpzb25GaWxlLndyaXRlSlNPTlN5bmMgPSBqc29uRmlsZS53cml0ZUpzb25TeW5jXG5qc29uRmlsZS5yZWFkSlNPTiA9IGpzb25GaWxlLnJlYWRKc29uXG5qc29uRmlsZS5yZWFkSlNPTlN5bmMgPSBqc29uRmlsZS5yZWFkSnNvblN5bmNcblxubW9kdWxlLmV4cG9ydHMgPSBqc29uRmlsZVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGZzID0gcmVxdWlyZSgnZ3JhY2VmdWwtZnMnKVxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3QgY29weVN5bmMgPSByZXF1aXJlKCcuLi9jb3B5LXN5bmMnKS5jb3B5U3luY1xuY29uc3QgcmVtb3ZlU3luYyA9IHJlcXVpcmUoJy4uL3JlbW92ZScpLnJlbW92ZVN5bmNcbmNvbnN0IG1rZGlycFN5bmMgPSByZXF1aXJlKCcuLi9ta2RpcnMnKS5ta2RpcnBTeW5jXG5jb25zdCBzdGF0ID0gcmVxdWlyZSgnLi4vdXRpbC9zdGF0JylcblxuZnVuY3Rpb24gbW92ZVN5bmMgKHNyYywgZGVzdCwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuICBjb25zdCBvdmVyd3JpdGUgPSBvcHRzLm92ZXJ3cml0ZSB8fCBvcHRzLmNsb2JiZXIgfHwgZmFsc2VcblxuICBjb25zdCB7IHNyY1N0YXQsIGlzQ2hhbmdpbmdDYXNlID0gZmFsc2UgfSA9IHN0YXQuY2hlY2tQYXRoc1N5bmMoc3JjLCBkZXN0LCAnbW92ZScsIG9wdHMpXG4gIHN0YXQuY2hlY2tQYXJlbnRQYXRoc1N5bmMoc3JjLCBzcmNTdGF0LCBkZXN0LCAnbW92ZScpXG4gIGlmICghaXNQYXJlbnRSb290KGRlc3QpKSBta2RpcnBTeW5jKHBhdGguZGlybmFtZShkZXN0KSlcbiAgcmV0dXJuIGRvUmVuYW1lKHNyYywgZGVzdCwgb3ZlcndyaXRlLCBpc0NoYW5naW5nQ2FzZSlcbn1cblxuZnVuY3Rpb24gaXNQYXJlbnRSb290IChkZXN0KSB7XG4gIGNvbnN0IHBhcmVudCA9IHBhdGguZGlybmFtZShkZXN0KVxuICBjb25zdCBwYXJzZWRQYXRoID0gcGF0aC5wYXJzZShwYXJlbnQpXG4gIHJldHVybiBwYXJzZWRQYXRoLnJvb3QgPT09IHBhcmVudFxufVxuXG5mdW5jdGlvbiBkb1JlbmFtZSAoc3JjLCBkZXN0LCBvdmVyd3JpdGUsIGlzQ2hhbmdpbmdDYXNlKSB7XG4gIGlmIChpc0NoYW5naW5nQ2FzZSkgcmV0dXJuIHJlbmFtZShzcmMsIGRlc3QsIG92ZXJ3cml0ZSlcbiAgaWYgKG92ZXJ3cml0ZSkge1xuICAgIHJlbW92ZVN5bmMoZGVzdClcbiAgICByZXR1cm4gcmVuYW1lKHNyYywgZGVzdCwgb3ZlcndyaXRlKVxuICB9XG4gIGlmIChmcy5leGlzdHNTeW5jKGRlc3QpKSB0aHJvdyBuZXcgRXJyb3IoJ2Rlc3QgYWxyZWFkeSBleGlzdHMuJylcbiAgcmV0dXJuIHJlbmFtZShzcmMsIGRlc3QsIG92ZXJ3cml0ZSlcbn1cblxuZnVuY3Rpb24gcmVuYW1lIChzcmMsIGRlc3QsIG92ZXJ3cml0ZSkge1xuICB0cnkge1xuICAgIGZzLnJlbmFtZVN5bmMoc3JjLCBkZXN0KVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyLmNvZGUgIT09ICdFWERFVicpIHRocm93IGVyclxuICAgIHJldHVybiBtb3ZlQWNyb3NzRGV2aWNlKHNyYywgZGVzdCwgb3ZlcndyaXRlKVxuICB9XG59XG5cbmZ1bmN0aW9uIG1vdmVBY3Jvc3NEZXZpY2UgKHNyYywgZGVzdCwgb3ZlcndyaXRlKSB7XG4gIGNvbnN0IG9wdHMgPSB7XG4gICAgb3ZlcndyaXRlLFxuICAgIGVycm9yT25FeGlzdDogdHJ1ZVxuICB9XG4gIGNvcHlTeW5jKHNyYywgZGVzdCwgb3B0cylcbiAgcmV0dXJuIHJlbW92ZVN5bmMoc3JjKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1vdmVTeW5jXG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIG1vdmVTeW5jOiByZXF1aXJlKCcuL21vdmUtc3luYycpXG59XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgZnMgPSByZXF1aXJlKCdncmFjZWZ1bC1mcycpXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCBjb3B5ID0gcmVxdWlyZSgnLi4vY29weScpLmNvcHlcbmNvbnN0IHJlbW92ZSA9IHJlcXVpcmUoJy4uL3JlbW92ZScpLnJlbW92ZVxuY29uc3QgbWtkaXJwID0gcmVxdWlyZSgnLi4vbWtkaXJzJykubWtkaXJwXG5jb25zdCBwYXRoRXhpc3RzID0gcmVxdWlyZSgnLi4vcGF0aC1leGlzdHMnKS5wYXRoRXhpc3RzXG5jb25zdCBzdGF0ID0gcmVxdWlyZSgnLi4vdXRpbC9zdGF0JylcblxuZnVuY3Rpb24gbW92ZSAoc3JjLCBkZXN0LCBvcHRzLCBjYikge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG9wdHNcbiAgICBvcHRzID0ge31cbiAgfVxuXG4gIGNvbnN0IG92ZXJ3cml0ZSA9IG9wdHMub3ZlcndyaXRlIHx8IG9wdHMuY2xvYmJlciB8fCBmYWxzZVxuXG4gIHN0YXQuY2hlY2tQYXRocyhzcmMsIGRlc3QsICdtb3ZlJywgb3B0cywgKGVyciwgc3RhdHMpID0+IHtcbiAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgIGNvbnN0IHsgc3JjU3RhdCwgaXNDaGFuZ2luZ0Nhc2UgPSBmYWxzZSB9ID0gc3RhdHNcbiAgICBzdGF0LmNoZWNrUGFyZW50UGF0aHMoc3JjLCBzcmNTdGF0LCBkZXN0LCAnbW92ZScsIGVyciA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgICAgaWYgKGlzUGFyZW50Um9vdChkZXN0KSkgcmV0dXJuIGRvUmVuYW1lKHNyYywgZGVzdCwgb3ZlcndyaXRlLCBpc0NoYW5naW5nQ2FzZSwgY2IpXG4gICAgICBta2RpcnAocGF0aC5kaXJuYW1lKGRlc3QpLCBlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgICAgICByZXR1cm4gZG9SZW5hbWUoc3JjLCBkZXN0LCBvdmVyd3JpdGUsIGlzQ2hhbmdpbmdDYXNlLCBjYilcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn1cblxuZnVuY3Rpb24gaXNQYXJlbnRSb290IChkZXN0KSB7XG4gIGNvbnN0IHBhcmVudCA9IHBhdGguZGlybmFtZShkZXN0KVxuICBjb25zdCBwYXJzZWRQYXRoID0gcGF0aC5wYXJzZShwYXJlbnQpXG4gIHJldHVybiBwYXJzZWRQYXRoLnJvb3QgPT09IHBhcmVudFxufVxuXG5mdW5jdGlvbiBkb1JlbmFtZSAoc3JjLCBkZXN0LCBvdmVyd3JpdGUsIGlzQ2hhbmdpbmdDYXNlLCBjYikge1xuICBpZiAoaXNDaGFuZ2luZ0Nhc2UpIHJldHVybiByZW5hbWUoc3JjLCBkZXN0LCBvdmVyd3JpdGUsIGNiKVxuICBpZiAob3ZlcndyaXRlKSB7XG4gICAgcmV0dXJuIHJlbW92ZShkZXN0LCBlcnIgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycilcbiAgICAgIHJldHVybiByZW5hbWUoc3JjLCBkZXN0LCBvdmVyd3JpdGUsIGNiKVxuICAgIH0pXG4gIH1cbiAgcGF0aEV4aXN0cyhkZXN0LCAoZXJyLCBkZXN0RXhpc3RzKSA9PiB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNiKGVycilcbiAgICBpZiAoZGVzdEV4aXN0cykgcmV0dXJuIGNiKG5ldyBFcnJvcignZGVzdCBhbHJlYWR5IGV4aXN0cy4nKSlcbiAgICByZXR1cm4gcmVuYW1lKHNyYywgZGVzdCwgb3ZlcndyaXRlLCBjYilcbiAgfSlcbn1cblxuZnVuY3Rpb24gcmVuYW1lIChzcmMsIGRlc3QsIG92ZXJ3cml0ZSwgY2IpIHtcbiAgZnMucmVuYW1lKHNyYywgZGVzdCwgZXJyID0+IHtcbiAgICBpZiAoIWVycikgcmV0dXJuIGNiKClcbiAgICBpZiAoZXJyLmNvZGUgIT09ICdFWERFVicpIHJldHVybiBjYihlcnIpXG4gICAgcmV0dXJuIG1vdmVBY3Jvc3NEZXZpY2Uoc3JjLCBkZXN0LCBvdmVyd3JpdGUsIGNiKVxuICB9KVxufVxuXG5mdW5jdGlvbiBtb3ZlQWNyb3NzRGV2aWNlIChzcmMsIGRlc3QsIG92ZXJ3cml0ZSwgY2IpIHtcbiAgY29uc3Qgb3B0cyA9IHtcbiAgICBvdmVyd3JpdGUsXG4gICAgZXJyb3JPbkV4aXN0OiB0cnVlXG4gIH1cbiAgY29weShzcmMsIGRlc3QsIG9wdHMsIGVyciA9PiB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNiKGVycilcbiAgICByZXR1cm4gcmVtb3ZlKHNyYywgY2IpXG4gIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0gbW92ZVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tQ2FsbGJhY2tcbm1vZHVsZS5leHBvcnRzID0ge1xuICBtb3ZlOiB1KHJlcXVpcmUoJy4vbW92ZScpKVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBFeHBvcnQgcHJvbWlzZWlmaWVkIGdyYWNlZnVsLWZzOlxuICAuLi5yZXF1aXJlKCcuL2ZzJyksXG4gIC8vIEV4cG9ydCBleHRyYSBtZXRob2RzOlxuICAuLi5yZXF1aXJlKCcuL2NvcHktc3luYycpLFxuICAuLi5yZXF1aXJlKCcuL2NvcHknKSxcbiAgLi4ucmVxdWlyZSgnLi9lbXB0eScpLFxuICAuLi5yZXF1aXJlKCcuL2Vuc3VyZScpLFxuICAuLi5yZXF1aXJlKCcuL2pzb24nKSxcbiAgLi4ucmVxdWlyZSgnLi9ta2RpcnMnKSxcbiAgLi4ucmVxdWlyZSgnLi9tb3ZlLXN5bmMnKSxcbiAgLi4ucmVxdWlyZSgnLi9tb3ZlJyksXG4gIC4uLnJlcXVpcmUoJy4vb3V0cHV0JyksXG4gIC4uLnJlcXVpcmUoJy4vcGF0aC1leGlzdHMnKSxcbiAgLi4ucmVxdWlyZSgnLi9yZW1vdmUnKVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbmZ1bmN0aW9uIGlzTm90aGluZyhzdWJqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIHN1YmplY3QgPT09ICd1bmRlZmluZWQnKSB8fCAoc3ViamVjdCA9PT0gbnVsbCk7XG59XG5cblxuZnVuY3Rpb24gaXNPYmplY3Qoc3ViamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBzdWJqZWN0ID09PSAnb2JqZWN0JykgJiYgKHN1YmplY3QgIT09IG51bGwpO1xufVxuXG5cbmZ1bmN0aW9uIHRvQXJyYXkoc2VxdWVuY2UpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2VxdWVuY2UpKSByZXR1cm4gc2VxdWVuY2U7XG4gIGVsc2UgaWYgKGlzTm90aGluZyhzZXF1ZW5jZSkpIHJldHVybiBbXTtcblxuICByZXR1cm4gWyBzZXF1ZW5jZSBdO1xufVxuXG5cbmZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xuICB2YXIgaW5kZXgsIGxlbmd0aCwga2V5LCBzb3VyY2VLZXlzO1xuXG4gIGlmIChzb3VyY2UpIHtcbiAgICBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBzb3VyY2VLZXlzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICAgIGtleSA9IHNvdXJjZUtleXNbaW5kZXhdO1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5cbmZ1bmN0aW9uIHJlcGVhdChzdHJpbmcsIGNvdW50KSB7XG4gIHZhciByZXN1bHQgPSAnJywgY3ljbGU7XG5cbiAgZm9yIChjeWNsZSA9IDA7IGN5Y2xlIDwgY291bnQ7IGN5Y2xlICs9IDEpIHtcbiAgICByZXN1bHQgKz0gc3RyaW5nO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBpc05lZ2F0aXZlWmVybyhudW1iZXIpIHtcbiAgcmV0dXJuIChudW1iZXIgPT09IDApICYmIChOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkgPT09IDEgLyBudW1iZXIpO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzLmlzTm90aGluZyAgICAgID0gaXNOb3RoaW5nO1xubW9kdWxlLmV4cG9ydHMuaXNPYmplY3QgICAgICAgPSBpc09iamVjdDtcbm1vZHVsZS5leHBvcnRzLnRvQXJyYXkgICAgICAgID0gdG9BcnJheTtcbm1vZHVsZS5leHBvcnRzLnJlcGVhdCAgICAgICAgID0gcmVwZWF0O1xubW9kdWxlLmV4cG9ydHMuaXNOZWdhdGl2ZVplcm8gPSBpc05lZ2F0aXZlWmVybztcbm1vZHVsZS5leHBvcnRzLmV4dGVuZCAgICAgICAgID0gZXh0ZW5kO1xuIiwiLy8gWUFNTCBlcnJvciBjbGFzcy4gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NDU4OTg0XG4vL1xuJ3VzZSBzdHJpY3QnO1xuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKGV4Y2VwdGlvbiwgY29tcGFjdCkge1xuICB2YXIgd2hlcmUgPSAnJywgbWVzc2FnZSA9IGV4Y2VwdGlvbi5yZWFzb24gfHwgJyh1bmtub3duIHJlYXNvbiknO1xuXG4gIGlmICghZXhjZXB0aW9uLm1hcmspIHJldHVybiBtZXNzYWdlO1xuXG4gIGlmIChleGNlcHRpb24ubWFyay5uYW1lKSB7XG4gICAgd2hlcmUgKz0gJ2luIFwiJyArIGV4Y2VwdGlvbi5tYXJrLm5hbWUgKyAnXCIgJztcbiAgfVxuXG4gIHdoZXJlICs9ICcoJyArIChleGNlcHRpb24ubWFyay5saW5lICsgMSkgKyAnOicgKyAoZXhjZXB0aW9uLm1hcmsuY29sdW1uICsgMSkgKyAnKSc7XG5cbiAgaWYgKCFjb21wYWN0ICYmIGV4Y2VwdGlvbi5tYXJrLnNuaXBwZXQpIHtcbiAgICB3aGVyZSArPSAnXFxuXFxuJyArIGV4Y2VwdGlvbi5tYXJrLnNuaXBwZXQ7XG4gIH1cblxuICByZXR1cm4gbWVzc2FnZSArICcgJyArIHdoZXJlO1xufVxuXG5cbmZ1bmN0aW9uIFlBTUxFeGNlcHRpb24ocmVhc29uLCBtYXJrKSB7XG4gIC8vIFN1cGVyIGNvbnN0cnVjdG9yXG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgdGhpcy5uYW1lID0gJ1lBTUxFeGNlcHRpb24nO1xuICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgdGhpcy5tYXJrID0gbWFyaztcbiAgdGhpcy5tZXNzYWdlID0gZm9ybWF0RXJyb3IodGhpcywgZmFsc2UpO1xuXG4gIC8vIEluY2x1ZGUgc3RhY2sgdHJhY2UgaW4gZXJyb3Igb2JqZWN0XG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIC8vIENocm9tZSBhbmQgTm9kZUpTXG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgLy8gRkYsIElFIDEwKyBhbmQgU2FmYXJpIDYrLiBGYWxsYmFjayBmb3Igb3RoZXJzXG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2sgfHwgJyc7XG4gIH1cbn1cblxuXG4vLyBJbmhlcml0IGZyb20gRXJyb3JcbllBTUxFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuWUFNTEV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBZQU1MRXhjZXB0aW9uO1xuXG5cbllBTUxFeGNlcHRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoY29tcGFjdCkge1xuICByZXR1cm4gdGhpcy5uYW1lICsgJzogJyArIGZvcm1hdEVycm9yKHRoaXMsIGNvbXBhY3QpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFlBTUxFeGNlcHRpb247XG4iLCIndXNlIHN0cmljdCc7XG5cblxudmFyIGNvbW1vbiA9IHJlcXVpcmUoJy4vY29tbW9uJyk7XG5cblxuLy8gZ2V0IHNuaXBwZXQgZm9yIGEgc2luZ2xlIGxpbmUsIHJlc3BlY3RpbmcgbWF4TGVuZ3RoXG5mdW5jdGlvbiBnZXRMaW5lKGJ1ZmZlciwgbGluZVN0YXJ0LCBsaW5lRW5kLCBwb3NpdGlvbiwgbWF4TGluZUxlbmd0aCkge1xuICB2YXIgaGVhZCA9ICcnO1xuICB2YXIgdGFpbCA9ICcnO1xuICB2YXIgbWF4SGFsZkxlbmd0aCA9IE1hdGguZmxvb3IobWF4TGluZUxlbmd0aCAvIDIpIC0gMTtcblxuICBpZiAocG9zaXRpb24gLSBsaW5lU3RhcnQgPiBtYXhIYWxmTGVuZ3RoKSB7XG4gICAgaGVhZCA9ICcgLi4uICc7XG4gICAgbGluZVN0YXJ0ID0gcG9zaXRpb24gLSBtYXhIYWxmTGVuZ3RoICsgaGVhZC5sZW5ndGg7XG4gIH1cblxuICBpZiAobGluZUVuZCAtIHBvc2l0aW9uID4gbWF4SGFsZkxlbmd0aCkge1xuICAgIHRhaWwgPSAnIC4uLic7XG4gICAgbGluZUVuZCA9IHBvc2l0aW9uICsgbWF4SGFsZkxlbmd0aCAtIHRhaWwubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdHI6IGhlYWQgKyBidWZmZXIuc2xpY2UobGluZVN0YXJ0LCBsaW5lRW5kKS5yZXBsYWNlKC9cXHQvZywgJ+KGkicpICsgdGFpbCxcbiAgICBwb3M6IHBvc2l0aW9uIC0gbGluZVN0YXJ0ICsgaGVhZC5sZW5ndGggLy8gcmVsYXRpdmUgcG9zaXRpb25cbiAgfTtcbn1cblxuXG5mdW5jdGlvbiBwYWRTdGFydChzdHJpbmcsIG1heCkge1xuICByZXR1cm4gY29tbW9uLnJlcGVhdCgnICcsIG1heCAtIHN0cmluZy5sZW5ndGgpICsgc3RyaW5nO1xufVxuXG5cbmZ1bmN0aW9uIG1ha2VTbmlwcGV0KG1hcmssIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IE9iamVjdC5jcmVhdGUob3B0aW9ucyB8fCBudWxsKTtcblxuICBpZiAoIW1hcmsuYnVmZmVyKSByZXR1cm4gbnVsbDtcblxuICBpZiAoIW9wdGlvbnMubWF4TGVuZ3RoKSBvcHRpb25zLm1heExlbmd0aCA9IDc5O1xuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5kZW50ICAgICAgIT09ICdudW1iZXInKSBvcHRpb25zLmluZGVudCAgICAgID0gMTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmxpbmVzQmVmb3JlICE9PSAnbnVtYmVyJykgb3B0aW9ucy5saW5lc0JlZm9yZSA9IDM7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5saW5lc0FmdGVyICAhPT0gJ251bWJlcicpIG9wdGlvbnMubGluZXNBZnRlciAgPSAyO1xuXG4gIHZhciByZSA9IC9cXHI/XFxufFxccnxcXDAvZztcbiAgdmFyIGxpbmVTdGFydHMgPSBbIDAgXTtcbiAgdmFyIGxpbmVFbmRzID0gW107XG4gIHZhciBtYXRjaDtcbiAgdmFyIGZvdW5kTGluZU5vID0gLTE7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMobWFyay5idWZmZXIpKSkge1xuICAgIGxpbmVFbmRzLnB1c2gobWF0Y2guaW5kZXgpO1xuICAgIGxpbmVTdGFydHMucHVzaChtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XG5cbiAgICBpZiAobWFyay5wb3NpdGlvbiA8PSBtYXRjaC5pbmRleCAmJiBmb3VuZExpbmVObyA8IDApIHtcbiAgICAgIGZvdW5kTGluZU5vID0gbGluZVN0YXJ0cy5sZW5ndGggLSAyO1xuICAgIH1cbiAgfVxuXG4gIGlmIChmb3VuZExpbmVObyA8IDApIGZvdW5kTGluZU5vID0gbGluZVN0YXJ0cy5sZW5ndGggLSAxO1xuXG4gIHZhciByZXN1bHQgPSAnJywgaSwgbGluZTtcbiAgdmFyIGxpbmVOb0xlbmd0aCA9IE1hdGgubWluKG1hcmsubGluZSArIG9wdGlvbnMubGluZXNBZnRlciwgbGluZUVuZHMubGVuZ3RoKS50b1N0cmluZygpLmxlbmd0aDtcbiAgdmFyIG1heExpbmVMZW5ndGggPSBvcHRpb25zLm1heExlbmd0aCAtIChvcHRpb25zLmluZGVudCArIGxpbmVOb0xlbmd0aCArIDMpO1xuXG4gIGZvciAoaSA9IDE7IGkgPD0gb3B0aW9ucy5saW5lc0JlZm9yZTsgaSsrKSB7XG4gICAgaWYgKGZvdW5kTGluZU5vIC0gaSA8IDApIGJyZWFrO1xuICAgIGxpbmUgPSBnZXRMaW5lKFxuICAgICAgbWFyay5idWZmZXIsXG4gICAgICBsaW5lU3RhcnRzW2ZvdW5kTGluZU5vIC0gaV0sXG4gICAgICBsaW5lRW5kc1tmb3VuZExpbmVObyAtIGldLFxuICAgICAgbWFyay5wb3NpdGlvbiAtIChsaW5lU3RhcnRzW2ZvdW5kTGluZU5vXSAtIGxpbmVTdGFydHNbZm91bmRMaW5lTm8gLSBpXSksXG4gICAgICBtYXhMaW5lTGVuZ3RoXG4gICAgKTtcbiAgICByZXN1bHQgPSBjb21tb24ucmVwZWF0KCcgJywgb3B0aW9ucy5pbmRlbnQpICsgcGFkU3RhcnQoKG1hcmsubGluZSAtIGkgKyAxKS50b1N0cmluZygpLCBsaW5lTm9MZW5ndGgpICtcbiAgICAgICcgfCAnICsgbGluZS5zdHIgKyAnXFxuJyArIHJlc3VsdDtcbiAgfVxuXG4gIGxpbmUgPSBnZXRMaW5lKG1hcmsuYnVmZmVyLCBsaW5lU3RhcnRzW2ZvdW5kTGluZU5vXSwgbGluZUVuZHNbZm91bmRMaW5lTm9dLCBtYXJrLnBvc2l0aW9uLCBtYXhMaW5lTGVuZ3RoKTtcbiAgcmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJyAnLCBvcHRpb25zLmluZGVudCkgKyBwYWRTdGFydCgobWFyay5saW5lICsgMSkudG9TdHJpbmcoKSwgbGluZU5vTGVuZ3RoKSArXG4gICAgJyB8ICcgKyBsaW5lLnN0ciArICdcXG4nO1xuICByZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnLScsIG9wdGlvbnMuaW5kZW50ICsgbGluZU5vTGVuZ3RoICsgMyArIGxpbmUucG9zKSArICdeJyArICdcXG4nO1xuXG4gIGZvciAoaSA9IDE7IGkgPD0gb3B0aW9ucy5saW5lc0FmdGVyOyBpKyspIHtcbiAgICBpZiAoZm91bmRMaW5lTm8gKyBpID49IGxpbmVFbmRzLmxlbmd0aCkgYnJlYWs7XG4gICAgbGluZSA9IGdldExpbmUoXG4gICAgICBtYXJrLmJ1ZmZlcixcbiAgICAgIGxpbmVTdGFydHNbZm91bmRMaW5lTm8gKyBpXSxcbiAgICAgIGxpbmVFbmRzW2ZvdW5kTGluZU5vICsgaV0sXG4gICAgICBtYXJrLnBvc2l0aW9uIC0gKGxpbmVTdGFydHNbZm91bmRMaW5lTm9dIC0gbGluZVN0YXJ0c1tmb3VuZExpbmVObyArIGldKSxcbiAgICAgIG1heExpbmVMZW5ndGhcbiAgICApO1xuICAgIHJlc3VsdCArPSBjb21tb24ucmVwZWF0KCcgJywgb3B0aW9ucy5pbmRlbnQpICsgcGFkU3RhcnQoKG1hcmsubGluZSArIGkgKyAxKS50b1N0cmluZygpLCBsaW5lTm9MZW5ndGgpICtcbiAgICAgICcgfCAnICsgbGluZS5zdHIgKyAnXFxuJztcbiAgfVxuXG4gIHJldHVybiByZXN1bHQucmVwbGFjZSgvXFxuJC8sICcnKTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IG1ha2VTbmlwcGV0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgWUFNTEV4Y2VwdGlvbiA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uJyk7XG5cbnZhciBUWVBFX0NPTlNUUlVDVE9SX09QVElPTlMgPSBbXG4gICdraW5kJyxcbiAgJ211bHRpJyxcbiAgJ3Jlc29sdmUnLFxuICAnY29uc3RydWN0JyxcbiAgJ2luc3RhbmNlT2YnLFxuICAncHJlZGljYXRlJyxcbiAgJ3JlcHJlc2VudCcsXG4gICdyZXByZXNlbnROYW1lJyxcbiAgJ2RlZmF1bHRTdHlsZScsXG4gICdzdHlsZUFsaWFzZXMnXG5dO1xuXG52YXIgWUFNTF9OT0RFX0tJTkRTID0gW1xuICAnc2NhbGFyJyxcbiAgJ3NlcXVlbmNlJyxcbiAgJ21hcHBpbmcnXG5dO1xuXG5mdW5jdGlvbiBjb21waWxlU3R5bGVBbGlhc2VzKG1hcCkge1xuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgaWYgKG1hcCAhPT0gbnVsbCkge1xuICAgIE9iamVjdC5rZXlzKG1hcCkuZm9yRWFjaChmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICAgIG1hcFtzdHlsZV0uZm9yRWFjaChmdW5jdGlvbiAoYWxpYXMpIHtcbiAgICAgICAgcmVzdWx0W1N0cmluZyhhbGlhcyldID0gc3R5bGU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIFR5cGUodGFnLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoVFlQRV9DT05TVFJVQ1RPUl9PUFRJT05TLmluZGV4T2YobmFtZSkgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbignVW5rbm93biBvcHRpb24gXCInICsgbmFtZSArICdcIiBpcyBtZXQgaW4gZGVmaW5pdGlvbiBvZiBcIicgKyB0YWcgKyAnXCIgWUFNTCB0eXBlLicpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gVE9ETzogQWRkIHRhZyBmb3JtYXQgY2hlY2suXG4gIHRoaXMub3B0aW9ucyAgICAgICA9IG9wdGlvbnM7IC8vIGtlZXAgb3JpZ2luYWwgb3B0aW9ucyBpbiBjYXNlIHVzZXIgd2FudHMgdG8gZXh0ZW5kIHRoaXMgdHlwZSBsYXRlclxuICB0aGlzLnRhZyAgICAgICAgICAgPSB0YWc7XG4gIHRoaXMua2luZCAgICAgICAgICA9IG9wdGlvbnNbJ2tpbmQnXSAgICAgICAgICB8fCBudWxsO1xuICB0aGlzLnJlc29sdmUgICAgICAgPSBvcHRpb25zWydyZXNvbHZlJ10gICAgICAgfHwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgdGhpcy5jb25zdHJ1Y3QgICAgID0gb3B0aW9uc1snY29uc3RydWN0J10gICAgIHx8IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhOyB9O1xuICB0aGlzLmluc3RhbmNlT2YgICAgPSBvcHRpb25zWydpbnN0YW5jZU9mJ10gICAgfHwgbnVsbDtcbiAgdGhpcy5wcmVkaWNhdGUgICAgID0gb3B0aW9uc1sncHJlZGljYXRlJ10gICAgIHx8IG51bGw7XG4gIHRoaXMucmVwcmVzZW50ICAgICA9IG9wdGlvbnNbJ3JlcHJlc2VudCddICAgICB8fCBudWxsO1xuICB0aGlzLnJlcHJlc2VudE5hbWUgPSBvcHRpb25zWydyZXByZXNlbnROYW1lJ10gfHwgbnVsbDtcbiAgdGhpcy5kZWZhdWx0U3R5bGUgID0gb3B0aW9uc1snZGVmYXVsdFN0eWxlJ10gIHx8IG51bGw7XG4gIHRoaXMubXVsdGkgICAgICAgICA9IG9wdGlvbnNbJ211bHRpJ10gICAgICAgICB8fCBmYWxzZTtcbiAgdGhpcy5zdHlsZUFsaWFzZXMgID0gY29tcGlsZVN0eWxlQWxpYXNlcyhvcHRpb25zWydzdHlsZUFsaWFzZXMnXSB8fCBudWxsKTtcblxuICBpZiAoWUFNTF9OT0RFX0tJTkRTLmluZGV4T2YodGhpcy5raW5kKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbignVW5rbm93biBraW5kIFwiJyArIHRoaXMua2luZCArICdcIiBpcyBzcGVjaWZpZWQgZm9yIFwiJyArIHRhZyArICdcIiBZQU1MIHR5cGUuJyk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUeXBlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKmVzbGludC1kaXNhYmxlIG1heC1sZW4qL1xuXG52YXIgWUFNTEV4Y2VwdGlvbiA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uJyk7XG52YXIgVHlwZSAgICAgICAgICA9IHJlcXVpcmUoJy4vdHlwZScpO1xuXG5cbmZ1bmN0aW9uIGNvbXBpbGVMaXN0KHNjaGVtYSwgbmFtZSkge1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgc2NoZW1hW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKGN1cnJlbnRUeXBlKSB7XG4gICAgdmFyIG5ld0luZGV4ID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChwcmV2aW91c1R5cGUsIHByZXZpb3VzSW5kZXgpIHtcbiAgICAgIGlmIChwcmV2aW91c1R5cGUudGFnID09PSBjdXJyZW50VHlwZS50YWcgJiZcbiAgICAgICAgICBwcmV2aW91c1R5cGUua2luZCA9PT0gY3VycmVudFR5cGUua2luZCAmJlxuICAgICAgICAgIHByZXZpb3VzVHlwZS5tdWx0aSA9PT0gY3VycmVudFR5cGUubXVsdGkpIHtcblxuICAgICAgICBuZXdJbmRleCA9IHByZXZpb3VzSW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXN1bHRbbmV3SW5kZXhdID0gY3VycmVudFR5cGU7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuZnVuY3Rpb24gY29tcGlsZU1hcCgvKiBsaXN0cy4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBzY2FsYXI6IHt9LFxuICAgICAgICBzZXF1ZW5jZToge30sXG4gICAgICAgIG1hcHBpbmc6IHt9LFxuICAgICAgICBmYWxsYmFjazoge30sXG4gICAgICAgIG11bHRpOiB7XG4gICAgICAgICAgc2NhbGFyOiBbXSxcbiAgICAgICAgICBzZXF1ZW5jZTogW10sXG4gICAgICAgICAgbWFwcGluZzogW10sXG4gICAgICAgICAgZmFsbGJhY2s6IFtdXG4gICAgICAgIH1cbiAgICAgIH0sIGluZGV4LCBsZW5ndGg7XG5cbiAgZnVuY3Rpb24gY29sbGVjdFR5cGUodHlwZSkge1xuICAgIGlmICh0eXBlLm11bHRpKSB7XG4gICAgICByZXN1bHQubXVsdGlbdHlwZS5raW5kXS5wdXNoKHR5cGUpO1xuICAgICAgcmVzdWx0Lm11bHRpWydmYWxsYmFjayddLnB1c2godHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFt0eXBlLmtpbmRdW3R5cGUudGFnXSA9IHJlc3VsdFsnZmFsbGJhY2snXVt0eXBlLnRhZ10gPSB0eXBlO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIGFyZ3VtZW50c1tpbmRleF0uZm9yRWFjaChjb2xsZWN0VHlwZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBTY2hlbWEoZGVmaW5pdGlvbikge1xuICByZXR1cm4gdGhpcy5leHRlbmQoZGVmaW5pdGlvbik7XG59XG5cblxuU2NoZW1hLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiBleHRlbmQoZGVmaW5pdGlvbikge1xuICB2YXIgaW1wbGljaXQgPSBbXTtcbiAgdmFyIGV4cGxpY2l0ID0gW107XG5cbiAgaWYgKGRlZmluaXRpb24gaW5zdGFuY2VvZiBUeXBlKSB7XG4gICAgLy8gU2NoZW1hLmV4dGVuZCh0eXBlKVxuICAgIGV4cGxpY2l0LnB1c2goZGVmaW5pdGlvbik7XG5cbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRlZmluaXRpb24pKSB7XG4gICAgLy8gU2NoZW1hLmV4dGVuZChbIHR5cGUxLCB0eXBlMiwgLi4uIF0pXG4gICAgZXhwbGljaXQgPSBleHBsaWNpdC5jb25jYXQoZGVmaW5pdGlvbik7XG5cbiAgfSBlbHNlIGlmIChkZWZpbml0aW9uICYmIChBcnJheS5pc0FycmF5KGRlZmluaXRpb24uaW1wbGljaXQpIHx8IEFycmF5LmlzQXJyYXkoZGVmaW5pdGlvbi5leHBsaWNpdCkpKSB7XG4gICAgLy8gU2NoZW1hLmV4dGVuZCh7IGV4cGxpY2l0OiBbIHR5cGUxLCB0eXBlMiwgLi4uIF0sIGltcGxpY2l0OiBbIHR5cGUxLCB0eXBlMiwgLi4uIF0gfSlcbiAgICBpZiAoZGVmaW5pdGlvbi5pbXBsaWNpdCkgaW1wbGljaXQgPSBpbXBsaWNpdC5jb25jYXQoZGVmaW5pdGlvbi5pbXBsaWNpdCk7XG4gICAgaWYgKGRlZmluaXRpb24uZXhwbGljaXQpIGV4cGxpY2l0ID0gZXhwbGljaXQuY29uY2F0KGRlZmluaXRpb24uZXhwbGljaXQpO1xuXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ1NjaGVtYS5leHRlbmQgYXJndW1lbnQgc2hvdWxkIGJlIGEgVHlwZSwgWyBUeXBlIF0sICcgK1xuICAgICAgJ29yIGEgc2NoZW1hIGRlZmluaXRpb24gKHsgaW1wbGljaXQ6IFsuLi5dLCBleHBsaWNpdDogWy4uLl0gfSknKTtcbiAgfVxuXG4gIGltcGxpY2l0LmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBpZiAoISh0eXBlIGluc3RhbmNlb2YgVHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdTcGVjaWZpZWQgbGlzdCBvZiBZQU1MIHR5cGVzIChvciBhIHNpbmdsZSBUeXBlIG9iamVjdCkgY29udGFpbnMgYSBub24tVHlwZSBvYmplY3QuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUubG9hZEtpbmQgJiYgdHlwZS5sb2FkS2luZCAhPT0gJ3NjYWxhcicpIHtcbiAgICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdUaGVyZSBpcyBhIG5vbi1zY2FsYXIgdHlwZSBpbiB0aGUgaW1wbGljaXQgbGlzdCBvZiBhIHNjaGVtYS4gSW1wbGljaXQgcmVzb2x2aW5nIG9mIHN1Y2ggdHlwZXMgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZS5tdWx0aSkge1xuICAgICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ1RoZXJlIGlzIGEgbXVsdGkgdHlwZSBpbiB0aGUgaW1wbGljaXQgbGlzdCBvZiBhIHNjaGVtYS4gTXVsdGkgdGFncyBjYW4gb25seSBiZSBsaXN0ZWQgYXMgZXhwbGljaXQuJyk7XG4gICAgfVxuICB9KTtcblxuICBleHBsaWNpdC5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgaWYgKCEodHlwZSBpbnN0YW5jZW9mIFR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbignU3BlY2lmaWVkIGxpc3Qgb2YgWUFNTCB0eXBlcyAob3IgYSBzaW5nbGUgVHlwZSBvYmplY3QpIGNvbnRhaW5zIGEgbm9uLVR5cGUgb2JqZWN0LicpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHJlc3VsdCA9IE9iamVjdC5jcmVhdGUoU2NoZW1hLnByb3RvdHlwZSk7XG5cbiAgcmVzdWx0LmltcGxpY2l0ID0gKHRoaXMuaW1wbGljaXQgfHwgW10pLmNvbmNhdChpbXBsaWNpdCk7XG4gIHJlc3VsdC5leHBsaWNpdCA9ICh0aGlzLmV4cGxpY2l0IHx8IFtdKS5jb25jYXQoZXhwbGljaXQpO1xuXG4gIHJlc3VsdC5jb21waWxlZEltcGxpY2l0ID0gY29tcGlsZUxpc3QocmVzdWx0LCAnaW1wbGljaXQnKTtcbiAgcmVzdWx0LmNvbXBpbGVkRXhwbGljaXQgPSBjb21waWxlTGlzdChyZXN1bHQsICdleHBsaWNpdCcpO1xuICByZXN1bHQuY29tcGlsZWRUeXBlTWFwICA9IGNvbXBpbGVNYXAocmVzdWx0LmNvbXBpbGVkSW1wbGljaXQsIHJlc3VsdC5jb21waWxlZEV4cGxpY2l0KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFNjaGVtYTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOnN0cicsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDogJyc7IH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVHlwZSA9IHJlcXVpcmUoJy4uL3R5cGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6c2VxJywge1xuICBraW5kOiAnc2VxdWVuY2UnLFxuICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IFtdOyB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOm1hcCcsIHtcbiAga2luZDogJ21hcHBpbmcnLFxuICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IHt9OyB9XG59KTtcbiIsIi8vIFN0YW5kYXJkIFlBTUwncyBGYWlsc2FmZSBzY2hlbWEuXG4vLyBodHRwOi8vd3d3LnlhbWwub3JnL3NwZWMvMS4yL3NwZWMuaHRtbCNpZDI4MDIzNDZcblxuXG4ndXNlIHN0cmljdCc7XG5cblxudmFyIFNjaGVtYSA9IHJlcXVpcmUoJy4uL3NjaGVtYScpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFNjaGVtYSh7XG4gIGV4cGxpY2l0OiBbXG4gICAgcmVxdWlyZSgnLi4vdHlwZS9zdHInKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL3NlcScpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvbWFwJylcbiAgXVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbE51bGwoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIG1heCA9IGRhdGEubGVuZ3RoO1xuXG4gIHJldHVybiAobWF4ID09PSAxICYmIGRhdGEgPT09ICd+JykgfHxcbiAgICAgICAgIChtYXggPT09IDQgJiYgKGRhdGEgPT09ICdudWxsJyB8fCBkYXRhID09PSAnTnVsbCcgfHwgZGF0YSA9PT0gJ05VTEwnKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxOdWxsKCkge1xuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNOdWxsKG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0ID09PSBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpudWxsJywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxOdWxsLFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxOdWxsLFxuICBwcmVkaWNhdGU6IGlzTnVsbCxcbiAgcmVwcmVzZW50OiB7XG4gICAgY2Fub25pY2FsOiBmdW5jdGlvbiAoKSB7IHJldHVybiAnfic7ICAgIH0sXG4gICAgbG93ZXJjYXNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiAnbnVsbCc7IH0sXG4gICAgdXBwZXJjYXNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiAnTlVMTCc7IH0sXG4gICAgY2FtZWxjYXNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiAnTnVsbCc7IH0sXG4gICAgZW1wdHk6ICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiAnJzsgICAgIH1cbiAgfSxcbiAgZGVmYXVsdFN0eWxlOiAnbG93ZXJjYXNlJ1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbEJvb2xlYW4oZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBtYXggPSBkYXRhLmxlbmd0aDtcblxuICByZXR1cm4gKG1heCA9PT0gNCAmJiAoZGF0YSA9PT0gJ3RydWUnIHx8IGRhdGEgPT09ICdUcnVlJyB8fCBkYXRhID09PSAnVFJVRScpKSB8fFxuICAgICAgICAgKG1heCA9PT0gNSAmJiAoZGF0YSA9PT0gJ2ZhbHNlJyB8fCBkYXRhID09PSAnRmFsc2UnIHx8IGRhdGEgPT09ICdGQUxTRScpKTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbEJvb2xlYW4oZGF0YSkge1xuICByZXR1cm4gZGF0YSA9PT0gJ3RydWUnIHx8XG4gICAgICAgICBkYXRhID09PSAnVHJ1ZScgfHxcbiAgICAgICAgIGRhdGEgPT09ICdUUlVFJztcbn1cblxuZnVuY3Rpb24gaXNCb29sZWFuKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6Ym9vbCcsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sQm9vbGVhbixcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sQm9vbGVhbixcbiAgcHJlZGljYXRlOiBpc0Jvb2xlYW4sXG4gIHJlcHJlc2VudDoge1xuICAgIGxvd2VyY2FzZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gb2JqZWN0ID8gJ3RydWUnIDogJ2ZhbHNlJzsgfSxcbiAgICB1cHBlcmNhc2U6IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuIG9iamVjdCA/ICdUUlVFJyA6ICdGQUxTRSc7IH0sXG4gICAgY2FtZWxjYXNlOiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiBvYmplY3QgPyAnVHJ1ZScgOiAnRmFsc2UnOyB9XG4gIH0sXG4gIGRlZmF1bHRTdHlsZTogJ2xvd2VyY2FzZSdcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY29tbW9uID0gcmVxdWlyZSgnLi4vY29tbW9uJyk7XG52YXIgVHlwZSAgID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG5mdW5jdGlvbiBpc0hleENvZGUoYykge1xuICByZXR1cm4gKCgweDMwLyogMCAqLyA8PSBjKSAmJiAoYyA8PSAweDM5LyogOSAqLykpIHx8XG4gICAgICAgICAoKDB4NDEvKiBBICovIDw9IGMpICYmIChjIDw9IDB4NDYvKiBGICovKSkgfHxcbiAgICAgICAgICgoMHg2MS8qIGEgKi8gPD0gYykgJiYgKGMgPD0gMHg2Ni8qIGYgKi8pKTtcbn1cblxuZnVuY3Rpb24gaXNPY3RDb2RlKGMpIHtcbiAgcmV0dXJuICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzNy8qIDcgKi8pKTtcbn1cblxuZnVuY3Rpb24gaXNEZWNDb2RlKGMpIHtcbiAgcmV0dXJuICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxJbnRlZ2VyKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICB2YXIgbWF4ID0gZGF0YS5sZW5ndGgsXG4gICAgICBpbmRleCA9IDAsXG4gICAgICBoYXNEaWdpdHMgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIGlmICghbWF4KSByZXR1cm4gZmFsc2U7XG5cbiAgY2ggPSBkYXRhW2luZGV4XTtcblxuICAvLyBzaWduXG4gIGlmIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycpIHtcbiAgICBjaCA9IGRhdGFbKytpbmRleF07XG4gIH1cblxuICBpZiAoY2ggPT09ICcwJykge1xuICAgIC8vIDBcbiAgICBpZiAoaW5kZXggKyAxID09PSBtYXgpIHJldHVybiB0cnVlO1xuICAgIGNoID0gZGF0YVsrK2luZGV4XTtcblxuICAgIC8vIGJhc2UgMiwgYmFzZSA4LCBiYXNlIDE2XG5cbiAgICBpZiAoY2ggPT09ICdiJykge1xuICAgICAgLy8gYmFzZSAyXG4gICAgICBpbmRleCsrO1xuXG4gICAgICBmb3IgKDsgaW5kZXggPCBtYXg7IGluZGV4KyspIHtcbiAgICAgICAgY2ggPSBkYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKGNoID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoY2ggIT09ICcwJyAmJiBjaCAhPT0gJzEnKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGhhc0RpZ2l0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzRGlnaXRzICYmIGNoICE9PSAnXyc7XG4gICAgfVxuXG5cbiAgICBpZiAoY2ggPT09ICd4Jykge1xuICAgICAgLy8gYmFzZSAxNlxuICAgICAgaW5kZXgrKztcblxuICAgICAgZm9yICg7IGluZGV4IDwgbWF4OyBpbmRleCsrKSB7XG4gICAgICAgIGNoID0gZGF0YVtpbmRleF07XG4gICAgICAgIGlmIChjaCA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFpc0hleENvZGUoZGF0YS5jaGFyQ29kZUF0KGluZGV4KSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaGFzRGlnaXRzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNEaWdpdHMgJiYgY2ggIT09ICdfJztcbiAgICB9XG5cblxuICAgIGlmIChjaCA9PT0gJ28nKSB7XG4gICAgICAvLyBiYXNlIDhcbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIGZvciAoOyBpbmRleCA8IG1heDsgaW5kZXgrKykge1xuICAgICAgICBjaCA9IGRhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoY2ggPT09ICdfJykgY29udGludWU7XG4gICAgICAgIGlmICghaXNPY3RDb2RlKGRhdGEuY2hhckNvZGVBdChpbmRleCkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGhhc0RpZ2l0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzRGlnaXRzICYmIGNoICE9PSAnXyc7XG4gICAgfVxuICB9XG5cbiAgLy8gYmFzZSAxMCAoZXhjZXB0IDApXG5cbiAgLy8gdmFsdWUgc2hvdWxkIG5vdCBzdGFydCB3aXRoIGBfYDtcbiAgaWYgKGNoID09PSAnXycpIHJldHVybiBmYWxzZTtcblxuICBmb3IgKDsgaW5kZXggPCBtYXg7IGluZGV4KyspIHtcbiAgICBjaCA9IGRhdGFbaW5kZXhdO1xuICAgIGlmIChjaCA9PT0gJ18nKSBjb250aW51ZTtcbiAgICBpZiAoIWlzRGVjQ29kZShkYXRhLmNoYXJDb2RlQXQoaW5kZXgpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBoYXNEaWdpdHMgPSB0cnVlO1xuICB9XG5cbiAgLy8gU2hvdWxkIGhhdmUgZGlnaXRzIGFuZCBzaG91bGQgbm90IGVuZCB3aXRoIGBfYFxuICBpZiAoIWhhc0RpZ2l0cyB8fCBjaCA9PT0gJ18nKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxJbnRlZ2VyKGRhdGEpIHtcbiAgdmFyIHZhbHVlID0gZGF0YSwgc2lnbiA9IDEsIGNoO1xuXG4gIGlmICh2YWx1ZS5pbmRleE9mKCdfJykgIT09IC0xKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9fL2csICcnKTtcbiAgfVxuXG4gIGNoID0gdmFsdWVbMF07XG5cbiAgaWYgKGNoID09PSAnLScgfHwgY2ggPT09ICcrJykge1xuICAgIGlmIChjaCA9PT0gJy0nKSBzaWduID0gLTE7XG4gICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxKTtcbiAgICBjaCA9IHZhbHVlWzBdO1xuICB9XG5cbiAgaWYgKHZhbHVlID09PSAnMCcpIHJldHVybiAwO1xuXG4gIGlmIChjaCA9PT0gJzAnKSB7XG4gICAgaWYgKHZhbHVlWzFdID09PSAnYicpIHJldHVybiBzaWduICogcGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIDIpO1xuICAgIGlmICh2YWx1ZVsxXSA9PT0gJ3gnKSByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCAxNik7XG4gICAgaWYgKHZhbHVlWzFdID09PSAnbycpIHJldHVybiBzaWduICogcGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIDgpO1xuICB9XG5cbiAgcmV0dXJuIHNpZ24gKiBwYXJzZUludCh2YWx1ZSwgMTApO1xufVxuXG5mdW5jdGlvbiBpc0ludGVnZXIob2JqZWN0KSB7XG4gIHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkpID09PSAnW29iamVjdCBOdW1iZXJdJyAmJlxuICAgICAgICAgKG9iamVjdCAlIDEgPT09IDAgJiYgIWNvbW1vbi5pc05lZ2F0aXZlWmVybyhvYmplY3QpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6aW50Jywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxJbnRlZ2VyLFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxJbnRlZ2VyLFxuICBwcmVkaWNhdGU6IGlzSW50ZWdlcixcbiAgcmVwcmVzZW50OiB7XG4gICAgYmluYXJ5OiAgICAgIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiA+PSAwID8gJzBiJyArIG9iai50b1N0cmluZygyKSA6ICctMGInICsgb2JqLnRvU3RyaW5nKDIpLnNsaWNlKDEpOyB9LFxuICAgIG9jdGFsOiAgICAgICBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogPj0gMCA/ICcwbycgICsgb2JqLnRvU3RyaW5nKDgpIDogJy0wbycgICsgb2JqLnRvU3RyaW5nKDgpLnNsaWNlKDEpOyB9LFxuICAgIGRlY2ltYWw6ICAgICBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmoudG9TdHJpbmcoMTApOyB9LFxuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICBoZXhhZGVjaW1hbDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqID49IDAgPyAnMHgnICsgb2JqLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpIDogICctMHgnICsgb2JqLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLnNsaWNlKDEpOyB9XG4gIH0sXG4gIGRlZmF1bHRTdHlsZTogJ2RlY2ltYWwnLFxuICBzdHlsZUFsaWFzZXM6IHtcbiAgICBiaW5hcnk6ICAgICAgWyAyLCAgJ2JpbicgXSxcbiAgICBvY3RhbDogICAgICAgWyA4LCAgJ29jdCcgXSxcbiAgICBkZWNpbWFsOiAgICAgWyAxMCwgJ2RlYycgXSxcbiAgICBoZXhhZGVjaW1hbDogWyAxNiwgJ2hleCcgXVxuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNvbW1vbiA9IHJlcXVpcmUoJy4uL2NvbW1vbicpO1xudmFyIFR5cGUgICA9IHJlcXVpcmUoJy4uL3R5cGUnKTtcblxudmFyIFlBTUxfRkxPQVRfUEFUVEVSTiA9IG5ldyBSZWdFeHAoXG4gIC8vIDIuNWU0LCAyLjUgYW5kIGludGVnZXJzXG4gICdeKD86Wy0rXT8oPzpbMC05XVswLTlfXSopKD86XFxcXC5bMC05X10qKT8oPzpbZUVdWy0rXT9bMC05XSspPycgK1xuICAvLyAuMmU0LCAuMlxuICAvLyBzcGVjaWFsIGNhc2UsIHNlZW1zIG5vdCBmcm9tIHNwZWNcbiAgJ3xcXFxcLlswLTlfXSsoPzpbZUVdWy0rXT9bMC05XSspPycgK1xuICAvLyAuaW5mXG4gICd8Wy0rXT9cXFxcLig/OmluZnxJbmZ8SU5GKScgK1xuICAvLyAubmFuXG4gICd8XFxcXC4oPzpuYW58TmFOfE5BTikpJCcpO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbEZsb2F0KGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICBpZiAoIVlBTUxfRkxPQVRfUEFUVEVSTi50ZXN0KGRhdGEpIHx8XG4gICAgICAvLyBRdWljayBoYWNrIHRvIG5vdCBhbGxvdyBpbnRlZ2VycyBlbmQgd2l0aCBgX2BcbiAgICAgIC8vIFByb2JhYmx5IHNob3VsZCB1cGRhdGUgcmVnZXhwICYgY2hlY2sgc3BlZWRcbiAgICAgIGRhdGFbZGF0YS5sZW5ndGggLSAxXSA9PT0gJ18nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxGbG9hdChkYXRhKSB7XG4gIHZhciB2YWx1ZSwgc2lnbjtcblxuICB2YWx1ZSAgPSBkYXRhLnJlcGxhY2UoL18vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gIHNpZ24gICA9IHZhbHVlWzBdID09PSAnLScgPyAtMSA6IDE7XG5cbiAgaWYgKCcrLScuaW5kZXhPZih2YWx1ZVswXSkgPj0gMCkge1xuICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSk7XG4gIH1cblxuICBpZiAodmFsdWUgPT09ICcuaW5mJykge1xuICAgIHJldHVybiAoc2lnbiA9PT0gMSkgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG5cbiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJy5uYW4nKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuICByZXR1cm4gc2lnbiAqIHBhcnNlRmxvYXQodmFsdWUsIDEwKTtcbn1cblxuXG52YXIgU0NJRU5USUZJQ19XSVRIT1VUX0RPVCA9IC9eWy0rXT9bMC05XStlLztcblxuZnVuY3Rpb24gcmVwcmVzZW50WWFtbEZsb2F0KG9iamVjdCwgc3R5bGUpIHtcbiAgdmFyIHJlcztcblxuICBpZiAoaXNOYU4ob2JqZWN0KSkge1xuICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgIGNhc2UgJ2xvd2VyY2FzZSc6IHJldHVybiAnLm5hbic7XG4gICAgICBjYXNlICd1cHBlcmNhc2UnOiByZXR1cm4gJy5OQU4nO1xuICAgICAgY2FzZSAnY2FtZWxjYXNlJzogcmV0dXJuICcuTmFOJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZID09PSBvYmplY3QpIHtcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XG4gICAgICBjYXNlICdsb3dlcmNhc2UnOiByZXR1cm4gJy5pbmYnO1xuICAgICAgY2FzZSAndXBwZXJjYXNlJzogcmV0dXJuICcuSU5GJztcbiAgICAgIGNhc2UgJ2NhbWVsY2FzZSc6IHJldHVybiAnLkluZic7XG4gICAgfVxuICB9IGVsc2UgaWYgKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSA9PT0gb2JqZWN0KSB7XG4gICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgY2FzZSAnbG93ZXJjYXNlJzogcmV0dXJuICctLmluZic7XG4gICAgICBjYXNlICd1cHBlcmNhc2UnOiByZXR1cm4gJy0uSU5GJztcbiAgICAgIGNhc2UgJ2NhbWVsY2FzZSc6IHJldHVybiAnLS5JbmYnO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjb21tb24uaXNOZWdhdGl2ZVplcm8ob2JqZWN0KSkge1xuICAgIHJldHVybiAnLTAuMCc7XG4gIH1cblxuICByZXMgPSBvYmplY3QudG9TdHJpbmcoMTApO1xuXG4gIC8vIEpTIHN0cmluZ2lmaWVyIGNhbiBidWlsZCBzY2llbnRpZmljIGZvcm1hdCB3aXRob3V0IGRvdHM6IDVlLTEwMCxcbiAgLy8gd2hpbGUgWUFNTCByZXF1cmVzIGRvdDogNS5lLTEwMC4gRml4IGl0IHdpdGggc2ltcGxlIGhhY2tcblxuICByZXR1cm4gU0NJRU5USUZJQ19XSVRIT1VUX0RPVC50ZXN0KHJlcykgPyByZXMucmVwbGFjZSgnZScsICcuZScpIDogcmVzO1xufVxuXG5mdW5jdGlvbiBpc0Zsb2F0KG9iamVjdCkge1xuICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBOdW1iZXJdJykgJiZcbiAgICAgICAgIChvYmplY3QgJSAxICE9PSAwIHx8IGNvbW1vbi5pc05lZ2F0aXZlWmVybyhvYmplY3QpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbEZsb2F0LFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxGbG9hdCxcbiAgcHJlZGljYXRlOiBpc0Zsb2F0LFxuICByZXByZXNlbnQ6IHJlcHJlc2VudFlhbWxGbG9hdCxcbiAgZGVmYXVsdFN0eWxlOiAnbG93ZXJjYXNlJ1xufSk7XG4iLCIvLyBTdGFuZGFyZCBZQU1MJ3MgSlNPTiBzY2hlbWEuXG4vLyBodHRwOi8vd3d3LnlhbWwub3JnL3NwZWMvMS4yL3NwZWMuaHRtbCNpZDI4MDMyMzFcbi8vXG4vLyBOT1RFOiBKUy1ZQU1MIGRvZXMgbm90IHN1cHBvcnQgc2NoZW1hLXNwZWNpZmljIHRhZyByZXNvbHV0aW9uIHJlc3RyaWN0aW9ucy5cbi8vIFNvLCB0aGlzIHNjaGVtYSBpcyBub3Qgc3VjaCBzdHJpY3QgYXMgZGVmaW5lZCBpbiB0aGUgWUFNTCBzcGVjaWZpY2F0aW9uLlxuLy8gSXQgYWxsb3dzIG51bWJlcnMgaW4gYmluYXJ5IG5vdGFpb24sIHVzZSBgTnVsbGAgYW5kIGBOVUxMYCBhcyBgbnVsbGAsIGV0Yy5cblxuXG4ndXNlIHN0cmljdCc7XG5cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhaWxzYWZlJykuZXh0ZW5kKHtcbiAgaW1wbGljaXQ6IFtcbiAgICByZXF1aXJlKCcuLi90eXBlL251bGwnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL2Jvb2wnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL2ludCcpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvZmxvYXQnKVxuICBdXG59KTtcbiIsIi8vIFN0YW5kYXJkIFlBTUwncyBDb3JlIHNjaGVtYS5cbi8vIGh0dHA6Ly93d3cueWFtbC5vcmcvc3BlYy8xLjIvc3BlYy5odG1sI2lkMjgwNDkyM1xuLy9cbi8vIE5PVEU6IEpTLVlBTUwgZG9lcyBub3Qgc3VwcG9ydCBzY2hlbWEtc3BlY2lmaWMgdGFnIHJlc29sdXRpb24gcmVzdHJpY3Rpb25zLlxuLy8gU28sIENvcmUgc2NoZW1hIGhhcyBubyBkaXN0aW5jdGlvbnMgZnJvbSBKU09OIHNjaGVtYSBpcyBKUy1ZQU1MLlxuXG5cbid1c2Ugc3RyaWN0JztcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vanNvbicpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVHlwZSA9IHJlcXVpcmUoJy4uL3R5cGUnKTtcblxudmFyIFlBTUxfREFURV9SRUdFWFAgPSBuZXcgUmVnRXhwKFxuICAnXihbMC05XVswLTldWzAtOV1bMC05XSknICAgICAgICAgICsgLy8gWzFdIHllYXJcbiAgJy0oWzAtOV1bMC05XSknICAgICAgICAgICAgICAgICAgICArIC8vIFsyXSBtb250aFxuICAnLShbMC05XVswLTldKSQnKTsgICAgICAgICAgICAgICAgICAgLy8gWzNdIGRheVxuXG52YXIgWUFNTF9USU1FU1RBTVBfUkVHRVhQID0gbmV3IFJlZ0V4cChcbiAgJ14oWzAtOV1bMC05XVswLTldWzAtOV0pJyAgICAgICAgICArIC8vIFsxXSB5ZWFyXG4gICctKFswLTldWzAtOV0/KScgICAgICAgICAgICAgICAgICAgKyAvLyBbMl0gbW9udGhcbiAgJy0oWzAtOV1bMC05XT8pJyAgICAgICAgICAgICAgICAgICArIC8vIFszXSBkYXlcbiAgJyg/OltUdF18WyBcXFxcdF0rKScgICAgICAgICAgICAgICAgICsgLy8gLi4uXG4gICcoWzAtOV1bMC05XT8pJyAgICAgICAgICAgICAgICAgICAgKyAvLyBbNF0gaG91clxuICAnOihbMC05XVswLTldKScgICAgICAgICAgICAgICAgICAgICsgLy8gWzVdIG1pbnV0ZVxuICAnOihbMC05XVswLTldKScgICAgICAgICAgICAgICAgICAgICsgLy8gWzZdIHNlY29uZFxuICAnKD86XFxcXC4oWzAtOV0qKSk/JyAgICAgICAgICAgICAgICAgKyAvLyBbN10gZnJhY3Rpb25cbiAgJyg/OlsgXFxcXHRdKihafChbLStdKShbMC05XVswLTldPyknICsgLy8gWzhdIHR6IFs5XSB0el9zaWduIFsxMF0gdHpfaG91clxuICAnKD86OihbMC05XVswLTldKSk/KSk/JCcpOyAgICAgICAgICAgLy8gWzExXSB0el9taW51dGVcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxUaW1lc3RhbXAoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoWUFNTF9EQVRFX1JFR0VYUC5leGVjKGRhdGEpICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKFlBTUxfVElNRVNUQU1QX1JFR0VYUC5leGVjKGRhdGEpICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sVGltZXN0YW1wKGRhdGEpIHtcbiAgdmFyIG1hdGNoLCB5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgZnJhY3Rpb24gPSAwLFxuICAgICAgZGVsdGEgPSBudWxsLCB0el9ob3VyLCB0el9taW51dGUsIGRhdGU7XG5cbiAgbWF0Y2ggPSBZQU1MX0RBVEVfUkVHRVhQLmV4ZWMoZGF0YSk7XG4gIGlmIChtYXRjaCA9PT0gbnVsbCkgbWF0Y2ggPSBZQU1MX1RJTUVTVEFNUF9SRUdFWFAuZXhlYyhkYXRhKTtcblxuICBpZiAobWF0Y2ggPT09IG51bGwpIHRocm93IG5ldyBFcnJvcignRGF0ZSByZXNvbHZlIGVycm9yJyk7XG5cbiAgLy8gbWF0Y2g6IFsxXSB5ZWFyIFsyXSBtb250aCBbM10gZGF5XG5cbiAgeWVhciA9ICsobWF0Y2hbMV0pO1xuICBtb250aCA9ICsobWF0Y2hbMl0pIC0gMTsgLy8gSlMgbW9udGggc3RhcnRzIHdpdGggMFxuICBkYXkgPSArKG1hdGNoWzNdKTtcblxuICBpZiAoIW1hdGNoWzRdKSB7IC8vIG5vIGhvdXJcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSkpO1xuICB9XG5cbiAgLy8gbWF0Y2g6IFs0XSBob3VyIFs1XSBtaW51dGUgWzZdIHNlY29uZCBbN10gZnJhY3Rpb25cblxuICBob3VyID0gKyhtYXRjaFs0XSk7XG4gIG1pbnV0ZSA9ICsobWF0Y2hbNV0pO1xuICBzZWNvbmQgPSArKG1hdGNoWzZdKTtcblxuICBpZiAobWF0Y2hbN10pIHtcbiAgICBmcmFjdGlvbiA9IG1hdGNoWzddLnNsaWNlKDAsIDMpO1xuICAgIHdoaWxlIChmcmFjdGlvbi5sZW5ndGggPCAzKSB7IC8vIG1pbGxpLXNlY29uZHNcbiAgICAgIGZyYWN0aW9uICs9ICcwJztcbiAgICB9XG4gICAgZnJhY3Rpb24gPSArZnJhY3Rpb247XG4gIH1cblxuICAvLyBtYXRjaDogWzhdIHR6IFs5XSB0el9zaWduIFsxMF0gdHpfaG91ciBbMTFdIHR6X21pbnV0ZVxuXG4gIGlmIChtYXRjaFs5XSkge1xuICAgIHR6X2hvdXIgPSArKG1hdGNoWzEwXSk7XG4gICAgdHpfbWludXRlID0gKyhtYXRjaFsxMV0gfHwgMCk7XG4gICAgZGVsdGEgPSAodHpfaG91ciAqIDYwICsgdHpfbWludXRlKSAqIDYwMDAwOyAvLyBkZWx0YSBpbiBtaWxpLXNlY29uZHNcbiAgICBpZiAobWF0Y2hbOV0gPT09ICctJykgZGVsdGEgPSAtZGVsdGE7XG4gIH1cblxuICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIGZyYWN0aW9uKSk7XG5cbiAgaWYgKGRlbHRhKSBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgLSBkZWx0YSk7XG5cbiAgcmV0dXJuIGRhdGU7XG59XG5cbmZ1bmN0aW9uIHJlcHJlc2VudFlhbWxUaW1lc3RhbXAob2JqZWN0IC8qLCBzdHlsZSovKSB7XG4gIHJldHVybiBvYmplY3QudG9JU09TdHJpbmcoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6dGltZXN0YW1wJywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxUaW1lc3RhbXAsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbFRpbWVzdGFtcCxcbiAgaW5zdGFuY2VPZjogRGF0ZSxcbiAgcmVwcmVzZW50OiByZXByZXNlbnRZYW1sVGltZXN0YW1wXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sTWVyZ2UoZGF0YSkge1xuICByZXR1cm4gZGF0YSA9PT0gJzw8JyB8fCBkYXRhID09PSBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjptZXJnZScsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sTWVyZ2Vcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UqL1xuXG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG5cbi8vIFsgNjQsIDY1LCA2NiBdIC0+IFsgcGFkZGluZywgQ1IsIExGIF1cbnZhciBCQVNFNjRfTUFQID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XFxuXFxyJztcblxuXG5mdW5jdGlvbiByZXNvbHZlWWFtbEJpbmFyeShkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGNvZGUsIGlkeCwgYml0bGVuID0gMCwgbWF4ID0gZGF0YS5sZW5ndGgsIG1hcCA9IEJBU0U2NF9NQVA7XG5cbiAgLy8gQ29udmVydCBvbmUgYnkgb25lLlxuICBmb3IgKGlkeCA9IDA7IGlkeCA8IG1heDsgaWR4KyspIHtcbiAgICBjb2RlID0gbWFwLmluZGV4T2YoZGF0YS5jaGFyQXQoaWR4KSk7XG5cbiAgICAvLyBTa2lwIENSL0xGXG4gICAgaWYgKGNvZGUgPiA2NCkgY29udGludWU7XG5cbiAgICAvLyBGYWlsIG9uIGlsbGVnYWwgY2hhcmFjdGVyc1xuICAgIGlmIChjb2RlIDwgMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgYml0bGVuICs9IDY7XG4gIH1cblxuICAvLyBJZiB0aGVyZSBhcmUgYW55IGJpdHMgbGVmdCwgc291cmNlIHdhcyBjb3JydXB0ZWRcbiAgcmV0dXJuIChiaXRsZW4gJSA4KSA9PT0gMDtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbEJpbmFyeShkYXRhKSB7XG4gIHZhciBpZHgsIHRhaWxiaXRzLFxuICAgICAgaW5wdXQgPSBkYXRhLnJlcGxhY2UoL1tcXHJcXG49XS9nLCAnJyksIC8vIHJlbW92ZSBDUi9MRiAmIHBhZGRpbmcgdG8gc2ltcGxpZnkgc2NhblxuICAgICAgbWF4ID0gaW5wdXQubGVuZ3RoLFxuICAgICAgbWFwID0gQkFTRTY0X01BUCxcbiAgICAgIGJpdHMgPSAwLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgLy8gQ29sbGVjdCBieSA2KjQgYml0cyAoMyBieXRlcylcblxuICBmb3IgKGlkeCA9IDA7IGlkeCA8IG1heDsgaWR4KyspIHtcbiAgICBpZiAoKGlkeCAlIDQgPT09IDApICYmIGlkeCkge1xuICAgICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gMTYpICYgMHhGRik7XG4gICAgICByZXN1bHQucHVzaCgoYml0cyA+PiA4KSAmIDB4RkYpO1xuICAgICAgcmVzdWx0LnB1c2goYml0cyAmIDB4RkYpO1xuICAgIH1cblxuICAgIGJpdHMgPSAoYml0cyA8PCA2KSB8IG1hcC5pbmRleE9mKGlucHV0LmNoYXJBdChpZHgpKTtcbiAgfVxuXG4gIC8vIER1bXAgdGFpbFxuXG4gIHRhaWxiaXRzID0gKG1heCAlIDQpICogNjtcblxuICBpZiAodGFpbGJpdHMgPT09IDApIHtcbiAgICByZXN1bHQucHVzaCgoYml0cyA+PiAxNikgJiAweEZGKTtcbiAgICByZXN1bHQucHVzaCgoYml0cyA+PiA4KSAmIDB4RkYpO1xuICAgIHJlc3VsdC5wdXNoKGJpdHMgJiAweEZGKTtcbiAgfSBlbHNlIGlmICh0YWlsYml0cyA9PT0gMTgpIHtcbiAgICByZXN1bHQucHVzaCgoYml0cyA+PiAxMCkgJiAweEZGKTtcbiAgICByZXN1bHQucHVzaCgoYml0cyA+PiAyKSAmIDB4RkYpO1xuICB9IGVsc2UgaWYgKHRhaWxiaXRzID09PSAxMikge1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDQpICYgMHhGRik7XG4gIH1cblxuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVzdWx0KTtcbn1cblxuZnVuY3Rpb24gcmVwcmVzZW50WWFtbEJpbmFyeShvYmplY3QgLyosIHN0eWxlKi8pIHtcbiAgdmFyIHJlc3VsdCA9ICcnLCBiaXRzID0gMCwgaWR4LCB0YWlsLFxuICAgICAgbWF4ID0gb2JqZWN0Lmxlbmd0aCxcbiAgICAgIG1hcCA9IEJBU0U2NF9NQVA7XG5cbiAgLy8gQ29udmVydCBldmVyeSB0aHJlZSBieXRlcyB0byA0IEFTQ0lJIGNoYXJhY3RlcnMuXG5cbiAgZm9yIChpZHggPSAwOyBpZHggPCBtYXg7IGlkeCsrKSB7XG4gICAgaWYgKChpZHggJSAzID09PSAwKSAmJiBpZHgpIHtcbiAgICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMTgpICYgMHgzRl07XG4gICAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDEyKSAmIDB4M0ZdO1xuICAgICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiA2KSAmIDB4M0ZdO1xuICAgICAgcmVzdWx0ICs9IG1hcFtiaXRzICYgMHgzRl07XG4gICAgfVxuXG4gICAgYml0cyA9IChiaXRzIDw8IDgpICsgb2JqZWN0W2lkeF07XG4gIH1cblxuICAvLyBEdW1wIHRhaWxcblxuICB0YWlsID0gbWF4ICUgMztcblxuICBpZiAodGFpbCA9PT0gMCkge1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMTgpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAxMikgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDYpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFtiaXRzICYgMHgzRl07XG4gIH0gZWxzZSBpZiAodGFpbCA9PT0gMikge1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMTApICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiA0KSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPDwgMikgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWzY0XTtcbiAgfSBlbHNlIGlmICh0YWlsID09PSAxKSB7XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAyKSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPDwgNCkgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWzY0XTtcbiAgICByZXN1bHQgKz0gbWFwWzY0XTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGlzQmluYXJ5KG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICAnW29iamVjdCBVaW50OEFycmF5XSc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmJpbmFyeScsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sQmluYXJ5LFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxCaW5hcnksXG4gIHByZWRpY2F0ZTogaXNCaW5hcnksXG4gIHJlcHJlc2VudDogcmVwcmVzZW50WWFtbEJpbmFyeVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG52YXIgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfdG9TdHJpbmcgICAgICAgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbE9tYXAoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIG9iamVjdEtleXMgPSBbXSwgaW5kZXgsIGxlbmd0aCwgcGFpciwgcGFpcktleSwgcGFpckhhc0tleSxcbiAgICAgIG9iamVjdCA9IGRhdGE7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgcGFpciA9IG9iamVjdFtpbmRleF07XG4gICAgcGFpckhhc0tleSA9IGZhbHNlO1xuXG4gICAgaWYgKF90b1N0cmluZy5jYWxsKHBhaXIpICE9PSAnW29iamVjdCBPYmplY3RdJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChwYWlyS2V5IGluIHBhaXIpIHtcbiAgICAgIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbChwYWlyLCBwYWlyS2V5KSkge1xuICAgICAgICBpZiAoIXBhaXJIYXNLZXkpIHBhaXJIYXNLZXkgPSB0cnVlO1xuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXBhaXJIYXNLZXkpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChvYmplY3RLZXlzLmluZGV4T2YocGFpcktleSkgPT09IC0xKSBvYmplY3RLZXlzLnB1c2gocGFpcktleSk7XG4gICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbE9tYXAoZGF0YSkge1xuICByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRhdGEgOiBbXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6b21hcCcsIHtcbiAga2luZDogJ3NlcXVlbmNlJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxPbWFwLFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxPbWFwXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbnZhciBfdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbFBhaXJzKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiB0cnVlO1xuXG4gIHZhciBpbmRleCwgbGVuZ3RoLCBwYWlyLCBrZXlzLCByZXN1bHQsXG4gICAgICBvYmplY3QgPSBkYXRhO1xuXG4gIHJlc3VsdCA9IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBwYWlyID0gb2JqZWN0W2luZGV4XTtcblxuICAgIGlmIChfdG9TdHJpbmcuY2FsbChwYWlyKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHJldHVybiBmYWxzZTtcblxuICAgIGtleXMgPSBPYmplY3Qua2V5cyhwYWlyKTtcblxuICAgIGlmIChrZXlzLmxlbmd0aCAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmVzdWx0W2luZGV4XSA9IFsga2V5c1swXSwgcGFpcltrZXlzWzBdXSBdO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxQYWlycyhkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gW107XG5cbiAgdmFyIGluZGV4LCBsZW5ndGgsIHBhaXIsIGtleXMsIHJlc3VsdCxcbiAgICAgIG9iamVjdCA9IGRhdGE7XG5cbiAgcmVzdWx0ID0gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHBhaXIgPSBvYmplY3RbaW5kZXhdO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHBhaXIpO1xuXG4gICAgcmVzdWx0W2luZGV4XSA9IFsga2V5c1swXSwgcGFpcltrZXlzWzBdXSBdO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6cGFpcnMnLCB7XG4gIGtpbmQ6ICdzZXF1ZW5jZScsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sUGFpcnMsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbFBhaXJzXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbnZhciBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbFNldChkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcblxuICB2YXIga2V5LCBvYmplY3QgPSBkYXRhO1xuXG4gIGZvciAoa2V5IGluIG9iamVjdCkge1xuICAgIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICAgIGlmIChvYmplY3Rba2V5XSAhPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sU2V0KGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDoge307XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOnNldCcsIHtcbiAga2luZDogJ21hcHBpbmcnLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbFNldCxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sU2V0XG59KTtcbiIsIi8vIEpTLVlBTUwncyBkZWZhdWx0IHNjaGVtYSBmb3IgYHNhZmVMb2FkYCBmdW5jdGlvbi5cbi8vIEl0IGlzIG5vdCBkZXNjcmliZWQgaW4gdGhlIFlBTUwgc3BlY2lmaWNhdGlvbi5cbi8vXG4vLyBUaGlzIHNjaGVtYSBpcyBiYXNlZCBvbiBzdGFuZGFyZCBZQU1MJ3MgQ29yZSBzY2hlbWEgYW5kIGluY2x1ZGVzIG1vc3Qgb2Zcbi8vIGV4dHJhIHR5cGVzIGRlc2NyaWJlZCBhdCBZQU1MIHRhZyByZXBvc2l0b3J5LiAoaHR0cDovL3lhbWwub3JnL3R5cGUvKVxuXG5cbid1c2Ugc3RyaWN0JztcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29yZScpLmV4dGVuZCh7XG4gIGltcGxpY2l0OiBbXG4gICAgcmVxdWlyZSgnLi4vdHlwZS90aW1lc3RhbXAnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL21lcmdlJylcbiAgXSxcbiAgZXhwbGljaXQ6IFtcbiAgICByZXF1aXJlKCcuLi90eXBlL2JpbmFyeScpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvb21hcCcpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvcGFpcnMnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL3NldCcpXG4gIF1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKmVzbGludC1kaXNhYmxlIG1heC1sZW4sbm8tdXNlLWJlZm9yZS1kZWZpbmUqL1xuXG52YXIgY29tbW9uICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vY29tbW9uJyk7XG52YXIgWUFNTEV4Y2VwdGlvbiAgICAgICA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uJyk7XG52YXIgbWFrZVNuaXBwZXQgICAgICAgICA9IHJlcXVpcmUoJy4vc25pcHBldCcpO1xudmFyIERFRkFVTFRfU0NIRU1BICAgICAgPSByZXF1aXJlKCcuL3NjaGVtYS9kZWZhdWx0Jyk7XG5cblxudmFyIF9oYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cblxudmFyIENPTlRFWFRfRkxPV19JTiAgID0gMTtcbnZhciBDT05URVhUX0ZMT1dfT1VUICA9IDI7XG52YXIgQ09OVEVYVF9CTE9DS19JTiAgPSAzO1xudmFyIENPTlRFWFRfQkxPQ0tfT1VUID0gNDtcblxuXG52YXIgQ0hPTVBJTkdfQ0xJUCAgPSAxO1xudmFyIENIT01QSU5HX1NUUklQID0gMjtcbnZhciBDSE9NUElOR19LRUVQICA9IDM7XG5cblxudmFyIFBBVFRFUk5fTk9OX1BSSU5UQUJMRSAgICAgICAgID0gL1tcXHgwMC1cXHgwOFxceDBCXFx4MENcXHgwRS1cXHgxRlxceDdGLVxceDg0XFx4ODYtXFx4OUZcXHVGRkZFXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0vO1xudmFyIFBBVFRFUk5fTk9OX0FTQ0lJX0xJTkVfQlJFQUtTID0gL1tcXHg4NVxcdTIwMjhcXHUyMDI5XS87XG52YXIgUEFUVEVSTl9GTE9XX0lORElDQVRPUlMgICAgICAgPSAvWyxcXFtcXF1cXHtcXH1dLztcbnZhciBQQVRURVJOX1RBR19IQU5ETEUgICAgICAgICAgICA9IC9eKD86IXwhIXwhW2EtelxcLV0rISkkL2k7XG52YXIgUEFUVEVSTl9UQUdfVVJJICAgICAgICAgICAgICAgPSAvXig/OiF8W14sXFxbXFxdXFx7XFx9XSkoPzolWzAtOWEtZl17Mn18WzAtOWEtelxcLSM7XFwvXFw/OkAmPVxcK1xcJCxfXFwuIX5cXConXFwoXFwpXFxbXFxdXSkqJC9pO1xuXG5cbmZ1bmN0aW9uIF9jbGFzcyhvYmopIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopOyB9XG5cbmZ1bmN0aW9uIGlzX0VPTChjKSB7XG4gIHJldHVybiAoYyA9PT0gMHgwQS8qIExGICovKSB8fCAoYyA9PT0gMHgwRC8qIENSICovKTtcbn1cblxuZnVuY3Rpb24gaXNfV0hJVEVfU1BBQ0UoYykge1xuICByZXR1cm4gKGMgPT09IDB4MDkvKiBUYWIgKi8pIHx8IChjID09PSAweDIwLyogU3BhY2UgKi8pO1xufVxuXG5mdW5jdGlvbiBpc19XU19PUl9FT0woYykge1xuICByZXR1cm4gKGMgPT09IDB4MDkvKiBUYWIgKi8pIHx8XG4gICAgICAgICAoYyA9PT0gMHgyMC8qIFNwYWNlICovKSB8fFxuICAgICAgICAgKGMgPT09IDB4MEEvKiBMRiAqLykgfHxcbiAgICAgICAgIChjID09PSAweDBELyogQ1IgKi8pO1xufVxuXG5mdW5jdGlvbiBpc19GTE9XX0lORElDQVRPUihjKSB7XG4gIHJldHVybiBjID09PSAweDJDLyogLCAqLyB8fFxuICAgICAgICAgYyA9PT0gMHg1Qi8qIFsgKi8gfHxcbiAgICAgICAgIGMgPT09IDB4NUQvKiBdICovIHx8XG4gICAgICAgICBjID09PSAweDdCLyogeyAqLyB8fFxuICAgICAgICAgYyA9PT0gMHg3RC8qIH0gKi87XG59XG5cbmZ1bmN0aW9uIGZyb21IZXhDb2RlKGMpIHtcbiAgdmFyIGxjO1xuXG4gIGlmICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKSB7XG4gICAgcmV0dXJuIGMgLSAweDMwO1xuICB9XG5cbiAgLyplc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlKi9cbiAgbGMgPSBjIHwgMHgyMDtcblxuICBpZiAoKDB4NjEvKiBhICovIDw9IGxjKSAmJiAobGMgPD0gMHg2Ni8qIGYgKi8pKSB7XG4gICAgcmV0dXJuIGxjIC0gMHg2MSArIDEwO1xuICB9XG5cbiAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVkSGV4TGVuKGMpIHtcbiAgaWYgKGMgPT09IDB4NzgvKiB4ICovKSB7IHJldHVybiAyOyB9XG4gIGlmIChjID09PSAweDc1LyogdSAqLykgeyByZXR1cm4gNDsgfVxuICBpZiAoYyA9PT0gMHg1NS8qIFUgKi8pIHsgcmV0dXJuIDg7IH1cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGZyb21EZWNpbWFsQ29kZShjKSB7XG4gIGlmICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKSB7XG4gICAgcmV0dXJuIGMgLSAweDMwO1xuICB9XG5cbiAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBzaW1wbGVFc2NhcGVTZXF1ZW5jZShjKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuICByZXR1cm4gKGMgPT09IDB4MzAvKiAwICovKSA/ICdcXHgwMCcgOlxuICAgICAgICAoYyA9PT0gMHg2MS8qIGEgKi8pID8gJ1xceDA3JyA6XG4gICAgICAgIChjID09PSAweDYyLyogYiAqLykgPyAnXFx4MDgnIDpcbiAgICAgICAgKGMgPT09IDB4NzQvKiB0ICovKSA/ICdcXHgwOScgOlxuICAgICAgICAoYyA9PT0gMHgwOS8qIFRhYiAqLykgPyAnXFx4MDknIDpcbiAgICAgICAgKGMgPT09IDB4NkUvKiBuICovKSA/ICdcXHgwQScgOlxuICAgICAgICAoYyA9PT0gMHg3Ni8qIHYgKi8pID8gJ1xceDBCJyA6XG4gICAgICAgIChjID09PSAweDY2LyogZiAqLykgPyAnXFx4MEMnIDpcbiAgICAgICAgKGMgPT09IDB4NzIvKiByICovKSA/ICdcXHgwRCcgOlxuICAgICAgICAoYyA9PT0gMHg2NS8qIGUgKi8pID8gJ1xceDFCJyA6XG4gICAgICAgIChjID09PSAweDIwLyogU3BhY2UgKi8pID8gJyAnIDpcbiAgICAgICAgKGMgPT09IDB4MjIvKiBcIiAqLykgPyAnXFx4MjInIDpcbiAgICAgICAgKGMgPT09IDB4MkYvKiAvICovKSA/ICcvJyA6XG4gICAgICAgIChjID09PSAweDVDLyogXFwgKi8pID8gJ1xceDVDJyA6XG4gICAgICAgIChjID09PSAweDRFLyogTiAqLykgPyAnXFx4ODUnIDpcbiAgICAgICAgKGMgPT09IDB4NUYvKiBfICovKSA/ICdcXHhBMCcgOlxuICAgICAgICAoYyA9PT0gMHg0Qy8qIEwgKi8pID8gJ1xcdTIwMjgnIDpcbiAgICAgICAgKGMgPT09IDB4NTAvKiBQICovKSA/ICdcXHUyMDI5JyA6ICcnO1xufVxuXG5mdW5jdGlvbiBjaGFyRnJvbUNvZGVwb2ludChjKSB7XG4gIGlmIChjIDw9IDB4RkZGRikge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICB9XG4gIC8vIEVuY29kZSBVVEYtMTYgc3Vycm9nYXRlIHBhaXJcbiAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVVRGLTE2I0NvZGVfcG9pbnRzX1UuMkIwMTAwMDBfdG9fVS4yQjEwRkZGRlxuICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAoKGMgLSAweDAxMDAwMCkgPj4gMTApICsgMHhEODAwLFxuICAgICgoYyAtIDB4MDEwMDAwKSAmIDB4MDNGRikgKyAweERDMDBcbiAgKTtcbn1cblxudmFyIHNpbXBsZUVzY2FwZUNoZWNrID0gbmV3IEFycmF5KDI1Nik7IC8vIGludGVnZXIsIGZvciBmYXN0IGFjY2Vzc1xudmFyIHNpbXBsZUVzY2FwZU1hcCA9IG5ldyBBcnJheSgyNTYpO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICBzaW1wbGVFc2NhcGVDaGVja1tpXSA9IHNpbXBsZUVzY2FwZVNlcXVlbmNlKGkpID8gMSA6IDA7XG4gIHNpbXBsZUVzY2FwZU1hcFtpXSA9IHNpbXBsZUVzY2FwZVNlcXVlbmNlKGkpO1xufVxuXG5cbmZ1bmN0aW9uIFN0YXRlKGlucHV0LCBvcHRpb25zKSB7XG4gIHRoaXMuaW5wdXQgPSBpbnB1dDtcblxuICB0aGlzLmZpbGVuYW1lICA9IG9wdGlvbnNbJ2ZpbGVuYW1lJ10gIHx8IG51bGw7XG4gIHRoaXMuc2NoZW1hICAgID0gb3B0aW9uc1snc2NoZW1hJ10gICAgfHwgREVGQVVMVF9TQ0hFTUE7XG4gIHRoaXMub25XYXJuaW5nID0gb3B0aW9uc1snb25XYXJuaW5nJ10gfHwgbnVsbDtcbiAgLy8gKEhpZGRlbikgUmVtb3ZlPyBtYWtlcyB0aGUgbG9hZGVyIHRvIGV4cGVjdCBZQU1MIDEuMSBkb2N1bWVudHNcbiAgLy8gaWYgc3VjaCBkb2N1bWVudHMgaGF2ZSBubyBleHBsaWNpdCAlWUFNTCBkaXJlY3RpdmVcbiAgdGhpcy5sZWdhY3kgICAgPSBvcHRpb25zWydsZWdhY3knXSAgICB8fCBmYWxzZTtcblxuICB0aGlzLmpzb24gICAgICA9IG9wdGlvbnNbJ2pzb24nXSAgICAgIHx8IGZhbHNlO1xuICB0aGlzLmxpc3RlbmVyICA9IG9wdGlvbnNbJ2xpc3RlbmVyJ10gIHx8IG51bGw7XG5cbiAgdGhpcy5pbXBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRJbXBsaWNpdDtcbiAgdGhpcy50eXBlTWFwICAgICAgID0gdGhpcy5zY2hlbWEuY29tcGlsZWRUeXBlTWFwO1xuXG4gIHRoaXMubGVuZ3RoICAgICA9IGlucHV0Lmxlbmd0aDtcbiAgdGhpcy5wb3NpdGlvbiAgID0gMDtcbiAgdGhpcy5saW5lICAgICAgID0gMDtcbiAgdGhpcy5saW5lU3RhcnQgID0gMDtcbiAgdGhpcy5saW5lSW5kZW50ID0gMDtcblxuICAvLyBwb3NpdGlvbiBvZiBmaXJzdCBsZWFkaW5nIHRhYiBpbiB0aGUgY3VycmVudCBsaW5lLFxuICAvLyB1c2VkIHRvIG1ha2Ugc3VyZSB0aGVyZSBhcmUgbm8gdGFicyBpbiB0aGUgaW5kZW50YXRpb25cbiAgdGhpcy5maXJzdFRhYkluTGluZSA9IC0xO1xuXG4gIHRoaXMuZG9jdW1lbnRzID0gW107XG5cbiAgLypcbiAgdGhpcy52ZXJzaW9uO1xuICB0aGlzLmNoZWNrTGluZUJyZWFrcztcbiAgdGhpcy50YWdNYXA7XG4gIHRoaXMuYW5jaG9yTWFwO1xuICB0aGlzLnRhZztcbiAgdGhpcy5hbmNob3I7XG4gIHRoaXMua2luZDtcbiAgdGhpcy5yZXN1bHQ7Ki9cblxufVxuXG5cbmZ1bmN0aW9uIGdlbmVyYXRlRXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgdmFyIG1hcmsgPSB7XG4gICAgbmFtZTogICAgIHN0YXRlLmZpbGVuYW1lLFxuICAgIGJ1ZmZlcjogICBzdGF0ZS5pbnB1dC5zbGljZSgwLCAtMSksIC8vIG9taXQgdHJhaWxpbmcgXFwwXG4gICAgcG9zaXRpb246IHN0YXRlLnBvc2l0aW9uLFxuICAgIGxpbmU6ICAgICBzdGF0ZS5saW5lLFxuICAgIGNvbHVtbjogICBzdGF0ZS5wb3NpdGlvbiAtIHN0YXRlLmxpbmVTdGFydFxuICB9O1xuXG4gIG1hcmsuc25pcHBldCA9IG1ha2VTbmlwcGV0KG1hcmspO1xuXG4gIHJldHVybiBuZXcgWUFNTEV4Y2VwdGlvbihtZXNzYWdlLCBtYXJrKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dFcnJvcihzdGF0ZSwgbWVzc2FnZSkge1xuICB0aHJvdyBnZW5lcmF0ZUVycm9yKHN0YXRlLCBtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dXYXJuaW5nKHN0YXRlLCBtZXNzYWdlKSB7XG4gIGlmIChzdGF0ZS5vbldhcm5pbmcpIHtcbiAgICBzdGF0ZS5vbldhcm5pbmcuY2FsbChudWxsLCBnZW5lcmF0ZUVycm9yKHN0YXRlLCBtZXNzYWdlKSk7XG4gIH1cbn1cblxuXG52YXIgZGlyZWN0aXZlSGFuZGxlcnMgPSB7XG5cbiAgWUFNTDogZnVuY3Rpb24gaGFuZGxlWWFtbERpcmVjdGl2ZShzdGF0ZSwgbmFtZSwgYXJncykge1xuXG4gICAgdmFyIG1hdGNoLCBtYWpvciwgbWlub3I7XG5cbiAgICBpZiAoc3RhdGUudmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2R1cGxpY2F0aW9uIG9mICVZQU1MIGRpcmVjdGl2ZScpO1xuICAgIH1cblxuICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ1lBTUwgZGlyZWN0aXZlIGFjY2VwdHMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG5cbiAgICBtYXRjaCA9IC9eKFswLTldKylcXC4oWzAtOV0rKSQvLmV4ZWMoYXJnc1swXSk7XG5cbiAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdpbGwtZm9ybWVkIGFyZ3VtZW50IG9mIHRoZSBZQU1MIGRpcmVjdGl2ZScpO1xuICAgIH1cblxuICAgIG1ham9yID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICBtaW5vciA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG5cbiAgICBpZiAobWFqb3IgIT09IDEpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmFjY2VwdGFibGUgWUFNTCB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudCcpO1xuICAgIH1cblxuICAgIHN0YXRlLnZlcnNpb24gPSBhcmdzWzBdO1xuICAgIHN0YXRlLmNoZWNrTGluZUJyZWFrcyA9IChtaW5vciA8IDIpO1xuXG4gICAgaWYgKG1pbm9yICE9PSAxICYmIG1pbm9yICE9PSAyKSB7XG4gICAgICB0aHJvd1dhcm5pbmcoc3RhdGUsICd1bnN1cHBvcnRlZCBZQU1MIHZlcnNpb24gb2YgdGhlIGRvY3VtZW50Jyk7XG4gICAgfVxuICB9LFxuXG4gIFRBRzogZnVuY3Rpb24gaGFuZGxlVGFnRGlyZWN0aXZlKHN0YXRlLCBuYW1lLCBhcmdzKSB7XG5cbiAgICB2YXIgaGFuZGxlLCBwcmVmaXg7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdUQUcgZGlyZWN0aXZlIGFjY2VwdHMgZXhhY3RseSB0d28gYXJndW1lbnRzJyk7XG4gICAgfVxuXG4gICAgaGFuZGxlID0gYXJnc1swXTtcbiAgICBwcmVmaXggPSBhcmdzWzFdO1xuXG4gICAgaWYgKCFQQVRURVJOX1RBR19IQU5ETEUudGVzdChoYW5kbGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaWxsLWZvcm1lZCB0YWcgaGFuZGxlIChmaXJzdCBhcmd1bWVudCkgb2YgdGhlIFRBRyBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICBpZiAoX2hhc093blByb3BlcnR5LmNhbGwoc3RhdGUudGFnTWFwLCBoYW5kbGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGhlcmUgaXMgYSBwcmV2aW91c2x5IGRlY2xhcmVkIHN1ZmZpeCBmb3IgXCInICsgaGFuZGxlICsgJ1wiIHRhZyBoYW5kbGUnKTtcbiAgICB9XG5cbiAgICBpZiAoIVBBVFRFUk5fVEFHX1VSSS50ZXN0KHByZWZpeCkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdpbGwtZm9ybWVkIHRhZyBwcmVmaXggKHNlY29uZCBhcmd1bWVudCkgb2YgdGhlIFRBRyBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcHJlZml4ID0gZGVjb2RlVVJJQ29tcG9uZW50KHByZWZpeCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFnIHByZWZpeCBpcyBtYWxmb3JtZWQ6ICcgKyBwcmVmaXgpO1xuICAgIH1cblxuICAgIHN0YXRlLnRhZ01hcFtoYW5kbGVdID0gcHJlZml4O1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBzdGFydCwgZW5kLCBjaGVja0pzb24pIHtcbiAgdmFyIF9wb3NpdGlvbiwgX2xlbmd0aCwgX2NoYXJhY3RlciwgX3Jlc3VsdDtcblxuICBpZiAoc3RhcnQgPCBlbmQpIHtcbiAgICBfcmVzdWx0ID0gc3RhdGUuaW5wdXQuc2xpY2Uoc3RhcnQsIGVuZCk7XG5cbiAgICBpZiAoY2hlY2tKc29uKSB7XG4gICAgICBmb3IgKF9wb3NpdGlvbiA9IDAsIF9sZW5ndGggPSBfcmVzdWx0Lmxlbmd0aDsgX3Bvc2l0aW9uIDwgX2xlbmd0aDsgX3Bvc2l0aW9uICs9IDEpIHtcbiAgICAgICAgX2NoYXJhY3RlciA9IF9yZXN1bHQuY2hhckNvZGVBdChfcG9zaXRpb24pO1xuICAgICAgICBpZiAoIShfY2hhcmFjdGVyID09PSAweDA5IHx8XG4gICAgICAgICAgICAgICgweDIwIDw9IF9jaGFyYWN0ZXIgJiYgX2NoYXJhY3RlciA8PSAweDEwRkZGRikpKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2V4cGVjdGVkIHZhbGlkIEpTT04gY2hhcmFjdGVyJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFBBVFRFUk5fTk9OX1BSSU5UQUJMRS50ZXN0KF9yZXN1bHQpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGhlIHN0cmVhbSBjb250YWlucyBub24tcHJpbnRhYmxlIGNoYXJhY3RlcnMnKTtcbiAgICB9XG5cbiAgICBzdGF0ZS5yZXN1bHQgKz0gX3Jlc3VsdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZU1hcHBpbmdzKHN0YXRlLCBkZXN0aW5hdGlvbiwgc291cmNlLCBvdmVycmlkYWJsZUtleXMpIHtcbiAgdmFyIHNvdXJjZUtleXMsIGtleSwgaW5kZXgsIHF1YW50aXR5O1xuXG4gIGlmICghY29tbW9uLmlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnY2Fubm90IG1lcmdlIG1hcHBpbmdzOyB0aGUgcHJvdmlkZWQgc291cmNlIG9iamVjdCBpcyB1bmFjY2VwdGFibGUnKTtcbiAgfVxuXG4gIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gIGZvciAoaW5kZXggPSAwLCBxdWFudGl0eSA9IHNvdXJjZUtleXMubGVuZ3RoOyBpbmRleCA8IHF1YW50aXR5OyBpbmRleCArPSAxKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpbmRleF07XG5cbiAgICBpZiAoIV9oYXNPd25Qcm9wZXJ0eS5jYWxsKGRlc3RpbmF0aW9uLCBrZXkpKSB7XG4gICAgICBkZXN0aW5hdGlvbltrZXldID0gc291cmNlW2tleV07XG4gICAgICBvdmVycmlkYWJsZUtleXNba2V5XSA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsXG4gIHN0YXJ0TGluZSwgc3RhcnRMaW5lU3RhcnQsIHN0YXJ0UG9zKSB7XG5cbiAgdmFyIGluZGV4LCBxdWFudGl0eTtcblxuICAvLyBUaGUgb3V0cHV0IGlzIGEgcGxhaW4gb2JqZWN0IGhlcmUsIHNvIGtleXMgY2FuIG9ubHkgYmUgc3RyaW5ncy5cbiAgLy8gV2UgbmVlZCB0byBjb252ZXJ0IGtleU5vZGUgdG8gYSBzdHJpbmcsIGJ1dCBkb2luZyBzbyBjYW4gaGFuZyB0aGUgcHJvY2Vzc1xuICAvLyAoZGVlcGx5IG5lc3RlZCBhcnJheXMgdGhhdCBleHBsb2RlIGV4cG9uZW50aWFsbHkgdXNpbmcgYWxpYXNlcykuXG4gIGlmIChBcnJheS5pc0FycmF5KGtleU5vZGUpKSB7XG4gICAga2V5Tm9kZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGtleU5vZGUpO1xuXG4gICAgZm9yIChpbmRleCA9IDAsIHF1YW50aXR5ID0ga2V5Tm9kZS5sZW5ndGg7IGluZGV4IDwgcXVhbnRpdHk7IGluZGV4ICs9IDEpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleU5vZGVbaW5kZXhdKSkge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbmVzdGVkIGFycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBpbnNpZGUga2V5cycpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGtleU5vZGUgPT09ICdvYmplY3QnICYmIF9jbGFzcyhrZXlOb2RlW2luZGV4XSkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICAgIGtleU5vZGVbaW5kZXhdID0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQXZvaWQgY29kZSBleGVjdXRpb24gaW4gbG9hZCgpIHZpYSB0b1N0cmluZyBwcm9wZXJ0eVxuICAvLyAoc3RpbGwgdXNlIGl0cyBvd24gdG9TdHJpbmcgZm9yIGFycmF5cywgdGltZXN0YW1wcyxcbiAgLy8gYW5kIHdoYXRldmVyIHVzZXIgc2NoZW1hIGV4dGVuc2lvbnMgaGFwcGVuIHRvIGhhdmUgQEB0b1N0cmluZ1RhZylcbiAgaWYgKHR5cGVvZiBrZXlOb2RlID09PSAnb2JqZWN0JyAmJiBfY2xhc3Moa2V5Tm9kZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAga2V5Tm9kZSA9ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9XG5cblxuICBrZXlOb2RlID0gU3RyaW5nKGtleU5vZGUpO1xuXG4gIGlmIChfcmVzdWx0ID09PSBudWxsKSB7XG4gICAgX3Jlc3VsdCA9IHt9O1xuICB9XG5cbiAgaWYgKGtleVRhZyA9PT0gJ3RhZzp5YW1sLm9yZywyMDAyOm1lcmdlJykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlTm9kZSkpIHtcbiAgICAgIGZvciAoaW5kZXggPSAwLCBxdWFudGl0eSA9IHZhbHVlTm9kZS5sZW5ndGg7IGluZGV4IDwgcXVhbnRpdHk7IGluZGV4ICs9IDEpIHtcbiAgICAgICAgbWVyZ2VNYXBwaW5ncyhzdGF0ZSwgX3Jlc3VsdCwgdmFsdWVOb2RlW2luZGV4XSwgb3ZlcnJpZGFibGVLZXlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbWVyZ2VNYXBwaW5ncyhzdGF0ZSwgX3Jlc3VsdCwgdmFsdWVOb2RlLCBvdmVycmlkYWJsZUtleXMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoIXN0YXRlLmpzb24gJiZcbiAgICAgICAgIV9oYXNPd25Qcm9wZXJ0eS5jYWxsKG92ZXJyaWRhYmxlS2V5cywga2V5Tm9kZSkgJiZcbiAgICAgICAgX2hhc093blByb3BlcnR5LmNhbGwoX3Jlc3VsdCwga2V5Tm9kZSkpIHtcbiAgICAgIHN0YXRlLmxpbmUgPSBzdGFydExpbmUgfHwgc3RhdGUubGluZTtcbiAgICAgIHN0YXRlLmxpbmVTdGFydCA9IHN0YXJ0TGluZVN0YXJ0IHx8IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgIHN0YXRlLnBvc2l0aW9uID0gc3RhcnRQb3MgfHwgc3RhdGUucG9zaXRpb247XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZHVwbGljYXRlZCBtYXBwaW5nIGtleScpO1xuICAgIH1cblxuICAgIC8vIHVzZWQgZm9yIHRoaXMgc3BlY2lmaWMga2V5IG9ubHkgYmVjYXVzZSBPYmplY3QuZGVmaW5lUHJvcGVydHkgaXMgc2xvd1xuICAgIGlmIChrZXlOb2RlID09PSAnX19wcm90b19fJykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9yZXN1bHQsIGtleU5vZGUsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlTm9kZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9yZXN1bHRba2V5Tm9kZV0gPSB2YWx1ZU5vZGU7XG4gICAgfVxuICAgIGRlbGV0ZSBvdmVycmlkYWJsZUtleXNba2V5Tm9kZV07XG4gIH1cblxuICByZXR1cm4gX3Jlc3VsdDtcbn1cblxuZnVuY3Rpb24gcmVhZExpbmVCcmVhayhzdGF0ZSkge1xuICB2YXIgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4MEEvKiBMRiAqLykge1xuICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gIH0gZWxzZSBpZiAoY2ggPT09IDB4MEQvKiBDUiAqLykge1xuICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgaWYgKHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pID09PSAweDBBLyogTEYgKi8pIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdhIGxpbmUgYnJlYWsgaXMgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIHN0YXRlLmxpbmUgKz0gMTtcbiAgc3RhdGUubGluZVN0YXJ0ID0gc3RhdGUucG9zaXRpb247XG4gIHN0YXRlLmZpcnN0VGFiSW5MaW5lID0gLTE7XG59XG5cbmZ1bmN0aW9uIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIGFsbG93Q29tbWVudHMsIGNoZWNrSW5kZW50KSB7XG4gIHZhciBsaW5lQnJlYWtzID0gMCxcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgICAgaWYgKGNoID09PSAweDA5LyogVGFiICovICYmIHN0YXRlLmZpcnN0VGFiSW5MaW5lID09PSAtMSkge1xuICAgICAgICBzdGF0ZS5maXJzdFRhYkluTGluZSA9IHN0YXRlLnBvc2l0aW9uO1xuICAgICAgfVxuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmIChhbGxvd0NvbW1lbnRzICYmIGNoID09PSAweDIzLyogIyAqLykge1xuICAgICAgZG8ge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9IHdoaWxlIChjaCAhPT0gMHgwQS8qIExGICovICYmIGNoICE9PSAweDBELyogQ1IgKi8gJiYgY2ggIT09IDApO1xuICAgIH1cblxuICAgIGlmIChpc19FT0woY2gpKSB7XG4gICAgICByZWFkTGluZUJyZWFrKHN0YXRlKTtcblxuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgIGxpbmVCcmVha3MrKztcbiAgICAgIHN0YXRlLmxpbmVJbmRlbnQgPSAwO1xuXG4gICAgICB3aGlsZSAoY2ggPT09IDB4MjAvKiBTcGFjZSAqLykge1xuICAgICAgICBzdGF0ZS5saW5lSW5kZW50Kys7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNoZWNrSW5kZW50ICE9PSAtMSAmJiBsaW5lQnJlYWtzICE9PSAwICYmIHN0YXRlLmxpbmVJbmRlbnQgPCBjaGVja0luZGVudCkge1xuICAgIHRocm93V2FybmluZyhzdGF0ZSwgJ2RlZmljaWVudCBpbmRlbnRhdGlvbicpO1xuICB9XG5cbiAgcmV0dXJuIGxpbmVCcmVha3M7XG59XG5cbmZ1bmN0aW9uIHRlc3REb2N1bWVudFNlcGFyYXRvcihzdGF0ZSkge1xuICB2YXIgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb24sXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoX3Bvc2l0aW9uKTtcblxuICAvLyBDb25kaXRpb24gc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCBpcyB0ZXN0ZWRcbiAgLy8gaW4gcGFyZW50IG9uIGVhY2ggY2FsbCwgZm9yIGVmZmljaWVuY3kuIE5vIG5lZWRzIHRvIHRlc3QgaGVyZSBhZ2Fpbi5cbiAgaWYgKChjaCA9PT0gMHgyRC8qIC0gKi8gfHwgY2ggPT09IDB4MkUvKiAuICovKSAmJlxuICAgICAgY2ggPT09IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoX3Bvc2l0aW9uICsgMSkgJiZcbiAgICAgIGNoID09PSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KF9wb3NpdGlvbiArIDIpKSB7XG5cbiAgICBfcG9zaXRpb24gKz0gMztcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChfcG9zaXRpb24pO1xuXG4gICAgaWYgKGNoID09PSAwIHx8IGlzX1dTX09SX0VPTChjaCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgY291bnQpIHtcbiAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgc3RhdGUucmVzdWx0ICs9ICcgJztcbiAgfSBlbHNlIGlmIChjb3VudCA+IDEpIHtcbiAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgY291bnQgLSAxKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHJlYWRQbGFpblNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCwgd2l0aGluRmxvd0NvbGxlY3Rpb24pIHtcbiAgdmFyIHByZWNlZGluZyxcbiAgICAgIGZvbGxvd2luZyxcbiAgICAgIGNhcHR1cmVTdGFydCxcbiAgICAgIGNhcHR1cmVFbmQsXG4gICAgICBoYXNQZW5kaW5nQ29udGVudCxcbiAgICAgIF9saW5lLFxuICAgICAgX2xpbmVTdGFydCxcbiAgICAgIF9saW5lSW5kZW50LFxuICAgICAgX2tpbmQgPSBzdGF0ZS5raW5kLFxuICAgICAgX3Jlc3VsdCA9IHN0YXRlLnJlc3VsdCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGlzX1dTX09SX0VPTChjaCkgICAgICB8fFxuICAgICAgaXNfRkxPV19JTkRJQ0FUT1IoY2gpIHx8XG4gICAgICBjaCA9PT0gMHgyMy8qICMgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDI2LyogJiAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4MkEvKiAqICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgyMS8qICEgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDdDLyogfCAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4M0UvKiA+ICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgyNy8qICcgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDIyLyogXCIgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDI1LyogJSAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4NDAvKiBAICovICAgIHx8XG4gICAgICBjaCA9PT0gMHg2MC8qIGAgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoY2ggPT09IDB4M0YvKiA/ICovIHx8IGNoID09PSAweDJELyogLSAqLykge1xuICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgIGlmIChpc19XU19PUl9FT0woZm9sbG93aW5nKSB8fFxuICAgICAgICB3aXRoaW5GbG93Q29sbGVjdGlvbiAmJiBpc19GTE9XX0lORElDQVRPUihmb2xsb3dpbmcpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUua2luZCA9ICdzY2FsYXInO1xuICBzdGF0ZS5yZXN1bHQgPSAnJztcbiAgY2FwdHVyZVN0YXJ0ID0gY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuICBoYXNQZW5kaW5nQ29udGVudCA9IGZhbHNlO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGlmIChjaCA9PT0gMHgzQS8qIDogKi8pIHtcbiAgICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpIHx8XG4gICAgICAgICAgd2l0aGluRmxvd0NvbGxlY3Rpb24gJiYgaXNfRkxPV19JTkRJQ0FUT1IoZm9sbG93aW5nKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoY2ggPT09IDB4MjMvKiAjICovKSB7XG4gICAgICBwcmVjZWRpbmcgPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uIC0gMSk7XG5cbiAgICAgIGlmIChpc19XU19PUl9FT0wocHJlY2VkaW5nKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoKHN0YXRlLnBvc2l0aW9uID09PSBzdGF0ZS5saW5lU3RhcnQgJiYgdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSkgfHxcbiAgICAgICAgICAgICAgIHdpdGhpbkZsb3dDb2xsZWN0aW9uICYmIGlzX0ZMT1dfSU5ESUNBVE9SKGNoKSkge1xuICAgICAgYnJlYWs7XG5cbiAgICB9IGVsc2UgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIF9saW5lID0gc3RhdGUubGluZTtcbiAgICAgIF9saW5lU3RhcnQgPSBzdGF0ZS5saW5lU3RhcnQ7XG4gICAgICBfbGluZUluZGVudCA9IHN0YXRlLmxpbmVJbmRlbnQ7XG4gICAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCBmYWxzZSwgLTEpO1xuXG4gICAgICBpZiAoc3RhdGUubGluZUluZGVudCA+PSBub2RlSW5kZW50KSB7XG4gICAgICAgIGhhc1BlbmRpbmdDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5wb3NpdGlvbiA9IGNhcHR1cmVFbmQ7XG4gICAgICAgIHN0YXRlLmxpbmUgPSBfbGluZTtcbiAgICAgICAgc3RhdGUubGluZVN0YXJ0ID0gX2xpbmVTdGFydDtcbiAgICAgICAgc3RhdGUubGluZUluZGVudCA9IF9saW5lSW5kZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzUGVuZGluZ0NvbnRlbnQpIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIGZhbHNlKTtcbiAgICAgIHdyaXRlRm9sZGVkTGluZXMoc3RhdGUsIHN0YXRlLmxpbmUgLSBfbGluZSk7XG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG4gICAgICBoYXNQZW5kaW5nQ29udGVudCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb24gKyAxO1xuICAgIH1cblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgfVxuXG4gIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIGZhbHNlKTtcblxuICBpZiAoc3RhdGUucmVzdWx0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gX2tpbmQ7XG4gIHN0YXRlLnJlc3VsdCA9IF9yZXN1bHQ7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVhZFNpbmdsZVF1b3RlZFNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2gsXG4gICAgICBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQ7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggIT09IDB4MjcvKiAnICovKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3RhdGUua2luZCA9ICdzY2FsYXInO1xuICBzdGF0ZS5yZXN1bHQgPSAnJztcbiAgc3RhdGUucG9zaXRpb24rKztcbiAgY2FwdHVyZVN0YXJ0ID0gY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gIHdoaWxlICgoY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSkgIT09IDApIHtcbiAgICBpZiAoY2ggPT09IDB4MjcvKiAnICovKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgdHJ1ZSk7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICAgIGlmIChjaCA9PT0gMHgyNy8qICcgKi8pIHtcbiAgICAgICAgY2FwdHVyZVN0YXJ0ID0gc3RhdGUucG9zaXRpb247XG4gICAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChpc19FT0woY2gpKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBjYXB0dXJlRW5kLCB0cnVlKTtcbiAgICAgIHdyaXRlRm9sZGVkTGluZXMoc3RhdGUsIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIGZhbHNlLCBub2RlSW5kZW50KSk7XG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB9IGVsc2UgaWYgKHN0YXRlLnBvc2l0aW9uID09PSBzdGF0ZS5saW5lU3RhcnQgJiYgdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBkb2N1bWVudCB3aXRoaW4gYSBzaW5nbGUgcXVvdGVkIHNjYWxhcicpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG4gICAgfVxuICB9XG5cbiAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgc2luZ2xlIHF1b3RlZCBzY2FsYXInKTtcbn1cblxuZnVuY3Rpb24gcmVhZERvdWJsZVF1b3RlZFNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2FwdHVyZVN0YXJ0LFxuICAgICAgY2FwdHVyZUVuZCxcbiAgICAgIGhleExlbmd0aCxcbiAgICAgIGhleFJlc3VsdCxcbiAgICAgIHRtcCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoICE9PSAweDIyLyogXCIgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuICBzdGF0ZS5wb3NpdGlvbisrO1xuICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgd2hpbGUgKChjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pKSAhPT0gMCkge1xuICAgIGlmIChjaCA9PT0gMHgyMi8qIFwiICovKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgdHJ1ZSk7XG4gICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICB9IGVsc2UgaWYgKGNoID09PSAweDVDLyogXFwgKi8pIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIHN0YXRlLnBvc2l0aW9uLCB0cnVlKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgZmFsc2UsIG5vZGVJbmRlbnQpO1xuXG4gICAgICAgIC8vIFRPRE86IHJld29yayB0byBpbmxpbmUgZm4gd2l0aCBubyB0eXBlIGNhc3Q/XG4gICAgICB9IGVsc2UgaWYgKGNoIDwgMjU2ICYmIHNpbXBsZUVzY2FwZUNoZWNrW2NoXSkge1xuICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gc2ltcGxlRXNjYXBlTWFwW2NoXTtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcblxuICAgICAgfSBlbHNlIGlmICgodG1wID0gZXNjYXBlZEhleExlbihjaCkpID4gMCkge1xuICAgICAgICBoZXhMZW5ndGggPSB0bXA7XG4gICAgICAgIGhleFJlc3VsdCA9IDA7XG5cbiAgICAgICAgZm9yICg7IGhleExlbmd0aCA+IDA7IGhleExlbmd0aC0tKSB7XG4gICAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gICAgICAgICAgaWYgKCh0bXAgPSBmcm9tSGV4Q29kZShjaCkpID49IDApIHtcbiAgICAgICAgICAgIGhleFJlc3VsdCA9IChoZXhSZXN1bHQgPDwgNCkgKyB0bXA7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2V4cGVjdGVkIGhleGFkZWNpbWFsIGNoYXJhY3RlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjaGFyRnJvbUNvZGVwb2ludChoZXhSZXN1bHQpO1xuXG4gICAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmtub3duIGVzY2FwZSBzZXF1ZW5jZScpO1xuICAgICAgfVxuXG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB9IGVsc2UgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIHRydWUpO1xuICAgICAgd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgZmFsc2UsIG5vZGVJbmRlbnQpKTtcbiAgICAgIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgIH0gZWxzZSBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIGRvY3VtZW50IHdpdGhpbiBhIGRvdWJsZSBxdW90ZWQgc2NhbGFyJyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICB9XG4gIH1cblxuICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSBkb3VibGUgcXVvdGVkIHNjYWxhcicpO1xufVxuXG5mdW5jdGlvbiByZWFkRmxvd0NvbGxlY3Rpb24oc3RhdGUsIG5vZGVJbmRlbnQpIHtcbiAgdmFyIHJlYWROZXh0ID0gdHJ1ZSxcbiAgICAgIF9saW5lLFxuICAgICAgX2xpbmVTdGFydCxcbiAgICAgIF9wb3MsXG4gICAgICBfdGFnICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9yZXN1bHQsXG4gICAgICBfYW5jaG9yICA9IHN0YXRlLmFuY2hvcixcbiAgICAgIGZvbGxvd2luZyxcbiAgICAgIHRlcm1pbmF0b3IsXG4gICAgICBpc1BhaXIsXG4gICAgICBpc0V4cGxpY2l0UGFpcixcbiAgICAgIGlzTWFwcGluZyxcbiAgICAgIG92ZXJyaWRhYmxlS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICBrZXlOb2RlLFxuICAgICAga2V5VGFnLFxuICAgICAgdmFsdWVOb2RlLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4NUIvKiBbICovKSB7XG4gICAgdGVybWluYXRvciA9IDB4NUQ7LyogXSAqL1xuICAgIGlzTWFwcGluZyA9IGZhbHNlO1xuICAgIF9yZXN1bHQgPSBbXTtcbiAgfSBlbHNlIGlmIChjaCA9PT0gMHg3Qi8qIHsgKi8pIHtcbiAgICB0ZXJtaW5hdG9yID0gMHg3RDsvKiB9ICovXG4gICAgaXNNYXBwaW5nID0gdHJ1ZTtcbiAgICBfcmVzdWx0ID0ge307XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gX3Jlc3VsdDtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICB3aGlsZSAoY2ggIT09IDApIHtcbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoY2ggPT09IHRlcm1pbmF0b3IpIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgc3RhdGUuYW5jaG9yID0gX2FuY2hvcjtcbiAgICAgIHN0YXRlLmtpbmQgPSBpc01hcHBpbmcgPyAnbWFwcGluZycgOiAnc2VxdWVuY2UnO1xuICAgICAgc3RhdGUucmVzdWx0ID0gX3Jlc3VsdDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIXJlYWROZXh0KSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbWlzc2VkIGNvbW1hIGJldHdlZW4gZmxvdyBjb2xsZWN0aW9uIGVudHJpZXMnKTtcbiAgICB9IGVsc2UgaWYgKGNoID09PSAweDJDLyogLCAqLykge1xuICAgICAgLy8gXCJmbG93IGNvbGxlY3Rpb24gZW50cmllcyBjYW4gbmV2ZXIgYmUgY29tcGxldGVseSBlbXB0eVwiLCBhcyBwZXIgWUFNTCAxLjIsIHNlY3Rpb24gNy40XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCBcImV4cGVjdGVkIHRoZSBub2RlIGNvbnRlbnQsIGJ1dCBmb3VuZCAnLCdcIik7XG4gICAgfVxuXG4gICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgaXNQYWlyID0gaXNFeHBsaWNpdFBhaXIgPSBmYWxzZTtcblxuICAgIGlmIChjaCA9PT0gMHgzRi8qID8gKi8pIHtcbiAgICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpKSB7XG4gICAgICAgIGlzUGFpciA9IGlzRXhwbGljaXRQYWlyID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgbm9kZUluZGVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2xpbmUgPSBzdGF0ZS5saW5lOyAvLyBTYXZlIHRoZSBjdXJyZW50IGxpbmUuXG4gICAgX2xpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICBfcG9zID0gc3RhdGUucG9zaXRpb247XG4gICAgY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfRkxPV19JTiwgZmFsc2UsIHRydWUpO1xuICAgIGtleVRhZyA9IHN0YXRlLnRhZztcbiAgICBrZXlOb2RlID0gc3RhdGUucmVzdWx0O1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmICgoaXNFeHBsaWNpdFBhaXIgfHwgc3RhdGUubGluZSA9PT0gX2xpbmUpICYmIGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgaXNQYWlyID0gdHJ1ZTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuICAgICAgY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfRkxPV19JTiwgZmFsc2UsIHRydWUpO1xuICAgICAgdmFsdWVOb2RlID0gc3RhdGUucmVzdWx0O1xuICAgIH1cblxuICAgIGlmIChpc01hcHBpbmcpIHtcbiAgICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9saW5lLCBfbGluZVN0YXJ0LCBfcG9zKTtcbiAgICB9IGVsc2UgaWYgKGlzUGFpcikge1xuICAgICAgX3Jlc3VsdC5wdXNoKHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIG51bGwsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9saW5lLCBfbGluZVN0YXJ0LCBfcG9zKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9yZXN1bHQucHVzaChrZXlOb2RlKTtcbiAgICB9XG5cbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoY2ggPT09IDB4MkMvKiAsICovKSB7XG4gICAgICByZWFkTmV4dCA9IHRydWU7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYWROZXh0ID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgZmxvdyBjb2xsZWN0aW9uJyk7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja1NjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2FwdHVyZVN0YXJ0LFxuICAgICAgZm9sZGluZyxcbiAgICAgIGNob21waW5nICAgICAgID0gQ0hPTVBJTkdfQ0xJUCxcbiAgICAgIGRpZFJlYWRDb250ZW50ID0gZmFsc2UsXG4gICAgICBkZXRlY3RlZEluZGVudCA9IGZhbHNlLFxuICAgICAgdGV4dEluZGVudCAgICAgPSBub2RlSW5kZW50LFxuICAgICAgZW1wdHlMaW5lcyAgICAgPSAwLFxuICAgICAgYXRNb3JlSW5kZW50ZWQgPSBmYWxzZSxcbiAgICAgIHRtcCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoID09PSAweDdDLyogfCAqLykge1xuICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChjaCA9PT0gMHgzRS8qID4gKi8pIHtcbiAgICBmb2xkaW5nID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmIChjaCA9PT0gMHgyQi8qICsgKi8gfHwgY2ggPT09IDB4MkQvKiAtICovKSB7XG4gICAgICBpZiAoQ0hPTVBJTkdfQ0xJUCA9PT0gY2hvbXBpbmcpIHtcbiAgICAgICAgY2hvbXBpbmcgPSAoY2ggPT09IDB4MkIvKiArICovKSA/IENIT01QSU5HX0tFRVAgOiBDSE9NUElOR19TVFJJUDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdyZXBlYXQgb2YgYSBjaG9tcGluZyBtb2RlIGlkZW50aWZpZXInKTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoKHRtcCA9IGZyb21EZWNpbWFsQ29kZShjaCkpID49IDApIHtcbiAgICAgIGlmICh0bXAgPT09IDApIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2JhZCBleHBsaWNpdCBpbmRlbnRhdGlvbiB3aWR0aCBvZiBhIGJsb2NrIHNjYWxhcjsgaXQgY2Fubm90IGJlIGxlc3MgdGhhbiBvbmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoIWRldGVjdGVkSW5kZW50KSB7XG4gICAgICAgIHRleHRJbmRlbnQgPSBub2RlSW5kZW50ICsgdG1wIC0gMTtcbiAgICAgICAgZGV0ZWN0ZWRJbmRlbnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3JlcGVhdCBvZiBhbiBpbmRlbnRhdGlvbiB3aWR0aCBpZGVudGlmaWVyJyk7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgIGRvIHsgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pOyB9XG4gICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSk7XG5cbiAgICBpZiAoY2ggPT09IDB4MjMvKiAjICovKSB7XG4gICAgICBkbyB7IGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTsgfVxuICAgICAgd2hpbGUgKCFpc19FT0woY2gpICYmIChjaCAhPT0gMCkpO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIHJlYWRMaW5lQnJlYWsoc3RhdGUpO1xuICAgIHN0YXRlLmxpbmVJbmRlbnQgPSAwO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIHdoaWxlICgoIWRldGVjdGVkSW5kZW50IHx8IHN0YXRlLmxpbmVJbmRlbnQgPCB0ZXh0SW5kZW50KSAmJlxuICAgICAgICAgICAoY2ggPT09IDB4MjAvKiBTcGFjZSAqLykpIHtcbiAgICAgIHN0YXRlLmxpbmVJbmRlbnQrKztcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoIWRldGVjdGVkSW5kZW50ICYmIHN0YXRlLmxpbmVJbmRlbnQgPiB0ZXh0SW5kZW50KSB7XG4gICAgICB0ZXh0SW5kZW50ID0gc3RhdGUubGluZUluZGVudDtcbiAgICB9XG5cbiAgICBpZiAoaXNfRU9MKGNoKSkge1xuICAgICAgZW1wdHlMaW5lcysrO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRW5kIG9mIHRoZSBzY2FsYXIuXG4gICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCB0ZXh0SW5kZW50KSB7XG5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGNob21waW5nLlxuICAgICAgaWYgKGNob21waW5nID09PSBDSE9NUElOR19LRUVQKSB7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBkaWRSZWFkQ29udGVudCA/IDEgKyBlbXB0eUxpbmVzIDogZW1wdHlMaW5lcyk7XG4gICAgICB9IGVsc2UgaWYgKGNob21waW5nID09PSBDSE9NUElOR19DTElQKSB7XG4gICAgICAgIGlmIChkaWRSZWFkQ29udGVudCkgeyAvLyBpLmUuIG9ubHkgaWYgdGhlIHNjYWxhciBpcyBub3QgZW1wdHkuXG4gICAgICAgICAgc3RhdGUucmVzdWx0ICs9ICdcXG4nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEJyZWFrIHRoaXMgYHdoaWxlYCBjeWNsZSBhbmQgZ28gdG8gdGhlIGZ1bmNpdG9uJ3MgZXBpbG9ndWUuXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBGb2xkZWQgc3R5bGU6IHVzZSBmYW5jeSBydWxlcyB0byBoYW5kbGUgbGluZSBicmVha3MuXG4gICAgaWYgKGZvbGRpbmcpIHtcblxuICAgICAgLy8gTGluZXMgc3RhcnRpbmcgd2l0aCB3aGl0ZSBzcGFjZSBjaGFyYWN0ZXJzIChtb3JlLWluZGVudGVkIGxpbmVzKSBhcmUgbm90IGZvbGRlZC5cbiAgICAgIGlmIChpc19XSElURV9TUEFDRShjaCkpIHtcbiAgICAgICAgYXRNb3JlSW5kZW50ZWQgPSB0cnVlO1xuICAgICAgICAvLyBleGNlcHQgZm9yIHRoZSBmaXJzdCBjb250ZW50IGxpbmUgKGNmLiBFeGFtcGxlIDguMSlcbiAgICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGRpZFJlYWRDb250ZW50ID8gMSArIGVtcHR5TGluZXMgOiBlbXB0eUxpbmVzKTtcblxuICAgICAgLy8gRW5kIG9mIG1vcmUtaW5kZW50ZWQgYmxvY2suXG4gICAgICB9IGVsc2UgaWYgKGF0TW9yZUluZGVudGVkKSB7XG4gICAgICAgIGF0TW9yZUluZGVudGVkID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBlbXB0eUxpbmVzICsgMSk7XG5cbiAgICAgIC8vIEp1c3Qgb25lIGxpbmUgYnJlYWsgLSBwZXJjZWl2ZSBhcyB0aGUgc2FtZSBsaW5lLlxuICAgICAgfSBlbHNlIGlmIChlbXB0eUxpbmVzID09PSAwKSB7XG4gICAgICAgIGlmIChkaWRSZWFkQ29udGVudCkgeyAvLyBpLmUuIG9ubHkgaWYgd2UgaGF2ZSBhbHJlYWR5IHJlYWQgc29tZSBzY2FsYXIgY29udGVudC5cbiAgICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gJyAnO1xuICAgICAgICB9XG5cbiAgICAgIC8vIFNldmVyYWwgbGluZSBicmVha3MgLSBwZXJjZWl2ZSBhcyBkaWZmZXJlbnQgbGluZXMuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgZW1wdHlMaW5lcyk7XG4gICAgICB9XG5cbiAgICAvLyBMaXRlcmFsIHN0eWxlOiBqdXN0IGFkZCBleGFjdCBudW1iZXIgb2YgbGluZSBicmVha3MgYmV0d2VlbiBjb250ZW50IGxpbmVzLlxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBLZWVwIGFsbCBsaW5lIGJyZWFrcyBleGNlcHQgdGhlIGhlYWRlciBsaW5lIGJyZWFrLlxuICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGRpZFJlYWRDb250ZW50ID8gMSArIGVtcHR5TGluZXMgOiBlbXB0eUxpbmVzKTtcbiAgICB9XG5cbiAgICBkaWRSZWFkQ29udGVudCA9IHRydWU7XG4gICAgZGV0ZWN0ZWRJbmRlbnQgPSB0cnVlO1xuICAgIGVtcHR5TGluZXMgPSAwO1xuICAgIGNhcHR1cmVTdGFydCA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gICAgd2hpbGUgKCFpc19FT0woY2gpICYmIChjaCAhPT0gMCkpIHtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgZmFsc2UpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja1NlcXVlbmNlKHN0YXRlLCBub2RlSW5kZW50KSB7XG4gIHZhciBfbGluZSxcbiAgICAgIF90YWcgICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9hbmNob3IgICA9IHN0YXRlLmFuY2hvcixcbiAgICAgIF9yZXN1bHQgICA9IFtdLFxuICAgICAgZm9sbG93aW5nLFxuICAgICAgZGV0ZWN0ZWQgID0gZmFsc2UsXG4gICAgICBjaDtcblxuICAvLyB0aGVyZSBpcyBhIGxlYWRpbmcgdGFiIGJlZm9yZSB0aGlzIHRva2VuLCBzbyBpdCBjYW4ndCBiZSBhIGJsb2NrIHNlcXVlbmNlL21hcHBpbmc7XG4gIC8vIGl0IGNhbiBzdGlsbCBiZSBmbG93IHNlcXVlbmNlL21hcHBpbmcgb3IgYSBzY2FsYXJcbiAgaWYgKHN0YXRlLmZpcnN0VGFiSW5MaW5lICE9PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IF9yZXN1bHQ7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGlmIChzdGF0ZS5maXJzdFRhYkluTGluZSAhPT0gLTEpIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uID0gc3RhdGUuZmlyc3RUYWJJbkxpbmU7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFiIGNoYXJhY3RlcnMgbXVzdCBub3QgYmUgdXNlZCBpbiBpbmRlbnRhdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChjaCAhPT0gMHgyRC8qIC0gKi8pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgIGlmICghaXNfV1NfT1JfRU9MKGZvbGxvd2luZykpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGRldGVjdGVkID0gdHJ1ZTtcbiAgICBzdGF0ZS5wb3NpdGlvbisrO1xuXG4gICAgaWYgKHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKSkge1xuICAgICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPD0gbm9kZUluZGVudCkge1xuICAgICAgICBfcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9saW5lID0gc3RhdGUubGluZTtcbiAgICBjb21wb3NlTm9kZShzdGF0ZSwgbm9kZUluZGVudCwgQ09OVEVYVF9CTE9DS19JTiwgZmFsc2UsIHRydWUpO1xuICAgIF9yZXN1bHQucHVzaChzdGF0ZS5yZXN1bHQpO1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoKHN0YXRlLmxpbmUgPT09IF9saW5lIHx8IHN0YXRlLmxpbmVJbmRlbnQgPiBub2RlSW5kZW50KSAmJiAoY2ggIT09IDApKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYmFkIGluZGVudGF0aW9uIG9mIGEgc2VxdWVuY2UgZW50cnknKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBub2RlSW5kZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZGV0ZWN0ZWQpIHtcbiAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgc3RhdGUua2luZCA9ICdzZXF1ZW5jZSc7XG4gICAgc3RhdGUucmVzdWx0ID0gX3Jlc3VsdDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja01hcHBpbmcoc3RhdGUsIG5vZGVJbmRlbnQsIGZsb3dJbmRlbnQpIHtcbiAgdmFyIGZvbGxvd2luZyxcbiAgICAgIGFsbG93Q29tcGFjdCxcbiAgICAgIF9saW5lLFxuICAgICAgX2tleUxpbmUsXG4gICAgICBfa2V5TGluZVN0YXJ0LFxuICAgICAgX2tleVBvcyxcbiAgICAgIF90YWcgICAgICAgICAgPSBzdGF0ZS50YWcsXG4gICAgICBfYW5jaG9yICAgICAgID0gc3RhdGUuYW5jaG9yLFxuICAgICAgX3Jlc3VsdCAgICAgICA9IHt9LFxuICAgICAgb3ZlcnJpZGFibGVLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIGtleVRhZyAgICAgICAgPSBudWxsLFxuICAgICAga2V5Tm9kZSAgICAgICA9IG51bGwsXG4gICAgICB2YWx1ZU5vZGUgICAgID0gbnVsbCxcbiAgICAgIGF0RXhwbGljaXRLZXkgPSBmYWxzZSxcbiAgICAgIGRldGVjdGVkICAgICAgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIC8vIHRoZXJlIGlzIGEgbGVhZGluZyB0YWIgYmVmb3JlIHRoaXMgdG9rZW4sIHNvIGl0IGNhbid0IGJlIGEgYmxvY2sgc2VxdWVuY2UvbWFwcGluZztcbiAgLy8gaXQgY2FuIHN0aWxsIGJlIGZsb3cgc2VxdWVuY2UvbWFwcGluZyBvciBhIHNjYWxhclxuICBpZiAoc3RhdGUuZmlyc3RUYWJJbkxpbmUgIT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gX3Jlc3VsdDtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgaWYgKCFhdEV4cGxpY2l0S2V5ICYmIHN0YXRlLmZpcnN0VGFiSW5MaW5lICE9PSAtMSkge1xuICAgICAgc3RhdGUucG9zaXRpb24gPSBzdGF0ZS5maXJzdFRhYkluTGluZTtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWIgY2hhcmFjdGVycyBtdXN0IG5vdCBiZSB1c2VkIGluIGluZGVudGF0aW9uJyk7XG4gICAgfVxuXG4gICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuICAgIF9saW5lID0gc3RhdGUubGluZTsgLy8gU2F2ZSB0aGUgY3VycmVudCBsaW5lLlxuXG4gICAgLy9cbiAgICAvLyBFeHBsaWNpdCBub3RhdGlvbiBjYXNlLiBUaGVyZSBhcmUgdHdvIHNlcGFyYXRlIGJsb2NrczpcbiAgICAvLyBmaXJzdCBmb3IgdGhlIGtleSAoZGVub3RlZCBieSBcIj9cIikgYW5kIHNlY29uZCBmb3IgdGhlIHZhbHVlIChkZW5vdGVkIGJ5IFwiOlwiKVxuICAgIC8vXG4gICAgaWYgKChjaCA9PT0gMHgzRi8qID8gKi8gfHwgY2ggPT09IDB4M0EvKiA6ICovKSAmJiBpc19XU19PUl9FT0woZm9sbG93aW5nKSkge1xuXG4gICAgICBpZiAoY2ggPT09IDB4M0YvKiA/ICovKSB7XG4gICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAgc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIG51bGwsIF9rZXlMaW5lLCBfa2V5TGluZVN0YXJ0LCBfa2V5UG9zKTtcbiAgICAgICAgICBrZXlUYWcgPSBrZXlOb2RlID0gdmFsdWVOb2RlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRldGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgYXRFeHBsaWNpdEtleSA9IHRydWU7XG4gICAgICAgIGFsbG93Q29tcGFjdCA9IHRydWU7XG5cbiAgICAgIH0gZWxzZSBpZiAoYXRFeHBsaWNpdEtleSkge1xuICAgICAgICAvLyBpLmUuIDB4M0EvKiA6ICovID09PSBjaGFyYWN0ZXIgYWZ0ZXIgdGhlIGV4cGxpY2l0IGtleS5cbiAgICAgICAgYXRFeHBsaWNpdEtleSA9IGZhbHNlO1xuICAgICAgICBhbGxvd0NvbXBhY3QgPSB0cnVlO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaW5jb21wbGV0ZSBleHBsaWNpdCBtYXBwaW5nIHBhaXI7IGEga2V5IG5vZGUgaXMgbWlzc2VkOyBvciBmb2xsb3dlZCBieSBhIG5vbi10YWJ1bGF0ZWQgZW1wdHkgbGluZScpO1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS5wb3NpdGlvbiArPSAxO1xuICAgICAgY2ggPSBmb2xsb3dpbmc7XG5cbiAgICAvL1xuICAgIC8vIEltcGxpY2l0IG5vdGF0aW9uIGNhc2UuIEZsb3ctc3R5bGUgbm9kZSBhcyB0aGUga2V5IGZpcnN0LCB0aGVuIFwiOlwiLCBhbmQgdGhlIHZhbHVlLlxuICAgIC8vXG4gICAgfSBlbHNlIHtcbiAgICAgIF9rZXlMaW5lID0gc3RhdGUubGluZTtcbiAgICAgIF9rZXlMaW5lU3RhcnQgPSBzdGF0ZS5saW5lU3RhcnQ7XG4gICAgICBfa2V5UG9zID0gc3RhdGUucG9zaXRpb247XG5cbiAgICAgIGlmICghY29tcG9zZU5vZGUoc3RhdGUsIGZsb3dJbmRlbnQsIENPTlRFWFRfRkxPV19PVVQsIGZhbHNlLCB0cnVlKSkge1xuICAgICAgICAvLyBOZWl0aGVyIGltcGxpY2l0IG5vciBleHBsaWNpdCBub3RhdGlvbi5cbiAgICAgICAgLy8gUmVhZGluZyBpcyBkb25lLiBHbyB0byB0aGUgZXBpbG9ndWUuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUubGluZSA9PT0gX2xpbmUpIHtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgICAgIGlmICghaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2Egd2hpdGVzcGFjZSBjaGFyYWN0ZXIgaXMgZXhwZWN0ZWQgYWZ0ZXIgdGhlIGtleS12YWx1ZSBzZXBhcmF0b3Igd2l0aGluIGEgYmxvY2sgbWFwcGluZycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAgICBzdG9yZU1hcHBpbmdQYWlyKHN0YXRlLCBfcmVzdWx0LCBvdmVycmlkYWJsZUtleXMsIGtleVRhZywga2V5Tm9kZSwgbnVsbCwgX2tleUxpbmUsIF9rZXlMaW5lU3RhcnQsIF9rZXlQb3MpO1xuICAgICAgICAgICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGV0ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIGF0RXhwbGljaXRLZXkgPSBmYWxzZTtcbiAgICAgICAgICBhbGxvd0NvbXBhY3QgPSBmYWxzZTtcbiAgICAgICAgICBrZXlUYWcgPSBzdGF0ZS50YWc7XG4gICAgICAgICAga2V5Tm9kZSA9IHN0YXRlLnJlc3VsdDtcblxuICAgICAgICB9IGVsc2UgaWYgKGRldGVjdGVkKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2NhbiBub3QgcmVhZCBhbiBpbXBsaWNpdCBtYXBwaW5nIHBhaXI7IGEgY29sb24gaXMgbWlzc2VkJyk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgICAgICAgcmV0dXJuIHRydWU7IC8vIEtlZXAgdGhlIHJlc3VsdCBvZiBgY29tcG9zZU5vZGVgLlxuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSBpZiAoZGV0ZWN0ZWQpIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2NhbiBub3QgcmVhZCBhIGJsb2NrIG1hcHBpbmcgZW50cnk7IGEgbXVsdGlsaW5lIGtleSBtYXkgbm90IGJlIGFuIGltcGxpY2l0IGtleScpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgICBzdGF0ZS5hbmNob3IgPSBfYW5jaG9yO1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gS2VlcCB0aGUgcmVzdWx0IG9mIGBjb21wb3NlTm9kZWAuXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBDb21tb24gcmVhZGluZyBjb2RlIGZvciBib3RoIGV4cGxpY2l0IGFuZCBpbXBsaWNpdCBub3RhdGlvbnMuXG4gICAgLy9cbiAgICBpZiAoc3RhdGUubGluZSA9PT0gX2xpbmUgfHwgc3RhdGUubGluZUluZGVudCA+IG5vZGVJbmRlbnQpIHtcbiAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgIF9rZXlMaW5lID0gc3RhdGUubGluZTtcbiAgICAgICAgX2tleUxpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgICAgX2tleVBvcyA9IHN0YXRlLnBvc2l0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfQkxPQ0tfT1VULCB0cnVlLCBhbGxvd0NvbXBhY3QpKSB7XG4gICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAga2V5Tm9kZSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZU5vZGUgPSBzdGF0ZS5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9rZXlMaW5lLCBfa2V5TGluZVN0YXJ0LCBfa2V5UG9zKTtcbiAgICAgICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKChzdGF0ZS5saW5lID09PSBfbGluZSB8fCBzdGF0ZS5saW5lSW5kZW50ID4gbm9kZUluZGVudCkgJiYgKGNoICE9PSAwKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2JhZCBpbmRlbnRhdGlvbiBvZiBhIG1hcHBpbmcgZW50cnknKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBub2RlSW5kZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvL1xuICAvLyBFcGlsb2d1ZS5cbiAgLy9cblxuICAvLyBTcGVjaWFsIGNhc2U6IGxhc3QgbWFwcGluZydzIG5vZGUgY29udGFpbnMgb25seSB0aGUga2V5IGluIGV4cGxpY2l0IG5vdGF0aW9uLlxuICBpZiAoYXRFeHBsaWNpdEtleSkge1xuICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCBudWxsLCBfa2V5TGluZSwgX2tleUxpbmVTdGFydCwgX2tleVBvcyk7XG4gIH1cblxuICAvLyBFeHBvc2UgdGhlIHJlc3VsdGluZyBtYXBwaW5nLlxuICBpZiAoZGV0ZWN0ZWQpIHtcbiAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgc3RhdGUua2luZCA9ICdtYXBwaW5nJztcbiAgICBzdGF0ZS5yZXN1bHQgPSBfcmVzdWx0O1xuICB9XG5cbiAgcmV0dXJuIGRldGVjdGVkO1xufVxuXG5mdW5jdGlvbiByZWFkVGFnUHJvcGVydHkoc3RhdGUpIHtcbiAgdmFyIF9wb3NpdGlvbixcbiAgICAgIGlzVmVyYmF0aW0gPSBmYWxzZSxcbiAgICAgIGlzTmFtZWQgICAgPSBmYWxzZSxcbiAgICAgIHRhZ0hhbmRsZSxcbiAgICAgIHRhZ05hbWUsXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyMS8qICEgKi8pIHJldHVybiBmYWxzZTtcblxuICBpZiAoc3RhdGUudGFnICE9PSBudWxsKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2R1cGxpY2F0aW9uIG9mIGEgdGFnIHByb3BlcnR5Jyk7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoID09PSAweDNDLyogPCAqLykge1xuICAgIGlzVmVyYmF0aW0gPSB0cnVlO1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICB9IGVsc2UgaWYgKGNoID09PSAweDIxLyogISAqLykge1xuICAgIGlzTmFtZWQgPSB0cnVlO1xuICAgIHRhZ0hhbmRsZSA9ICchISc7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gIH0gZWxzZSB7XG4gICAgdGFnSGFuZGxlID0gJyEnO1xuICB9XG5cbiAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgaWYgKGlzVmVyYmF0aW0pIHtcbiAgICBkbyB7IGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTsgfVxuICAgIHdoaWxlIChjaCAhPT0gMCAmJiBjaCAhPT0gMHgzRS8qID4gKi8pO1xuXG4gICAgaWYgKHN0YXRlLnBvc2l0aW9uIDwgc3RhdGUubGVuZ3RoKSB7XG4gICAgICB0YWdOYW1lID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmV4cGVjdGVkIGVuZCBvZiB0aGUgc3RyZWFtIHdpdGhpbiBhIHZlcmJhdGltIHRhZycpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkpIHtcblxuICAgICAgaWYgKGNoID09PSAweDIxLyogISAqLykge1xuICAgICAgICBpZiAoIWlzTmFtZWQpIHtcbiAgICAgICAgICB0YWdIYW5kbGUgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24gLSAxLCBzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgICAgICAgaWYgKCFQQVRURVJOX1RBR19IQU5ETEUudGVzdCh0YWdIYW5kbGUpKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbmFtZWQgdGFnIGhhbmRsZSBjYW5ub3QgY29udGFpbiBzdWNoIGNoYXJhY3RlcnMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpc05hbWVkID0gdHJ1ZTtcbiAgICAgICAgICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbiArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3RhZyBzdWZmaXggY2Fubm90IGNvbnRhaW4gZXhjbGFtYXRpb24gbWFya3MnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGFnTmFtZSA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pO1xuXG4gICAgaWYgKFBBVFRFUk5fRkxPV19JTkRJQ0FUT1JTLnRlc3QodGFnTmFtZSkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgc3VmZml4IGNhbm5vdCBjb250YWluIGZsb3cgaW5kaWNhdG9yIGNoYXJhY3RlcnMnKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGFnTmFtZSAmJiAhUEFUVEVSTl9UQUdfVVJJLnRlc3QodGFnTmFtZSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFnIG5hbWUgY2Fubm90IGNvbnRhaW4gc3VjaCBjaGFyYWN0ZXJzOiAnICsgdGFnTmFtZSk7XG4gIH1cblxuICB0cnkge1xuICAgIHRhZ05hbWUgPSBkZWNvZGVVUklDb21wb25lbnQodGFnTmFtZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgbmFtZSBpcyBtYWxmb3JtZWQ6ICcgKyB0YWdOYW1lKTtcbiAgfVxuXG4gIGlmIChpc1ZlcmJhdGltKSB7XG4gICAgc3RhdGUudGFnID0gdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0YXRlLnRhZ01hcCwgdGFnSGFuZGxlKSkge1xuICAgIHN0YXRlLnRhZyA9IHN0YXRlLnRhZ01hcFt0YWdIYW5kbGVdICsgdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKHRhZ0hhbmRsZSA9PT0gJyEnKSB7XG4gICAgc3RhdGUudGFnID0gJyEnICsgdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKHRhZ0hhbmRsZSA9PT0gJyEhJykge1xuICAgIHN0YXRlLnRhZyA9ICd0YWc6eWFtbC5vcmcsMjAwMjonICsgdGFnTmFtZTtcblxuICB9IGVsc2Uge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmRlY2xhcmVkIHRhZyBoYW5kbGUgXCInICsgdGFnSGFuZGxlICsgJ1wiJyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVhZEFuY2hvclByb3BlcnR5KHN0YXRlKSB7XG4gIHZhciBfcG9zaXRpb24sXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyNi8qICYgKi8pIHJldHVybiBmYWxzZTtcblxuICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2R1cGxpY2F0aW9uIG9mIGFuIGFuY2hvciBwcm9wZXJ0eScpO1xuICB9XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkgJiYgIWlzX0ZMT1dfSU5ESUNBVE9SKGNoKSkge1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5wb3NpdGlvbiA9PT0gX3Bvc2l0aW9uKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ25hbWUgb2YgYW4gYW5jaG9yIG5vZGUgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXInKTtcbiAgfVxuXG4gIHN0YXRlLmFuY2hvciA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVhZEFsaWFzKHN0YXRlKSB7XG4gIHZhciBfcG9zaXRpb24sIGFsaWFzLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggIT09IDB4MkEvKiAqICovKSByZXR1cm4gZmFsc2U7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkgJiYgIWlzX0ZMT1dfSU5ESUNBVE9SKGNoKSkge1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5wb3NpdGlvbiA9PT0gX3Bvc2l0aW9uKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ25hbWUgb2YgYW4gYWxpYXMgbm9kZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGNoYXJhY3RlcicpO1xuICB9XG5cbiAgYWxpYXMgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoIV9oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0YXRlLmFuY2hvck1hcCwgYWxpYXMpKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuaWRlbnRpZmllZCBhbGlhcyBcIicgKyBhbGlhcyArICdcIicpO1xuICB9XG5cbiAgc3RhdGUucmVzdWx0ID0gc3RhdGUuYW5jaG9yTWFwW2FsaWFzXTtcbiAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29tcG9zZU5vZGUoc3RhdGUsIHBhcmVudEluZGVudCwgbm9kZUNvbnRleHQsIGFsbG93VG9TZWVrLCBhbGxvd0NvbXBhY3QpIHtcbiAgdmFyIGFsbG93QmxvY2tTdHlsZXMsXG4gICAgICBhbGxvd0Jsb2NrU2NhbGFycyxcbiAgICAgIGFsbG93QmxvY2tDb2xsZWN0aW9ucyxcbiAgICAgIGluZGVudFN0YXR1cyA9IDEsIC8vIDE6IHRoaXM+cGFyZW50LCAwOiB0aGlzPXBhcmVudCwgLTE6IHRoaXM8cGFyZW50XG4gICAgICBhdE5ld0xpbmUgID0gZmFsc2UsXG4gICAgICBoYXNDb250ZW50ID0gZmFsc2UsXG4gICAgICB0eXBlSW5kZXgsXG4gICAgICB0eXBlUXVhbnRpdHksXG4gICAgICB0eXBlTGlzdCxcbiAgICAgIHR5cGUsXG4gICAgICBmbG93SW5kZW50LFxuICAgICAgYmxvY2tJbmRlbnQ7XG5cbiAgaWYgKHN0YXRlLmxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgc3RhdGUubGlzdGVuZXIoJ29wZW4nLCBzdGF0ZSk7XG4gIH1cblxuICBzdGF0ZS50YWcgICAgPSBudWxsO1xuICBzdGF0ZS5hbmNob3IgPSBudWxsO1xuICBzdGF0ZS5raW5kICAgPSBudWxsO1xuICBzdGF0ZS5yZXN1bHQgPSBudWxsO1xuXG4gIGFsbG93QmxvY2tTdHlsZXMgPSBhbGxvd0Jsb2NrU2NhbGFycyA9IGFsbG93QmxvY2tDb2xsZWN0aW9ucyA9XG4gICAgQ09OVEVYVF9CTE9DS19PVVQgPT09IG5vZGVDb250ZXh0IHx8XG4gICAgQ09OVEVYVF9CTE9DS19JTiAgPT09IG5vZGVDb250ZXh0O1xuXG4gIGlmIChhbGxvd1RvU2Vlaykge1xuICAgIGlmIChza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCAtMSkpIHtcbiAgICAgIGF0TmV3TGluZSA9IHRydWU7XG5cbiAgICAgIGlmIChzdGF0ZS5saW5lSW5kZW50ID4gcGFyZW50SW5kZW50KSB7XG4gICAgICAgIGluZGVudFN0YXR1cyA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPT09IHBhcmVudEluZGVudCkge1xuICAgICAgICBpbmRlbnRTdGF0dXMgPSAwO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5saW5lSW5kZW50IDwgcGFyZW50SW5kZW50KSB7XG4gICAgICAgIGluZGVudFN0YXR1cyA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChpbmRlbnRTdGF0dXMgPT09IDEpIHtcbiAgICB3aGlsZSAocmVhZFRhZ1Byb3BlcnR5KHN0YXRlKSB8fCByZWFkQW5jaG9yUHJvcGVydHkoc3RhdGUpKSB7XG4gICAgICBpZiAoc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpKSB7XG4gICAgICAgIGF0TmV3TGluZSA9IHRydWU7XG4gICAgICAgIGFsbG93QmxvY2tDb2xsZWN0aW9ucyA9IGFsbG93QmxvY2tTdHlsZXM7XG5cbiAgICAgICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPiBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgICBpbmRlbnRTdGF0dXMgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPT09IHBhcmVudEluZGVudCkge1xuICAgICAgICAgIGluZGVudFN0YXR1cyA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUubGluZUluZGVudCA8IHBhcmVudEluZGVudCkge1xuICAgICAgICAgIGluZGVudFN0YXR1cyA9IC0xO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoYWxsb3dCbG9ja0NvbGxlY3Rpb25zKSB7XG4gICAgYWxsb3dCbG9ja0NvbGxlY3Rpb25zID0gYXROZXdMaW5lIHx8IGFsbG93Q29tcGFjdDtcbiAgfVxuXG4gIGlmIChpbmRlbnRTdGF0dXMgPT09IDEgfHwgQ09OVEVYVF9CTE9DS19PVVQgPT09IG5vZGVDb250ZXh0KSB7XG4gICAgaWYgKENPTlRFWFRfRkxPV19JTiA9PT0gbm9kZUNvbnRleHQgfHwgQ09OVEVYVF9GTE9XX09VVCA9PT0gbm9kZUNvbnRleHQpIHtcbiAgICAgIGZsb3dJbmRlbnQgPSBwYXJlbnRJbmRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb3dJbmRlbnQgPSBwYXJlbnRJbmRlbnQgKyAxO1xuICAgIH1cblxuICAgIGJsb2NrSW5kZW50ID0gc3RhdGUucG9zaXRpb24gLSBzdGF0ZS5saW5lU3RhcnQ7XG5cbiAgICBpZiAoaW5kZW50U3RhdHVzID09PSAxKSB7XG4gICAgICBpZiAoYWxsb3dCbG9ja0NvbGxlY3Rpb25zICYmXG4gICAgICAgICAgKHJlYWRCbG9ja1NlcXVlbmNlKHN0YXRlLCBibG9ja0luZGVudCkgfHxcbiAgICAgICAgICAgcmVhZEJsb2NrTWFwcGluZyhzdGF0ZSwgYmxvY2tJbmRlbnQsIGZsb3dJbmRlbnQpKSB8fFxuICAgICAgICAgIHJlYWRGbG93Q29sbGVjdGlvbihzdGF0ZSwgZmxvd0luZGVudCkpIHtcbiAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoKGFsbG93QmxvY2tTY2FsYXJzICYmIHJlYWRCbG9ja1NjYWxhcihzdGF0ZSwgZmxvd0luZGVudCkpIHx8XG4gICAgICAgICAgICByZWFkU2luZ2xlUXVvdGVkU2NhbGFyKHN0YXRlLCBmbG93SW5kZW50KSB8fFxuICAgICAgICAgICAgcmVhZERvdWJsZVF1b3RlZFNjYWxhcihzdGF0ZSwgZmxvd0luZGVudCkpIHtcbiAgICAgICAgICBoYXNDb250ZW50ID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlYWRBbGlhcyhzdGF0ZSkpIHtcbiAgICAgICAgICBoYXNDb250ZW50ID0gdHJ1ZTtcblxuICAgICAgICAgIGlmIChzdGF0ZS50YWcgIT09IG51bGwgfHwgc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYWxpYXMgbm9kZSBzaG91bGQgbm90IGhhdmUgYW55IHByb3BlcnRpZXMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWFkUGxhaW5TY2FsYXIoc3RhdGUsIGZsb3dJbmRlbnQsIENPTlRFWFRfRkxPV19JTiA9PT0gbm9kZUNvbnRleHQpKSB7XG4gICAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoc3RhdGUudGFnID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdGF0ZS50YWcgPSAnPyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgICAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbmRlbnRTdGF0dXMgPT09IDApIHtcbiAgICAgIC8vIFNwZWNpYWwgY2FzZTogYmxvY2sgc2VxdWVuY2VzIGFyZSBhbGxvd2VkIHRvIGhhdmUgc2FtZSBpbmRlbnRhdGlvbiBsZXZlbCBhcyB0aGUgcGFyZW50LlxuICAgICAgLy8gaHR0cDovL3d3dy55YW1sLm9yZy9zcGVjLzEuMi9zcGVjLmh0bWwjaWQyNzk5Nzg0XG4gICAgICBoYXNDb250ZW50ID0gYWxsb3dCbG9ja0NvbGxlY3Rpb25zICYmIHJlYWRCbG9ja1NlcXVlbmNlKHN0YXRlLCBibG9ja0luZGVudCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0YXRlLnRhZyA9PT0gbnVsbCkge1xuICAgIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgIH1cblxuICB9IGVsc2UgaWYgKHN0YXRlLnRhZyA9PT0gJz8nKSB7XG4gICAgLy8gSW1wbGljaXQgcmVzb2x2aW5nIGlzIG5vdCBhbGxvd2VkIGZvciBub24tc2NhbGFyIHR5cGVzLCBhbmQgJz8nXG4gICAgLy8gbm9uLXNwZWNpZmljIHRhZyBpcyBvbmx5IGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgdG8gcGxhaW4gc2NhbGFycy5cbiAgICAvL1xuICAgIC8vIFdlIG9ubHkgbmVlZCB0byBjaGVjayBraW5kIGNvbmZvcm1pdHkgaW4gY2FzZSB1c2VyIGV4cGxpY2l0bHkgYXNzaWducyAnPydcbiAgICAvLyB0YWcsIGZvciBleGFtcGxlIGxpa2UgdGhpczogXCIhPD8+IFswXVwiXG4gICAgLy9cbiAgICBpZiAoc3RhdGUucmVzdWx0ICE9PSBudWxsICYmIHN0YXRlLmtpbmQgIT09ICdzY2FsYXInKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5hY2NlcHRhYmxlIG5vZGUga2luZCBmb3IgITw/PiB0YWc7IGl0IHNob3VsZCBiZSBcInNjYWxhclwiLCBub3QgXCInICsgc3RhdGUua2luZCArICdcIicpO1xuICAgIH1cblxuICAgIGZvciAodHlwZUluZGV4ID0gMCwgdHlwZVF1YW50aXR5ID0gc3RhdGUuaW1wbGljaXRUeXBlcy5sZW5ndGg7IHR5cGVJbmRleCA8IHR5cGVRdWFudGl0eTsgdHlwZUluZGV4ICs9IDEpIHtcbiAgICAgIHR5cGUgPSBzdGF0ZS5pbXBsaWNpdFR5cGVzW3R5cGVJbmRleF07XG5cbiAgICAgIGlmICh0eXBlLnJlc29sdmUoc3RhdGUucmVzdWx0KSkgeyAvLyBgc3RhdGUucmVzdWx0YCB1cGRhdGVkIGluIHJlc29sdmVyIGlmIG1hdGNoZWRcbiAgICAgICAgc3RhdGUucmVzdWx0ID0gdHlwZS5jb25zdHJ1Y3Qoc3RhdGUucmVzdWx0KTtcbiAgICAgICAgc3RhdGUudGFnID0gdHlwZS50YWc7XG4gICAgICAgIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICAgICAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdGUudGFnICE9PSAnIScpIHtcbiAgICBpZiAoX2hhc093blByb3BlcnR5LmNhbGwoc3RhdGUudHlwZU1hcFtzdGF0ZS5raW5kIHx8ICdmYWxsYmFjayddLCBzdGF0ZS50YWcpKSB7XG4gICAgICB0eXBlID0gc3RhdGUudHlwZU1hcFtzdGF0ZS5raW5kIHx8ICdmYWxsYmFjayddW3N0YXRlLnRhZ107XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGxvb2tpbmcgZm9yIG11bHRpIHR5cGVcbiAgICAgIHR5cGUgPSBudWxsO1xuICAgICAgdHlwZUxpc3QgPSBzdGF0ZS50eXBlTWFwLm11bHRpW3N0YXRlLmtpbmQgfHwgJ2ZhbGxiYWNrJ107XG5cbiAgICAgIGZvciAodHlwZUluZGV4ID0gMCwgdHlwZVF1YW50aXR5ID0gdHlwZUxpc3QubGVuZ3RoOyB0eXBlSW5kZXggPCB0eXBlUXVhbnRpdHk7IHR5cGVJbmRleCArPSAxKSB7XG4gICAgICAgIGlmIChzdGF0ZS50YWcuc2xpY2UoMCwgdHlwZUxpc3RbdHlwZUluZGV4XS50YWcubGVuZ3RoKSA9PT0gdHlwZUxpc3RbdHlwZUluZGV4XS50YWcpIHtcbiAgICAgICAgICB0eXBlID0gdHlwZUxpc3RbdHlwZUluZGV4XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdHlwZSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3Vua25vd24gdGFnICE8JyArIHN0YXRlLnRhZyArICc+Jyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnJlc3VsdCAhPT0gbnVsbCAmJiB0eXBlLmtpbmQgIT09IHN0YXRlLmtpbmQpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmFjY2VwdGFibGUgbm9kZSBraW5kIGZvciAhPCcgKyBzdGF0ZS50YWcgKyAnPiB0YWc7IGl0IHNob3VsZCBiZSBcIicgKyB0eXBlLmtpbmQgKyAnXCIsIG5vdCBcIicgKyBzdGF0ZS5raW5kICsgJ1wiJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0eXBlLnJlc29sdmUoc3RhdGUucmVzdWx0LCBzdGF0ZS50YWcpKSB7IC8vIGBzdGF0ZS5yZXN1bHRgIHVwZGF0ZWQgaW4gcmVzb2x2ZXIgaWYgbWF0Y2hlZFxuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2Nhbm5vdCByZXNvbHZlIGEgbm9kZSB3aXRoICE8JyArIHN0YXRlLnRhZyArICc+IGV4cGxpY2l0IHRhZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5yZXN1bHQgPSB0eXBlLmNvbnN0cnVjdChzdGF0ZS5yZXN1bHQsIHN0YXRlLnRhZyk7XG4gICAgICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS5saXN0ZW5lciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmxpc3RlbmVyKCdjbG9zZScsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4gc3RhdGUudGFnICE9PSBudWxsIHx8ICBzdGF0ZS5hbmNob3IgIT09IG51bGwgfHwgaGFzQ29udGVudDtcbn1cblxuZnVuY3Rpb24gcmVhZERvY3VtZW50KHN0YXRlKSB7XG4gIHZhciBkb2N1bWVudFN0YXJ0ID0gc3RhdGUucG9zaXRpb24sXG4gICAgICBfcG9zaXRpb24sXG4gICAgICBkaXJlY3RpdmVOYW1lLFxuICAgICAgZGlyZWN0aXZlQXJncyxcbiAgICAgIGhhc0RpcmVjdGl2ZXMgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIHN0YXRlLnZlcnNpb24gPSBudWxsO1xuICBzdGF0ZS5jaGVja0xpbmVCcmVha3MgPSBzdGF0ZS5sZWdhY3k7XG4gIHN0YXRlLnRhZ01hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHN0YXRlLmFuY2hvck1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgd2hpbGUgKChjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pKSAhPT0gMCkge1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoc3RhdGUubGluZUluZGVudCA+IDAgfHwgY2ggIT09IDB4MjUvKiAlICovKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBoYXNEaXJlY3RpdmVzID0gdHJ1ZTtcbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkpIHtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBkaXJlY3RpdmVOYW1lID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG4gICAgZGlyZWN0aXZlQXJncyA9IFtdO1xuXG4gICAgaWYgKGRpcmVjdGl2ZU5hbWUubGVuZ3RoIDwgMSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2RpcmVjdGl2ZSBuYW1lIG11c3Qgbm90IGJlIGxlc3MgdGhhbiBvbmUgY2hhcmFjdGVyIGluIGxlbmd0aCcpO1xuICAgIH1cblxuICAgIHdoaWxlIChjaCAhPT0gMCkge1xuICAgICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaCA9PT0gMHgyMy8qICMgKi8pIHtcbiAgICAgICAgZG8geyBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7IH1cbiAgICAgICAgd2hpbGUgKGNoICE9PSAwICYmICFpc19FT0woY2gpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc19FT0woY2gpKSBicmVhaztcblxuICAgICAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgICAgIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZUFyZ3MucHVzaChzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKSk7XG4gICAgfVxuXG4gICAgaWYgKGNoICE9PSAwKSByZWFkTGluZUJyZWFrKHN0YXRlKTtcblxuICAgIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbChkaXJlY3RpdmVIYW5kbGVycywgZGlyZWN0aXZlTmFtZSkpIHtcbiAgICAgIGRpcmVjdGl2ZUhhbmRsZXJzW2RpcmVjdGl2ZU5hbWVdKHN0YXRlLCBkaXJlY3RpdmVOYW1lLCBkaXJlY3RpdmVBcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3dXYXJuaW5nKHN0YXRlLCAndW5rbm93biBkb2N1bWVudCBkaXJlY3RpdmUgXCInICsgZGlyZWN0aXZlTmFtZSArICdcIicpO1xuICAgIH1cbiAgfVxuXG4gIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICBpZiAoc3RhdGUubGluZUluZGVudCA9PT0gMCAmJlxuICAgICAgc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikgICAgID09PSAweDJELyogLSAqLyAmJlxuICAgICAgc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpID09PSAweDJELyogLSAqLyAmJlxuICAgICAgc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDIpID09PSAweDJELyogLSAqLykge1xuICAgIHN0YXRlLnBvc2l0aW9uICs9IDM7XG4gICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gIH0gZWxzZSBpZiAoaGFzRGlyZWN0aXZlcykge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdkaXJlY3RpdmVzIGVuZCBtYXJrIGlzIGV4cGVjdGVkJyk7XG4gIH1cblxuICBjb21wb3NlTm9kZShzdGF0ZSwgc3RhdGUubGluZUluZGVudCAtIDEsIENPTlRFWFRfQkxPQ0tfT1VULCBmYWxzZSwgdHJ1ZSk7XG4gIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICBpZiAoc3RhdGUuY2hlY2tMaW5lQnJlYWtzICYmXG4gICAgICBQQVRURVJOX05PTl9BU0NJSV9MSU5FX0JSRUFLUy50ZXN0KHN0YXRlLmlucHV0LnNsaWNlKGRvY3VtZW50U3RhcnQsIHN0YXRlLnBvc2l0aW9uKSkpIHtcbiAgICB0aHJvd1dhcm5pbmcoc3RhdGUsICdub24tQVNDSUkgbGluZSBicmVha3MgYXJlIGludGVycHJldGVkIGFzIGNvbnRlbnQnKTtcbiAgfVxuXG4gIHN0YXRlLmRvY3VtZW50cy5wdXNoKHN0YXRlLnJlc3VsdCk7XG5cbiAgaWYgKHN0YXRlLnBvc2l0aW9uID09PSBzdGF0ZS5saW5lU3RhcnQgJiYgdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSkge1xuXG4gICAgaWYgKHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pID09PSAweDJFLyogLiAqLykge1xuICAgICAgc3RhdGUucG9zaXRpb24gKz0gMztcbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHN0YXRlLnBvc2l0aW9uIDwgKHN0YXRlLmxlbmd0aCAtIDEpKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2VuZCBvZiB0aGUgc3RyZWFtIG9yIGEgZG9jdW1lbnQgc2VwYXJhdG9yIGlzIGV4cGVjdGVkJyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cblxuZnVuY3Rpb24gbG9hZERvY3VtZW50cyhpbnB1dCwgb3B0aW9ucykge1xuICBpbnB1dCA9IFN0cmluZyhpbnB1dCk7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGlmIChpbnB1dC5sZW5ndGggIT09IDApIHtcblxuICAgIC8vIEFkZCB0YWlsaW5nIGBcXG5gIGlmIG5vdCBleGlzdHNcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChpbnB1dC5sZW5ndGggLSAxKSAhPT0gMHgwQS8qIExGICovICYmXG4gICAgICAgIGlucHV0LmNoYXJDb2RlQXQoaW5wdXQubGVuZ3RoIC0gMSkgIT09IDB4MEQvKiBDUiAqLykge1xuICAgICAgaW5wdXQgKz0gJ1xcbic7XG4gICAgfVxuXG4gICAgLy8gU3RyaXAgQk9NXG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgICAgaW5wdXQgPSBpbnB1dC5zbGljZSgxKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc3RhdGUgPSBuZXcgU3RhdGUoaW5wdXQsIG9wdGlvbnMpO1xuXG4gIHZhciBudWxscG9zID0gaW5wdXQuaW5kZXhPZignXFwwJyk7XG5cbiAgaWYgKG51bGxwb3MgIT09IC0xKSB7XG4gICAgc3RhdGUucG9zaXRpb24gPSBudWxscG9zO1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdudWxsIGJ5dGUgaXMgbm90IGFsbG93ZWQgaW4gaW5wdXQnKTtcbiAgfVxuXG4gIC8vIFVzZSAwIGFzIHN0cmluZyB0ZXJtaW5hdG9yLiBUaGF0IHNpZ25pZmljYW50bHkgc2ltcGxpZmllcyBib3VuZHMgY2hlY2suXG4gIHN0YXRlLmlucHV0ICs9ICdcXDAnO1xuXG4gIHdoaWxlIChzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSA9PT0gMHgyMC8qIFNwYWNlICovKSB7XG4gICAgc3RhdGUubGluZUluZGVudCArPSAxO1xuICAgIHN0YXRlLnBvc2l0aW9uICs9IDE7XG4gIH1cblxuICB3aGlsZSAoc3RhdGUucG9zaXRpb24gPCAoc3RhdGUubGVuZ3RoIC0gMSkpIHtcbiAgICByZWFkRG9jdW1lbnQoc3RhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlLmRvY3VtZW50cztcbn1cblxuXG5mdW5jdGlvbiBsb2FkQWxsKGlucHV0LCBpdGVyYXRvciwgb3B0aW9ucykge1xuICBpZiAoaXRlcmF0b3IgIT09IG51bGwgJiYgdHlwZW9mIGl0ZXJhdG9yID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRpb25zID0gaXRlcmF0b3I7XG4gICAgaXRlcmF0b3IgPSBudWxsO1xuICB9XG5cbiAgdmFyIGRvY3VtZW50cyA9IGxvYWREb2N1bWVudHMoaW5wdXQsIG9wdGlvbnMpO1xuXG4gIGlmICh0eXBlb2YgaXRlcmF0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRzO1xuICB9XG5cbiAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGggPSBkb2N1bWVudHMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIGl0ZXJhdG9yKGRvY3VtZW50c1tpbmRleF0pO1xuICB9XG59XG5cblxuZnVuY3Rpb24gbG9hZChpbnB1dCwgb3B0aW9ucykge1xuICB2YXIgZG9jdW1lbnRzID0gbG9hZERvY3VtZW50cyhpbnB1dCwgb3B0aW9ucyk7XG5cbiAgaWYgKGRvY3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAvKmVzbGludC1kaXNhYmxlIG5vLXVuZGVmaW5lZCovXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChkb2N1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50c1swXTtcbiAgfVxuICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbignZXhwZWN0ZWQgYSBzaW5nbGUgZG9jdW1lbnQgaW4gdGhlIHN0cmVhbSwgYnV0IGZvdW5kIG1vcmUnKTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cy5sb2FkQWxsID0gbG9hZEFsbDtcbm1vZHVsZS5leHBvcnRzLmxvYWQgICAgPSBsb2FkO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lKi9cblxudmFyIGNvbW1vbiAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL2NvbW1vbicpO1xudmFyIFlBTUxFeGNlcHRpb24gICAgICAgPSByZXF1aXJlKCcuL2V4Y2VwdGlvbicpO1xudmFyIERFRkFVTFRfU0NIRU1BICAgICAgPSByZXF1aXJlKCcuL3NjaGVtYS9kZWZhdWx0Jyk7XG5cbnZhciBfdG9TdHJpbmcgICAgICAgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIF9oYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBDSEFSX0JPTSAgICAgICAgICAgICAgICAgID0gMHhGRUZGO1xudmFyIENIQVJfVEFCICAgICAgICAgICAgICAgICAgPSAweDA5OyAvKiBUYWIgKi9cbnZhciBDSEFSX0xJTkVfRkVFRCAgICAgICAgICAgID0gMHgwQTsgLyogTEYgKi9cbnZhciBDSEFSX0NBUlJJQUdFX1JFVFVSTiAgICAgID0gMHgwRDsgLyogQ1IgKi9cbnZhciBDSEFSX1NQQUNFICAgICAgICAgICAgICAgID0gMHgyMDsgLyogU3BhY2UgKi9cbnZhciBDSEFSX0VYQ0xBTUFUSU9OICAgICAgICAgID0gMHgyMTsgLyogISAqL1xudmFyIENIQVJfRE9VQkxFX1FVT1RFICAgICAgICAgPSAweDIyOyAvKiBcIiAqL1xudmFyIENIQVJfU0hBUlAgICAgICAgICAgICAgICAgPSAweDIzOyAvKiAjICovXG52YXIgQ0hBUl9QRVJDRU5UICAgICAgICAgICAgICA9IDB4MjU7IC8qICUgKi9cbnZhciBDSEFSX0FNUEVSU0FORCAgICAgICAgICAgID0gMHgyNjsgLyogJiAqL1xudmFyIENIQVJfU0lOR0xFX1FVT1RFICAgICAgICAgPSAweDI3OyAvKiAnICovXG52YXIgQ0hBUl9BU1RFUklTSyAgICAgICAgICAgICA9IDB4MkE7IC8qICogKi9cbnZhciBDSEFSX0NPTU1BICAgICAgICAgICAgICAgID0gMHgyQzsgLyogLCAqL1xudmFyIENIQVJfTUlOVVMgICAgICAgICAgICAgICAgPSAweDJEOyAvKiAtICovXG52YXIgQ0hBUl9DT0xPTiAgICAgICAgICAgICAgICA9IDB4M0E7IC8qIDogKi9cbnZhciBDSEFSX0VRVUFMUyAgICAgICAgICAgICAgID0gMHgzRDsgLyogPSAqL1xudmFyIENIQVJfR1JFQVRFUl9USEFOICAgICAgICAgPSAweDNFOyAvKiA+ICovXG52YXIgQ0hBUl9RVUVTVElPTiAgICAgICAgICAgICA9IDB4M0Y7IC8qID8gKi9cbnZhciBDSEFSX0NPTU1FUkNJQUxfQVQgICAgICAgID0gMHg0MDsgLyogQCAqL1xudmFyIENIQVJfTEVGVF9TUVVBUkVfQlJBQ0tFVCAgPSAweDVCOyAvKiBbICovXG52YXIgQ0hBUl9SSUdIVF9TUVVBUkVfQlJBQ0tFVCA9IDB4NUQ7IC8qIF0gKi9cbnZhciBDSEFSX0dSQVZFX0FDQ0VOVCAgICAgICAgID0gMHg2MDsgLyogYCAqL1xudmFyIENIQVJfTEVGVF9DVVJMWV9CUkFDS0VUICAgPSAweDdCOyAvKiB7ICovXG52YXIgQ0hBUl9WRVJUSUNBTF9MSU5FICAgICAgICA9IDB4N0M7IC8qIHwgKi9cbnZhciBDSEFSX1JJR0hUX0NVUkxZX0JSQUNLRVQgID0gMHg3RDsgLyogfSAqL1xuXG52YXIgRVNDQVBFX1NFUVVFTkNFUyA9IHt9O1xuXG5FU0NBUEVfU0VRVUVOQ0VTWzB4MDBdICAgPSAnXFxcXDAnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDA3XSAgID0gJ1xcXFxhJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwOF0gICA9ICdcXFxcYic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MDldICAgPSAnXFxcXHQnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDBBXSAgID0gJ1xcXFxuJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwQl0gICA9ICdcXFxcdic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MENdICAgPSAnXFxcXGYnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDBEXSAgID0gJ1xcXFxyJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgxQl0gICA9ICdcXFxcZSc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MjJdICAgPSAnXFxcXFwiJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHg1Q10gICA9ICdcXFxcXFxcXCc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4ODVdICAgPSAnXFxcXE4nO1xuRVNDQVBFX1NFUVVFTkNFU1sweEEwXSAgID0gJ1xcXFxfJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgyMDI4XSA9ICdcXFxcTCc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MjAyOV0gPSAnXFxcXFAnO1xuXG52YXIgREVQUkVDQVRFRF9CT09MRUFOU19TWU5UQVggPSBbXG4gICd5JywgJ1knLCAneWVzJywgJ1llcycsICdZRVMnLCAnb24nLCAnT24nLCAnT04nLFxuICAnbicsICdOJywgJ25vJywgJ05vJywgJ05PJywgJ29mZicsICdPZmYnLCAnT0ZGJ1xuXTtcblxudmFyIERFUFJFQ0FURURfQkFTRTYwX1NZTlRBWCA9IC9eWy0rXT9bMC05X10rKD86OlswLTlfXSspKyg/OlxcLlswLTlfXSopPyQvO1xuXG5mdW5jdGlvbiBjb21waWxlU3R5bGVNYXAoc2NoZW1hLCBtYXApIHtcbiAgdmFyIHJlc3VsdCwga2V5cywgaW5kZXgsIGxlbmd0aCwgdGFnLCBzdHlsZSwgdHlwZTtcblxuICBpZiAobWFwID09PSBudWxsKSByZXR1cm4ge307XG5cbiAgcmVzdWx0ID0ge307XG4gIGtleXMgPSBPYmplY3Qua2V5cyhtYXApO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB0YWcgPSBrZXlzW2luZGV4XTtcbiAgICBzdHlsZSA9IFN0cmluZyhtYXBbdGFnXSk7XG5cbiAgICBpZiAodGFnLnNsaWNlKDAsIDIpID09PSAnISEnKSB7XG4gICAgICB0YWcgPSAndGFnOnlhbWwub3JnLDIwMDI6JyArIHRhZy5zbGljZSgyKTtcbiAgICB9XG4gICAgdHlwZSA9IHNjaGVtYS5jb21waWxlZFR5cGVNYXBbJ2ZhbGxiYWNrJ11bdGFnXTtcblxuICAgIGlmICh0eXBlICYmIF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHR5cGUuc3R5bGVBbGlhc2VzLCBzdHlsZSkpIHtcbiAgICAgIHN0eWxlID0gdHlwZS5zdHlsZUFsaWFzZXNbc3R5bGVdO1xuICAgIH1cblxuICAgIHJlc3VsdFt0YWddID0gc3R5bGU7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBlbmNvZGVIZXgoY2hhcmFjdGVyKSB7XG4gIHZhciBzdHJpbmcsIGhhbmRsZSwgbGVuZ3RoO1xuXG4gIHN0cmluZyA9IGNoYXJhY3Rlci50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcblxuICBpZiAoY2hhcmFjdGVyIDw9IDB4RkYpIHtcbiAgICBoYW5kbGUgPSAneCc7XG4gICAgbGVuZ3RoID0gMjtcbiAgfSBlbHNlIGlmIChjaGFyYWN0ZXIgPD0gMHhGRkZGKSB7XG4gICAgaGFuZGxlID0gJ3UnO1xuICAgIGxlbmd0aCA9IDQ7XG4gIH0gZWxzZSBpZiAoY2hhcmFjdGVyIDw9IDB4RkZGRkZGRkYpIHtcbiAgICBoYW5kbGUgPSAnVSc7XG4gICAgbGVuZ3RoID0gODtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbignY29kZSBwb2ludCB3aXRoaW4gYSBzdHJpbmcgbWF5IG5vdCBiZSBncmVhdGVyIHRoYW4gMHhGRkZGRkZGRicpO1xuICB9XG5cbiAgcmV0dXJuICdcXFxcJyArIGhhbmRsZSArIGNvbW1vbi5yZXBlYXQoJzAnLCBsZW5ndGggLSBzdHJpbmcubGVuZ3RoKSArIHN0cmluZztcbn1cblxuXG52YXIgUVVPVElOR19UWVBFX1NJTkdMRSA9IDEsXG4gICAgUVVPVElOR19UWVBFX0RPVUJMRSA9IDI7XG5cbmZ1bmN0aW9uIFN0YXRlKG9wdGlvbnMpIHtcbiAgdGhpcy5zY2hlbWEgICAgICAgID0gb3B0aW9uc1snc2NoZW1hJ10gfHwgREVGQVVMVF9TQ0hFTUE7XG4gIHRoaXMuaW5kZW50ICAgICAgICA9IE1hdGgubWF4KDEsIChvcHRpb25zWydpbmRlbnQnXSB8fCAyKSk7XG4gIHRoaXMubm9BcnJheUluZGVudCA9IG9wdGlvbnNbJ25vQXJyYXlJbmRlbnQnXSB8fCBmYWxzZTtcbiAgdGhpcy5za2lwSW52YWxpZCAgID0gb3B0aW9uc1snc2tpcEludmFsaWQnXSB8fCBmYWxzZTtcbiAgdGhpcy5mbG93TGV2ZWwgICAgID0gKGNvbW1vbi5pc05vdGhpbmcob3B0aW9uc1snZmxvd0xldmVsJ10pID8gLTEgOiBvcHRpb25zWydmbG93TGV2ZWwnXSk7XG4gIHRoaXMuc3R5bGVNYXAgICAgICA9IGNvbXBpbGVTdHlsZU1hcCh0aGlzLnNjaGVtYSwgb3B0aW9uc1snc3R5bGVzJ10gfHwgbnVsbCk7XG4gIHRoaXMuc29ydEtleXMgICAgICA9IG9wdGlvbnNbJ3NvcnRLZXlzJ10gfHwgZmFsc2U7XG4gIHRoaXMubGluZVdpZHRoICAgICA9IG9wdGlvbnNbJ2xpbmVXaWR0aCddIHx8IDgwO1xuICB0aGlzLm5vUmVmcyAgICAgICAgPSBvcHRpb25zWydub1JlZnMnXSB8fCBmYWxzZTtcbiAgdGhpcy5ub0NvbXBhdE1vZGUgID0gb3B0aW9uc1snbm9Db21wYXRNb2RlJ10gfHwgZmFsc2U7XG4gIHRoaXMuY29uZGVuc2VGbG93ICA9IG9wdGlvbnNbJ2NvbmRlbnNlRmxvdyddIHx8IGZhbHNlO1xuICB0aGlzLnF1b3RpbmdUeXBlICAgPSBvcHRpb25zWydxdW90aW5nVHlwZSddID09PSAnXCInID8gUVVPVElOR19UWVBFX0RPVUJMRSA6IFFVT1RJTkdfVFlQRV9TSU5HTEU7XG4gIHRoaXMuZm9yY2VRdW90ZXMgICA9IG9wdGlvbnNbJ2ZvcmNlUXVvdGVzJ10gfHwgZmFsc2U7XG4gIHRoaXMucmVwbGFjZXIgICAgICA9IHR5cGVvZiBvcHRpb25zWydyZXBsYWNlciddID09PSAnZnVuY3Rpb24nID8gb3B0aW9uc1sncmVwbGFjZXInXSA6IG51bGw7XG5cbiAgdGhpcy5pbXBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRJbXBsaWNpdDtcbiAgdGhpcy5leHBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRFeHBsaWNpdDtcblxuICB0aGlzLnRhZyA9IG51bGw7XG4gIHRoaXMucmVzdWx0ID0gJyc7XG5cbiAgdGhpcy5kdXBsaWNhdGVzID0gW107XG4gIHRoaXMudXNlZER1cGxpY2F0ZXMgPSBudWxsO1xufVxuXG4vLyBJbmRlbnRzIGV2ZXJ5IGxpbmUgaW4gYSBzdHJpbmcuIEVtcHR5IGxpbmVzIChcXG4gb25seSkgYXJlIG5vdCBpbmRlbnRlZC5cbmZ1bmN0aW9uIGluZGVudFN0cmluZyhzdHJpbmcsIHNwYWNlcykge1xuICB2YXIgaW5kID0gY29tbW9uLnJlcGVhdCgnICcsIHNwYWNlcyksXG4gICAgICBwb3NpdGlvbiA9IDAsXG4gICAgICBuZXh0ID0gLTEsXG4gICAgICByZXN1bHQgPSAnJyxcbiAgICAgIGxpbmUsXG4gICAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuXG4gIHdoaWxlIChwb3NpdGlvbiA8IGxlbmd0aCkge1xuICAgIG5leHQgPSBzdHJpbmcuaW5kZXhPZignXFxuJywgcG9zaXRpb24pO1xuICAgIGlmIChuZXh0ID09PSAtMSkge1xuICAgICAgbGluZSA9IHN0cmluZy5zbGljZShwb3NpdGlvbik7XG4gICAgICBwb3NpdGlvbiA9IGxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZSA9IHN0cmluZy5zbGljZShwb3NpdGlvbiwgbmV4dCArIDEpO1xuICAgICAgcG9zaXRpb24gPSBuZXh0ICsgMTtcbiAgICB9XG5cbiAgICBpZiAobGluZS5sZW5ndGggJiYgbGluZSAhPT0gJ1xcbicpIHJlc3VsdCArPSBpbmQ7XG5cbiAgICByZXN1bHQgKz0gbGluZTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKSB7XG4gIHJldHVybiAnXFxuJyArIGNvbW1vbi5yZXBlYXQoJyAnLCBzdGF0ZS5pbmRlbnQgKiBsZXZlbCk7XG59XG5cbmZ1bmN0aW9uIHRlc3RJbXBsaWNpdFJlc29sdmluZyhzdGF0ZSwgc3RyKSB7XG4gIHZhciBpbmRleCwgbGVuZ3RoLCB0eXBlO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBzdGF0ZS5pbXBsaWNpdFR5cGVzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB0eXBlID0gc3RhdGUuaW1wbGljaXRUeXBlc1tpbmRleF07XG5cbiAgICBpZiAodHlwZS5yZXNvbHZlKHN0cikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gWzMzXSBzLXdoaXRlIDo6PSBzLXNwYWNlIHwgcy10YWJcbmZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjKSB7XG4gIHJldHVybiBjID09PSBDSEFSX1NQQUNFIHx8IGMgPT09IENIQVJfVEFCO1xufVxuXG4vLyBSZXR1cm5zIHRydWUgaWYgdGhlIGNoYXJhY3RlciBjYW4gYmUgcHJpbnRlZCB3aXRob3V0IGVzY2FwaW5nLlxuLy8gRnJvbSBZQU1MIDEuMjogXCJhbnkgYWxsb3dlZCBjaGFyYWN0ZXJzIGtub3duIHRvIGJlIG5vbi1wcmludGFibGVcbi8vIHNob3VsZCBhbHNvIGJlIGVzY2FwZWQuIFtIb3dldmVyLF0gVGhpcyBpc27igJl0IG1hbmRhdG9yeVwiXG4vLyBEZXJpdmVkIGZyb20gbmItY2hhciAtIFxcdCAtICN4ODUgLSAjeEEwIC0gI3gyMDI4IC0gI3gyMDI5LlxuZnVuY3Rpb24gaXNQcmludGFibGUoYykge1xuICByZXR1cm4gICgweDAwMDIwIDw9IGMgJiYgYyA8PSAweDAwMDA3RSlcbiAgICAgIHx8ICgoMHgwMDBBMSA8PSBjICYmIGMgPD0gMHgwMEQ3RkYpICYmIGMgIT09IDB4MjAyOCAmJiBjICE9PSAweDIwMjkpXG4gICAgICB8fCAoKDB4MEUwMDAgPD0gYyAmJiBjIDw9IDB4MDBGRkZEKSAmJiBjICE9PSBDSEFSX0JPTSlcbiAgICAgIHx8ICAoMHgxMDAwMCA8PSBjICYmIGMgPD0gMHgxMEZGRkYpO1xufVxuXG4vLyBbMzRdIG5zLWNoYXIgOjo9IG5iLWNoYXIgLSBzLXdoaXRlXG4vLyBbMjddIG5iLWNoYXIgOjo9IGMtcHJpbnRhYmxlIC0gYi1jaGFyIC0gYy1ieXRlLW9yZGVyLW1hcmtcbi8vIFsyNl0gYi1jaGFyICA6Oj0gYi1saW5lLWZlZWQgfCBiLWNhcnJpYWdlLXJldHVyblxuLy8gSW5jbHVkaW5nIHMtd2hpdGUgKGZvciBzb21lIHJlYXNvbiwgZXhhbXBsZXMgZG9lc24ndCBtYXRjaCBzcGVjcyBpbiB0aGlzIGFzcGVjdClcbi8vIG5zLWNoYXIgOjo9IGMtcHJpbnRhYmxlIC0gYi1saW5lLWZlZWQgLSBiLWNhcnJpYWdlLXJldHVybiAtIGMtYnl0ZS1vcmRlci1tYXJrXG5mdW5jdGlvbiBpc05zQ2hhck9yV2hpdGVzcGFjZShjKSB7XG4gIHJldHVybiBpc1ByaW50YWJsZShjKVxuICAgICYmIGMgIT09IENIQVJfQk9NXG4gICAgLy8gLSBiLWNoYXJcbiAgICAmJiBjICE9PSBDSEFSX0NBUlJJQUdFX1JFVFVSTlxuICAgICYmIGMgIT09IENIQVJfTElORV9GRUVEO1xufVxuXG4vLyBbMTI3XSAgbnMtcGxhaW4tc2FmZShjKSA6Oj0gYyA9IGZsb3ctb3V0ICDih5IgbnMtcGxhaW4tc2FmZS1vdXRcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gZmxvdy1pbiAgIOKHkiBucy1wbGFpbi1zYWZlLWluXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGJsb2NrLWtleSDih5IgbnMtcGxhaW4tc2FmZS1vdXRcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gZmxvdy1rZXkgIOKHkiBucy1wbGFpbi1zYWZlLWluXG4vLyBbMTI4XSBucy1wbGFpbi1zYWZlLW91dCA6Oj0gbnMtY2hhclxuLy8gWzEyOV0gIG5zLXBsYWluLXNhZmUtaW4gOjo9IG5zLWNoYXIgLSBjLWZsb3ctaW5kaWNhdG9yXG4vLyBbMTMwXSAgbnMtcGxhaW4tY2hhcihjKSA6Oj0gICggbnMtcGxhaW4tc2FmZShjKSAtIOKAnDrigJ0gLSDigJwj4oCdIClcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKCAvKiBBbiBucy1jaGFyIHByZWNlZGluZyAqLyDigJwj4oCdIClcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKCDigJw64oCdIC8qIEZvbGxvd2VkIGJ5IGFuIG5zLXBsYWluLXNhZmUoYykgKi8gKVxuZnVuY3Rpb24gaXNQbGFpblNhZmUoYywgcHJldiwgaW5ibG9jaykge1xuICB2YXIgY0lzTnNDaGFyT3JXaGl0ZXNwYWNlID0gaXNOc0NoYXJPcldoaXRlc3BhY2UoYyk7XG4gIHZhciBjSXNOc0NoYXIgPSBjSXNOc0NoYXJPcldoaXRlc3BhY2UgJiYgIWlzV2hpdGVzcGFjZShjKTtcbiAgcmV0dXJuIChcbiAgICAvLyBucy1wbGFpbi1zYWZlXG4gICAgaW5ibG9jayA/IC8vIGMgPSBmbG93LWluXG4gICAgICBjSXNOc0NoYXJPcldoaXRlc3BhY2VcbiAgICAgIDogY0lzTnNDaGFyT3JXaGl0ZXNwYWNlXG4gICAgICAgIC8vIC0gYy1mbG93LWluZGljYXRvclxuICAgICAgICAmJiBjICE9PSBDSEFSX0NPTU1BXG4gICAgICAgICYmIGMgIT09IENIQVJfTEVGVF9TUVVBUkVfQlJBQ0tFVFxuICAgICAgICAmJiBjICE9PSBDSEFSX1JJR0hUX1NRVUFSRV9CUkFDS0VUXG4gICAgICAgICYmIGMgIT09IENIQVJfTEVGVF9DVVJMWV9CUkFDS0VUXG4gICAgICAgICYmIGMgIT09IENIQVJfUklHSFRfQ1VSTFlfQlJBQ0tFVFxuICApXG4gICAgLy8gbnMtcGxhaW4tY2hhclxuICAgICYmIGMgIT09IENIQVJfU0hBUlAgLy8gZmFsc2Ugb24gJyMnXG4gICAgJiYgIShwcmV2ID09PSBDSEFSX0NPTE9OICYmICFjSXNOc0NoYXIpIC8vIGZhbHNlIG9uICc6ICdcbiAgICB8fCAoaXNOc0NoYXJPcldoaXRlc3BhY2UocHJldikgJiYgIWlzV2hpdGVzcGFjZShwcmV2KSAmJiBjID09PSBDSEFSX1NIQVJQKSAvLyBjaGFuZ2UgdG8gdHJ1ZSBvbiAnW14gXSMnXG4gICAgfHwgKHByZXYgPT09IENIQVJfQ09MT04gJiYgY0lzTnNDaGFyKTsgLy8gY2hhbmdlIHRvIHRydWUgb24gJzpbXiBdJ1xufVxuXG4vLyBTaW1wbGlmaWVkIHRlc3QgZm9yIHZhbHVlcyBhbGxvd2VkIGFzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaW4gcGxhaW4gc3R5bGUuXG5mdW5jdGlvbiBpc1BsYWluU2FmZUZpcnN0KGMpIHtcbiAgLy8gVXNlcyBhIHN1YnNldCBvZiBucy1jaGFyIC0gYy1pbmRpY2F0b3JcbiAgLy8gd2hlcmUgbnMtY2hhciA9IG5iLWNoYXIgLSBzLXdoaXRlLlxuICAvLyBObyBzdXBwb3J0IG9mICggKCDigJw/4oCdIHwg4oCcOuKAnSB8IOKAnC3igJ0gKSAvKiBGb2xsb3dlZCBieSBhbiBucy1wbGFpbi1zYWZlKGMpKSAqLyApIHBhcnRcbiAgcmV0dXJuIGlzUHJpbnRhYmxlKGMpICYmIGMgIT09IENIQVJfQk9NXG4gICAgJiYgIWlzV2hpdGVzcGFjZShjKSAvLyAtIHMtd2hpdGVcbiAgICAvLyAtIChjLWluZGljYXRvciA6Oj1cbiAgICAvLyDigJwt4oCdIHwg4oCcP+KAnSB8IOKAnDrigJ0gfCDigJws4oCdIHwg4oCcW+KAnSB8IOKAnF3igJ0gfCDigJx74oCdIHwg4oCcfeKAnVxuICAgICYmIGMgIT09IENIQVJfTUlOVVNcbiAgICAmJiBjICE9PSBDSEFSX1FVRVNUSU9OXG4gICAgJiYgYyAhPT0gQ0hBUl9DT0xPTlxuICAgICYmIGMgIT09IENIQVJfQ09NTUFcbiAgICAmJiBjICE9PSBDSEFSX0xFRlRfU1FVQVJFX0JSQUNLRVRcbiAgICAmJiBjICE9PSBDSEFSX1JJR0hUX1NRVUFSRV9CUkFDS0VUXG4gICAgJiYgYyAhPT0gQ0hBUl9MRUZUX0NVUkxZX0JSQUNLRVRcbiAgICAmJiBjICE9PSBDSEFSX1JJR0hUX0NVUkxZX0JSQUNLRVRcbiAgICAvLyB8IOKAnCPigJ0gfCDigJwm4oCdIHwg4oCcKuKAnSB8IOKAnCHigJ0gfCDigJx84oCdIHwg4oCcPeKAnSB8IOKAnD7igJ0gfCDigJwn4oCdIHwg4oCcXCLigJ1cbiAgICAmJiBjICE9PSBDSEFSX1NIQVJQXG4gICAgJiYgYyAhPT0gQ0hBUl9BTVBFUlNBTkRcbiAgICAmJiBjICE9PSBDSEFSX0FTVEVSSVNLXG4gICAgJiYgYyAhPT0gQ0hBUl9FWENMQU1BVElPTlxuICAgICYmIGMgIT09IENIQVJfVkVSVElDQUxfTElORVxuICAgICYmIGMgIT09IENIQVJfRVFVQUxTXG4gICAgJiYgYyAhPT0gQ0hBUl9HUkVBVEVSX1RIQU5cbiAgICAmJiBjICE9PSBDSEFSX1NJTkdMRV9RVU9URVxuICAgICYmIGMgIT09IENIQVJfRE9VQkxFX1FVT1RFXG4gICAgLy8gfCDigJwl4oCdIHwg4oCcQOKAnSB8IOKAnGDigJ0pXG4gICAgJiYgYyAhPT0gQ0hBUl9QRVJDRU5UXG4gICAgJiYgYyAhPT0gQ0hBUl9DT01NRVJDSUFMX0FUXG4gICAgJiYgYyAhPT0gQ0hBUl9HUkFWRV9BQ0NFTlQ7XG59XG5cbi8vIFNpbXBsaWZpZWQgdGVzdCBmb3IgdmFsdWVzIGFsbG93ZWQgYXMgdGhlIGxhc3QgY2hhcmFjdGVyIGluIHBsYWluIHN0eWxlLlxuZnVuY3Rpb24gaXNQbGFpblNhZmVMYXN0KGMpIHtcbiAgLy8ganVzdCBub3Qgd2hpdGVzcGFjZSBvciBjb2xvbiwgaXQgd2lsbCBiZSBjaGVja2VkIHRvIGJlIHBsYWluIGNoYXJhY3RlciBsYXRlclxuICByZXR1cm4gIWlzV2hpdGVzcGFjZShjKSAmJiBjICE9PSBDSEFSX0NPTE9OO1xufVxuXG4vLyBTYW1lIGFzICdzdHJpbmcnLmNvZGVQb2ludEF0KHBvcyksIGJ1dCB3b3JrcyBpbiBvbGRlciBicm93c2Vycy5cbmZ1bmN0aW9uIGNvZGVQb2ludEF0KHN0cmluZywgcG9zKSB7XG4gIHZhciBmaXJzdCA9IHN0cmluZy5jaGFyQ29kZUF0KHBvcyksIHNlY29uZDtcbiAgaWYgKGZpcnN0ID49IDB4RDgwMCAmJiBmaXJzdCA8PSAweERCRkYgJiYgcG9zICsgMSA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICBzZWNvbmQgPSBzdHJpbmcuY2hhckNvZGVBdChwb3MgKyAxKTtcbiAgICBpZiAoc2Vjb25kID49IDB4REMwMCAmJiBzZWNvbmQgPD0gMHhERkZGKSB7XG4gICAgICAvLyBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZyNzdXJyb2dhdGUtZm9ybXVsYWVcbiAgICAgIHJldHVybiAoZmlyc3QgLSAweEQ4MDApICogMHg0MDAgKyBzZWNvbmQgLSAweERDMDAgKyAweDEwMDAwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmlyc3Q7XG59XG5cbi8vIERldGVybWluZXMgd2hldGhlciBibG9jayBpbmRlbnRhdGlvbiBpbmRpY2F0b3IgaXMgcmVxdWlyZWQuXG5mdW5jdGlvbiBuZWVkSW5kZW50SW5kaWNhdG9yKHN0cmluZykge1xuICB2YXIgbGVhZGluZ1NwYWNlUmUgPSAvXlxcbiogLztcbiAgcmV0dXJuIGxlYWRpbmdTcGFjZVJlLnRlc3Qoc3RyaW5nKTtcbn1cblxudmFyIFNUWUxFX1BMQUlOICAgPSAxLFxuICAgIFNUWUxFX1NJTkdMRSAgPSAyLFxuICAgIFNUWUxFX0xJVEVSQUwgPSAzLFxuICAgIFNUWUxFX0ZPTERFRCAgPSA0LFxuICAgIFNUWUxFX0RPVUJMRSAgPSA1O1xuXG4vLyBEZXRlcm1pbmVzIHdoaWNoIHNjYWxhciBzdHlsZXMgYXJlIHBvc3NpYmxlIGFuZCByZXR1cm5zIHRoZSBwcmVmZXJyZWQgc3R5bGUuXG4vLyBsaW5lV2lkdGggPSAtMSA9PiBubyBsaW1pdC5cbi8vIFByZS1jb25kaXRpb25zOiBzdHIubGVuZ3RoID4gMC5cbi8vIFBvc3QtY29uZGl0aW9uczpcbi8vICAgIFNUWUxFX1BMQUlOIG9yIFNUWUxFX1NJTkdMRSA9PiBubyBcXG4gYXJlIGluIHRoZSBzdHJpbmcuXG4vLyAgICBTVFlMRV9MSVRFUkFMID0+IG5vIGxpbmVzIGFyZSBzdWl0YWJsZSBmb3IgZm9sZGluZyAob3IgbGluZVdpZHRoIGlzIC0xKS5cbi8vICAgIFNUWUxFX0ZPTERFRCA9PiBhIGxpbmUgPiBsaW5lV2lkdGggYW5kIGNhbiBiZSBmb2xkZWQgKGFuZCBsaW5lV2lkdGggIT0gLTEpLlxuZnVuY3Rpb24gY2hvb3NlU2NhbGFyU3R5bGUoc3RyaW5nLCBzaW5nbGVMaW5lT25seSwgaW5kZW50UGVyTGV2ZWwsIGxpbmVXaWR0aCxcbiAgdGVzdEFtYmlndW91c1R5cGUsIHF1b3RpbmdUeXBlLCBmb3JjZVF1b3RlcywgaW5ibG9jaykge1xuXG4gIHZhciBpO1xuICB2YXIgY2hhciA9IDA7XG4gIHZhciBwcmV2Q2hhciA9IG51bGw7XG4gIHZhciBoYXNMaW5lQnJlYWsgPSBmYWxzZTtcbiAgdmFyIGhhc0ZvbGRhYmxlTGluZSA9IGZhbHNlOyAvLyBvbmx5IGNoZWNrZWQgaWYgc2hvdWxkVHJhY2tXaWR0aFxuICB2YXIgc2hvdWxkVHJhY2tXaWR0aCA9IGxpbmVXaWR0aCAhPT0gLTE7XG4gIHZhciBwcmV2aW91c0xpbmVCcmVhayA9IC0xOyAvLyBjb3VudCB0aGUgZmlyc3QgbGluZSBjb3JyZWN0bHlcbiAgdmFyIHBsYWluID0gaXNQbGFpblNhZmVGaXJzdChjb2RlUG9pbnRBdChzdHJpbmcsIDApKVxuICAgICAgICAgICYmIGlzUGxhaW5TYWZlTGFzdChjb2RlUG9pbnRBdChzdHJpbmcsIHN0cmluZy5sZW5ndGggLSAxKSk7XG5cbiAgaWYgKHNpbmdsZUxpbmVPbmx5IHx8IGZvcmNlUXVvdGVzKSB7XG4gICAgLy8gQ2FzZTogbm8gYmxvY2sgc3R5bGVzLlxuICAgIC8vIENoZWNrIGZvciBkaXNhbGxvd2VkIGNoYXJhY3RlcnMgdG8gcnVsZSBvdXQgcGxhaW4gYW5kIHNpbmdsZS5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgY2hhciA+PSAweDEwMDAwID8gaSArPSAyIDogaSsrKSB7XG4gICAgICBjaGFyID0gY29kZVBvaW50QXQoc3RyaW5nLCBpKTtcbiAgICAgIGlmICghaXNQcmludGFibGUoY2hhcikpIHtcbiAgICAgICAgcmV0dXJuIFNUWUxFX0RPVUJMRTtcbiAgICAgIH1cbiAgICAgIHBsYWluID0gcGxhaW4gJiYgaXNQbGFpblNhZmUoY2hhciwgcHJldkNoYXIsIGluYmxvY2spO1xuICAgICAgcHJldkNoYXIgPSBjaGFyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBDYXNlOiBibG9jayBzdHlsZXMgcGVybWl0dGVkLlxuICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBjaGFyID49IDB4MTAwMDAgPyBpICs9IDIgOiBpKyspIHtcbiAgICAgIGNoYXIgPSBjb2RlUG9pbnRBdChzdHJpbmcsIGkpO1xuICAgICAgaWYgKGNoYXIgPT09IENIQVJfTElORV9GRUVEKSB7XG4gICAgICAgIGhhc0xpbmVCcmVhayA9IHRydWU7XG4gICAgICAgIC8vIENoZWNrIGlmIGFueSBsaW5lIGNhbiBiZSBmb2xkZWQuXG4gICAgICAgIGlmIChzaG91bGRUcmFja1dpZHRoKSB7XG4gICAgICAgICAgaGFzRm9sZGFibGVMaW5lID0gaGFzRm9sZGFibGVMaW5lIHx8XG4gICAgICAgICAgICAvLyBGb2xkYWJsZSBsaW5lID0gdG9vIGxvbmcsIGFuZCBub3QgbW9yZS1pbmRlbnRlZC5cbiAgICAgICAgICAgIChpIC0gcHJldmlvdXNMaW5lQnJlYWsgLSAxID4gbGluZVdpZHRoICYmXG4gICAgICAgICAgICAgc3RyaW5nW3ByZXZpb3VzTGluZUJyZWFrICsgMV0gIT09ICcgJyk7XG4gICAgICAgICAgcHJldmlvdXNMaW5lQnJlYWsgPSBpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc1ByaW50YWJsZShjaGFyKSkge1xuICAgICAgICByZXR1cm4gU1RZTEVfRE9VQkxFO1xuICAgICAgfVxuICAgICAgcGxhaW4gPSBwbGFpbiAmJiBpc1BsYWluU2FmZShjaGFyLCBwcmV2Q2hhciwgaW5ibG9jayk7XG4gICAgICBwcmV2Q2hhciA9IGNoYXI7XG4gICAgfVxuICAgIC8vIGluIGNhc2UgdGhlIGVuZCBpcyBtaXNzaW5nIGEgXFxuXG4gICAgaGFzRm9sZGFibGVMaW5lID0gaGFzRm9sZGFibGVMaW5lIHx8IChzaG91bGRUcmFja1dpZHRoICYmXG4gICAgICAoaSAtIHByZXZpb3VzTGluZUJyZWFrIC0gMSA+IGxpbmVXaWR0aCAmJlxuICAgICAgIHN0cmluZ1twcmV2aW91c0xpbmVCcmVhayArIDFdICE9PSAnICcpKTtcbiAgfVxuICAvLyBBbHRob3VnaCBldmVyeSBzdHlsZSBjYW4gcmVwcmVzZW50IFxcbiB3aXRob3V0IGVzY2FwaW5nLCBwcmVmZXIgYmxvY2sgc3R5bGVzXG4gIC8vIGZvciBtdWx0aWxpbmUsIHNpbmNlIHRoZXkncmUgbW9yZSByZWFkYWJsZSBhbmQgdGhleSBkb24ndCBhZGQgZW1wdHkgbGluZXMuXG4gIC8vIEFsc28gcHJlZmVyIGZvbGRpbmcgYSBzdXBlci1sb25nIGxpbmUuXG4gIGlmICghaGFzTGluZUJyZWFrICYmICFoYXNGb2xkYWJsZUxpbmUpIHtcbiAgICAvLyBTdHJpbmdzIGludGVycHJldGFibGUgYXMgYW5vdGhlciB0eXBlIGhhdmUgdG8gYmUgcXVvdGVkO1xuICAgIC8vIGUuZy4gdGhlIHN0cmluZyAndHJ1ZScgdnMuIHRoZSBib29sZWFuIHRydWUuXG4gICAgaWYgKHBsYWluICYmICFmb3JjZVF1b3RlcyAmJiAhdGVzdEFtYmlndW91c1R5cGUoc3RyaW5nKSkge1xuICAgICAgcmV0dXJuIFNUWUxFX1BMQUlOO1xuICAgIH1cbiAgICByZXR1cm4gcXVvdGluZ1R5cGUgPT09IFFVT1RJTkdfVFlQRV9ET1VCTEUgPyBTVFlMRV9ET1VCTEUgOiBTVFlMRV9TSU5HTEU7XG4gIH1cbiAgLy8gRWRnZSBjYXNlOiBibG9jayBpbmRlbnRhdGlvbiBpbmRpY2F0b3IgY2FuIG9ubHkgaGF2ZSBvbmUgZGlnaXQuXG4gIGlmIChpbmRlbnRQZXJMZXZlbCA+IDkgJiYgbmVlZEluZGVudEluZGljYXRvcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIFNUWUxFX0RPVUJMRTtcbiAgfVxuICAvLyBBdCB0aGlzIHBvaW50IHdlIGtub3cgYmxvY2sgc3R5bGVzIGFyZSB2YWxpZC5cbiAgLy8gUHJlZmVyIGxpdGVyYWwgc3R5bGUgdW5sZXNzIHdlIHdhbnQgdG8gZm9sZC5cbiAgaWYgKCFmb3JjZVF1b3Rlcykge1xuICAgIHJldHVybiBoYXNGb2xkYWJsZUxpbmUgPyBTVFlMRV9GT0xERUQgOiBTVFlMRV9MSVRFUkFMO1xuICB9XG4gIHJldHVybiBxdW90aW5nVHlwZSA9PT0gUVVPVElOR19UWVBFX0RPVUJMRSA/IFNUWUxFX0RPVUJMRSA6IFNUWUxFX1NJTkdMRTtcbn1cblxuLy8gTm90ZTogbGluZSBicmVha2luZy9mb2xkaW5nIGlzIGltcGxlbWVudGVkIGZvciBvbmx5IHRoZSBmb2xkZWQgc3R5bGUuXG4vLyBOQi4gV2UgZHJvcCB0aGUgbGFzdCB0cmFpbGluZyBuZXdsaW5lIChpZiBhbnkpIG9mIGEgcmV0dXJuZWQgYmxvY2sgc2NhbGFyXG4vLyAgc2luY2UgdGhlIGR1bXBlciBhZGRzIGl0cyBvd24gbmV3bGluZS4gVGhpcyBhbHdheXMgd29ya3M6XG4vLyAgICDigKIgTm8gZW5kaW5nIG5ld2xpbmUgPT4gdW5hZmZlY3RlZDsgYWxyZWFkeSB1c2luZyBzdHJpcCBcIi1cIiBjaG9tcGluZy5cbi8vICAgIOKAoiBFbmRpbmcgbmV3bGluZSAgICA9PiByZW1vdmVkIHRoZW4gcmVzdG9yZWQuXG4vLyAgSW1wb3J0YW50bHksIHRoaXMga2VlcHMgdGhlIFwiK1wiIGNob21wIGluZGljYXRvciBmcm9tIGdhaW5pbmcgYW4gZXh0cmEgbGluZS5cbmZ1bmN0aW9uIHdyaXRlU2NhbGFyKHN0YXRlLCBzdHJpbmcsIGxldmVsLCBpc2tleSwgaW5ibG9jaykge1xuICBzdGF0ZS5kdW1wID0gKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc3RyaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHN0YXRlLnF1b3RpbmdUeXBlID09PSBRVU9USU5HX1RZUEVfRE9VQkxFID8gJ1wiXCInIDogXCInJ1wiO1xuICAgIH1cbiAgICBpZiAoIXN0YXRlLm5vQ29tcGF0TW9kZSkge1xuICAgICAgaWYgKERFUFJFQ0FURURfQk9PTEVBTlNfU1lOVEFYLmluZGV4T2Yoc3RyaW5nKSAhPT0gLTEgfHwgREVQUkVDQVRFRF9CQVNFNjBfU1lOVEFYLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgICByZXR1cm4gc3RhdGUucXVvdGluZ1R5cGUgPT09IFFVT1RJTkdfVFlQRV9ET1VCTEUgPyAoJ1wiJyArIHN0cmluZyArICdcIicpIDogKFwiJ1wiICsgc3RyaW5nICsgXCInXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpbmRlbnQgPSBzdGF0ZS5pbmRlbnQgKiBNYXRoLm1heCgxLCBsZXZlbCk7IC8vIG5vIDAtaW5kZW50IHNjYWxhcnNcbiAgICAvLyBBcyBpbmRlbnRhdGlvbiBnZXRzIGRlZXBlciwgbGV0IHRoZSB3aWR0aCBkZWNyZWFzZSBtb25vdG9uaWNhbGx5XG4gICAgLy8gdG8gdGhlIGxvd2VyIGJvdW5kIG1pbihzdGF0ZS5saW5lV2lkdGgsIDQwKS5cbiAgICAvLyBOb3RlIHRoYXQgdGhpcyBpbXBsaWVzXG4gICAgLy8gIHN0YXRlLmxpbmVXaWR0aCDiiaQgNDAgKyBzdGF0ZS5pbmRlbnQ6IHdpZHRoIGlzIGZpeGVkIGF0IHRoZSBsb3dlciBib3VuZC5cbiAgICAvLyAgc3RhdGUubGluZVdpZHRoID4gNDAgKyBzdGF0ZS5pbmRlbnQ6IHdpZHRoIGRlY3JlYXNlcyB1bnRpbCB0aGUgbG93ZXIgYm91bmQuXG4gICAgLy8gVGhpcyBiZWhhdmVzIGJldHRlciB0aGFuIGEgY29uc3RhbnQgbWluaW11bSB3aWR0aCB3aGljaCBkaXNhbGxvd3MgbmFycm93ZXIgb3B0aW9ucyxcbiAgICAvLyBvciBhbiBpbmRlbnQgdGhyZXNob2xkIHdoaWNoIGNhdXNlcyB0aGUgd2lkdGggdG8gc3VkZGVubHkgaW5jcmVhc2UuXG4gICAgdmFyIGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aCA9PT0gLTFcbiAgICAgID8gLTEgOiBNYXRoLm1heChNYXRoLm1pbihzdGF0ZS5saW5lV2lkdGgsIDQwKSwgc3RhdGUubGluZVdpZHRoIC0gaW5kZW50KTtcblxuICAgIC8vIFdpdGhvdXQga25vd2luZyBpZiBrZXlzIGFyZSBpbXBsaWNpdC9leHBsaWNpdCwgYXNzdW1lIGltcGxpY2l0IGZvciBzYWZldHkuXG4gICAgdmFyIHNpbmdsZUxpbmVPbmx5ID0gaXNrZXlcbiAgICAgIC8vIE5vIGJsb2NrIHN0eWxlcyBpbiBmbG93IG1vZGUuXG4gICAgICB8fCAoc3RhdGUuZmxvd0xldmVsID4gLTEgJiYgbGV2ZWwgPj0gc3RhdGUuZmxvd0xldmVsKTtcbiAgICBmdW5jdGlvbiB0ZXN0QW1iaWd1aXR5KHN0cmluZykge1xuICAgICAgcmV0dXJuIHRlc3RJbXBsaWNpdFJlc29sdmluZyhzdGF0ZSwgc3RyaW5nKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNob29zZVNjYWxhclN0eWxlKHN0cmluZywgc2luZ2xlTGluZU9ubHksIHN0YXRlLmluZGVudCwgbGluZVdpZHRoLFxuICAgICAgdGVzdEFtYmlndWl0eSwgc3RhdGUucXVvdGluZ1R5cGUsIHN0YXRlLmZvcmNlUXVvdGVzICYmICFpc2tleSwgaW5ibG9jaykpIHtcblxuICAgICAgY2FzZSBTVFlMRV9QTEFJTjpcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIGNhc2UgU1RZTEVfU0lOR0xFOlxuICAgICAgICByZXR1cm4gXCInXCIgKyBzdHJpbmcucmVwbGFjZSgvJy9nLCBcIicnXCIpICsgXCInXCI7XG4gICAgICBjYXNlIFNUWUxFX0xJVEVSQUw6XG4gICAgICAgIHJldHVybiAnfCcgKyBibG9ja0hlYWRlcihzdHJpbmcsIHN0YXRlLmluZGVudClcbiAgICAgICAgICArIGRyb3BFbmRpbmdOZXdsaW5lKGluZGVudFN0cmluZyhzdHJpbmcsIGluZGVudCkpO1xuICAgICAgY2FzZSBTVFlMRV9GT0xERUQ6XG4gICAgICAgIHJldHVybiAnPicgKyBibG9ja0hlYWRlcihzdHJpbmcsIHN0YXRlLmluZGVudClcbiAgICAgICAgICArIGRyb3BFbmRpbmdOZXdsaW5lKGluZGVudFN0cmluZyhmb2xkU3RyaW5nKHN0cmluZywgbGluZVdpZHRoKSwgaW5kZW50KSk7XG4gICAgICBjYXNlIFNUWUxFX0RPVUJMRTpcbiAgICAgICAgcmV0dXJuICdcIicgKyBlc2NhcGVTdHJpbmcoc3RyaW5nLCBsaW5lV2lkdGgpICsgJ1wiJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdpbXBvc3NpYmxlIGVycm9yOiBpbnZhbGlkIHNjYWxhciBzdHlsZScpO1xuICAgIH1cbiAgfSgpKTtcbn1cblxuLy8gUHJlLWNvbmRpdGlvbnM6IHN0cmluZyBpcyB2YWxpZCBmb3IgYSBibG9jayBzY2FsYXIsIDEgPD0gaW5kZW50UGVyTGV2ZWwgPD0gOS5cbmZ1bmN0aW9uIGJsb2NrSGVhZGVyKHN0cmluZywgaW5kZW50UGVyTGV2ZWwpIHtcbiAgdmFyIGluZGVudEluZGljYXRvciA9IG5lZWRJbmRlbnRJbmRpY2F0b3Ioc3RyaW5nKSA/IFN0cmluZyhpbmRlbnRQZXJMZXZlbCkgOiAnJztcblxuICAvLyBub3RlIHRoZSBzcGVjaWFsIGNhc2U6IHRoZSBzdHJpbmcgJ1xcbicgY291bnRzIGFzIGEgXCJ0cmFpbGluZ1wiIGVtcHR5IGxpbmUuXG4gIHZhciBjbGlwID0gICAgICAgICAgc3RyaW5nW3N0cmluZy5sZW5ndGggLSAxXSA9PT0gJ1xcbic7XG4gIHZhciBrZWVwID0gY2xpcCAmJiAoc3RyaW5nW3N0cmluZy5sZW5ndGggLSAyXSA9PT0gJ1xcbicgfHwgc3RyaW5nID09PSAnXFxuJyk7XG4gIHZhciBjaG9tcCA9IGtlZXAgPyAnKycgOiAoY2xpcCA/ICcnIDogJy0nKTtcblxuICByZXR1cm4gaW5kZW50SW5kaWNhdG9yICsgY2hvbXAgKyAnXFxuJztcbn1cblxuLy8gKFNlZSB0aGUgbm90ZSBmb3Igd3JpdGVTY2FsYXIuKVxuZnVuY3Rpb24gZHJvcEVuZGluZ05ld2xpbmUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdbc3RyaW5nLmxlbmd0aCAtIDFdID09PSAnXFxuJyA/IHN0cmluZy5zbGljZSgwLCAtMSkgOiBzdHJpbmc7XG59XG5cbi8vIE5vdGU6IGEgbG9uZyBsaW5lIHdpdGhvdXQgYSBzdWl0YWJsZSBicmVhayBwb2ludCB3aWxsIGV4Y2VlZCB0aGUgd2lkdGggbGltaXQuXG4vLyBQcmUtY29uZGl0aW9uczogZXZlcnkgY2hhciBpbiBzdHIgaXNQcmludGFibGUsIHN0ci5sZW5ndGggPiAwLCB3aWR0aCA+IDAuXG5mdW5jdGlvbiBmb2xkU3RyaW5nKHN0cmluZywgd2lkdGgpIHtcbiAgLy8gSW4gZm9sZGVkIHN0eWxlLCAkayQgY29uc2VjdXRpdmUgbmV3bGluZXMgb3V0cHV0IGFzICRrKzEkIG5ld2xpbmVz4oCUXG4gIC8vIHVubGVzcyB0aGV5J3JlIGJlZm9yZSBvciBhZnRlciBhIG1vcmUtaW5kZW50ZWQgbGluZSwgb3IgYXQgdGhlIHZlcnlcbiAgLy8gYmVnaW5uaW5nIG9yIGVuZCwgaW4gd2hpY2ggY2FzZSAkayQgbWFwcyB0byAkayQuXG4gIC8vIFRoZXJlZm9yZSwgcGFyc2UgZWFjaCBjaHVuayBhcyBuZXdsaW5lKHMpIGZvbGxvd2VkIGJ5IGEgY29udGVudCBsaW5lLlxuICB2YXIgbGluZVJlID0gLyhcXG4rKShbXlxcbl0qKS9nO1xuXG4gIC8vIGZpcnN0IGxpbmUgKHBvc3NpYmx5IGFuIGVtcHR5IGxpbmUpXG4gIHZhciByZXN1bHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXh0TEYgPSBzdHJpbmcuaW5kZXhPZignXFxuJyk7XG4gICAgbmV4dExGID0gbmV4dExGICE9PSAtMSA/IG5leHRMRiA6IHN0cmluZy5sZW5ndGg7XG4gICAgbGluZVJlLmxhc3RJbmRleCA9IG5leHRMRjtcbiAgICByZXR1cm4gZm9sZExpbmUoc3RyaW5nLnNsaWNlKDAsIG5leHRMRiksIHdpZHRoKTtcbiAgfSgpKTtcbiAgLy8gSWYgd2UgaGF2ZW4ndCByZWFjaGVkIHRoZSBmaXJzdCBjb250ZW50IGxpbmUgeWV0LCBkb24ndCBhZGQgYW4gZXh0cmEgXFxuLlxuICB2YXIgcHJldk1vcmVJbmRlbnRlZCA9IHN0cmluZ1swXSA9PT0gJ1xcbicgfHwgc3RyaW5nWzBdID09PSAnICc7XG4gIHZhciBtb3JlSW5kZW50ZWQ7XG5cbiAgLy8gcmVzdCBvZiB0aGUgbGluZXNcbiAgdmFyIG1hdGNoO1xuICB3aGlsZSAoKG1hdGNoID0gbGluZVJlLmV4ZWMoc3RyaW5nKSkpIHtcbiAgICB2YXIgcHJlZml4ID0gbWF0Y2hbMV0sIGxpbmUgPSBtYXRjaFsyXTtcbiAgICBtb3JlSW5kZW50ZWQgPSAobGluZVswXSA9PT0gJyAnKTtcbiAgICByZXN1bHQgKz0gcHJlZml4XG4gICAgICArICghcHJldk1vcmVJbmRlbnRlZCAmJiAhbW9yZUluZGVudGVkICYmIGxpbmUgIT09ICcnXG4gICAgICAgID8gJ1xcbicgOiAnJylcbiAgICAgICsgZm9sZExpbmUobGluZSwgd2lkdGgpO1xuICAgIHByZXZNb3JlSW5kZW50ZWQgPSBtb3JlSW5kZW50ZWQ7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBHcmVlZHkgbGluZSBicmVha2luZy5cbi8vIFBpY2tzIHRoZSBsb25nZXN0IGxpbmUgdW5kZXIgdGhlIGxpbWl0IGVhY2ggdGltZSxcbi8vIG90aGVyd2lzZSBzZXR0bGVzIGZvciB0aGUgc2hvcnRlc3QgbGluZSBvdmVyIHRoZSBsaW1pdC5cbi8vIE5CLiBNb3JlLWluZGVudGVkIGxpbmVzICpjYW5ub3QqIGJlIGZvbGRlZCwgYXMgdGhhdCB3b3VsZCBhZGQgYW4gZXh0cmEgXFxuLlxuZnVuY3Rpb24gZm9sZExpbmUobGluZSwgd2lkdGgpIHtcbiAgaWYgKGxpbmUgPT09ICcnIHx8IGxpbmVbMF0gPT09ICcgJykgcmV0dXJuIGxpbmU7XG5cbiAgLy8gU2luY2UgYSBtb3JlLWluZGVudGVkIGxpbmUgYWRkcyBhIFxcbiwgYnJlYWtzIGNhbid0IGJlIGZvbGxvd2VkIGJ5IGEgc3BhY2UuXG4gIHZhciBicmVha1JlID0gLyBbXiBdL2c7IC8vIG5vdGU6IHRoZSBtYXRjaCBpbmRleCB3aWxsIGFsd2F5cyBiZSA8PSBsZW5ndGgtMi5cbiAgdmFyIG1hdGNoO1xuICAvLyBzdGFydCBpcyBhbiBpbmNsdXNpdmUgaW5kZXguIGVuZCwgY3VyciwgYW5kIG5leHQgYXJlIGV4Y2x1c2l2ZS5cbiAgdmFyIHN0YXJ0ID0gMCwgZW5kLCBjdXJyID0gMCwgbmV4dCA9IDA7XG4gIHZhciByZXN1bHQgPSAnJztcblxuICAvLyBJbnZhcmlhbnRzOiAwIDw9IHN0YXJ0IDw9IGxlbmd0aC0xLlxuICAvLyAgIDAgPD0gY3VyciA8PSBuZXh0IDw9IG1heCgwLCBsZW5ndGgtMikuIGN1cnIgLSBzdGFydCA8PSB3aWR0aC5cbiAgLy8gSW5zaWRlIHRoZSBsb29wOlxuICAvLyAgIEEgbWF0Y2ggaW1wbGllcyBsZW5ndGggPj0gMiwgc28gY3VyciBhbmQgbmV4dCBhcmUgPD0gbGVuZ3RoLTIuXG4gIHdoaWxlICgobWF0Y2ggPSBicmVha1JlLmV4ZWMobGluZSkpKSB7XG4gICAgbmV4dCA9IG1hdGNoLmluZGV4O1xuICAgIC8vIG1haW50YWluIGludmFyaWFudDogY3VyciAtIHN0YXJ0IDw9IHdpZHRoXG4gICAgaWYgKG5leHQgLSBzdGFydCA+IHdpZHRoKSB7XG4gICAgICBlbmQgPSAoY3VyciA+IHN0YXJ0KSA/IGN1cnIgOiBuZXh0OyAvLyBkZXJpdmUgZW5kIDw9IGxlbmd0aC0yXG4gICAgICByZXN1bHQgKz0gJ1xcbicgKyBsaW5lLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgLy8gc2tpcCB0aGUgc3BhY2UgdGhhdCB3YXMgb3V0cHV0IGFzIFxcblxuICAgICAgc3RhcnQgPSBlbmQgKyAxOyAgICAgICAgICAgICAgICAgICAgLy8gZGVyaXZlIHN0YXJ0IDw9IGxlbmd0aC0xXG4gICAgfVxuICAgIGN1cnIgPSBuZXh0O1xuICB9XG5cbiAgLy8gQnkgdGhlIGludmFyaWFudHMsIHN0YXJ0IDw9IGxlbmd0aC0xLCBzbyB0aGVyZSBpcyBzb21ldGhpbmcgbGVmdCBvdmVyLlxuICAvLyBJdCBpcyBlaXRoZXIgdGhlIHdob2xlIHN0cmluZyBvciBhIHBhcnQgc3RhcnRpbmcgZnJvbSBub24td2hpdGVzcGFjZS5cbiAgcmVzdWx0ICs9ICdcXG4nO1xuICAvLyBJbnNlcnQgYSBicmVhayBpZiB0aGUgcmVtYWluZGVyIGlzIHRvbyBsb25nIGFuZCB0aGVyZSBpcyBhIGJyZWFrIGF2YWlsYWJsZS5cbiAgaWYgKGxpbmUubGVuZ3RoIC0gc3RhcnQgPiB3aWR0aCAmJiBjdXJyID4gc3RhcnQpIHtcbiAgICByZXN1bHQgKz0gbGluZS5zbGljZShzdGFydCwgY3VycikgKyAnXFxuJyArIGxpbmUuc2xpY2UoY3VyciArIDEpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCArPSBsaW5lLnNsaWNlKHN0YXJ0KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQuc2xpY2UoMSk7IC8vIGRyb3AgZXh0cmEgXFxuIGpvaW5lclxufVxuXG4vLyBFc2NhcGVzIGEgZG91YmxlLXF1b3RlZCBzdHJpbmcuXG5mdW5jdGlvbiBlc2NhcGVTdHJpbmcoc3RyaW5nKSB7XG4gIHZhciByZXN1bHQgPSAnJztcbiAgdmFyIGNoYXIgPSAwO1xuICB2YXIgZXNjYXBlU2VxO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgY2hhciA+PSAweDEwMDAwID8gaSArPSAyIDogaSsrKSB7XG4gICAgY2hhciA9IGNvZGVQb2ludEF0KHN0cmluZywgaSk7XG4gICAgZXNjYXBlU2VxID0gRVNDQVBFX1NFUVVFTkNFU1tjaGFyXTtcblxuICAgIGlmICghZXNjYXBlU2VxICYmIGlzUHJpbnRhYmxlKGNoYXIpKSB7XG4gICAgICByZXN1bHQgKz0gc3RyaW5nW2ldO1xuICAgICAgaWYgKGNoYXIgPj0gMHgxMDAwMCkgcmVzdWx0ICs9IHN0cmluZ1tpICsgMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCArPSBlc2NhcGVTZXEgfHwgZW5jb2RlSGV4KGNoYXIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvd1NlcXVlbmNlKHN0YXRlLCBsZXZlbCwgb2JqZWN0KSB7XG4gIHZhciBfcmVzdWx0ID0gJycsXG4gICAgICBfdGFnICAgID0gc3RhdGUudGFnLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGgsXG4gICAgICB2YWx1ZTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB2YWx1ZSA9IG9iamVjdFtpbmRleF07XG5cbiAgICBpZiAoc3RhdGUucmVwbGFjZXIpIHtcbiAgICAgIHZhbHVlID0gc3RhdGUucmVwbGFjZXIuY2FsbChvYmplY3QsIFN0cmluZyhpbmRleCksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBXcml0ZSBvbmx5IHZhbGlkIGVsZW1lbnRzLCBwdXQgbnVsbCBpbnN0ZWFkIG9mIGludmFsaWQgZWxlbWVudHMuXG4gICAgaWYgKHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIHZhbHVlLCBmYWxzZSwgZmFsc2UpIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICB3cml0ZU5vZGUoc3RhdGUsIGxldmVsLCBudWxsLCBmYWxzZSwgZmFsc2UpKSkge1xuXG4gICAgICBpZiAoX3Jlc3VsdCAhPT0gJycpIF9yZXN1bHQgKz0gJywnICsgKCFzdGF0ZS5jb25kZW5zZUZsb3cgPyAnICcgOiAnJyk7XG4gICAgICBfcmVzdWx0ICs9IHN0YXRlLmR1bXA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9ICdbJyArIF9yZXN1bHQgKyAnXSc7XG59XG5cbmZ1bmN0aW9uIHdyaXRlQmxvY2tTZXF1ZW5jZShzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgY29tcGFjdCkge1xuICB2YXIgX3Jlc3VsdCA9ICcnLFxuICAgICAgX3RhZyAgICA9IHN0YXRlLnRhZyxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoLFxuICAgICAgdmFsdWU7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdmFsdWUgPSBvYmplY3RbaW5kZXhdO1xuXG4gICAgaWYgKHN0YXRlLnJlcGxhY2VyKSB7XG4gICAgICB2YWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwob2JqZWN0LCBTdHJpbmcoaW5kZXgpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gV3JpdGUgb25seSB2YWxpZCBlbGVtZW50cywgcHV0IG51bGwgaW5zdGVhZCBvZiBpbnZhbGlkIGVsZW1lbnRzLlxuICAgIGlmICh3cml0ZU5vZGUoc3RhdGUsIGxldmVsICsgMSwgdmFsdWUsIHRydWUsIHRydWUsIGZhbHNlLCB0cnVlKSB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCArIDEsIG51bGwsIHRydWUsIHRydWUsIGZhbHNlLCB0cnVlKSkpIHtcblxuICAgICAgaWYgKCFjb21wYWN0IHx8IF9yZXN1bHQgIT09ICcnKSB7XG4gICAgICAgIF9yZXN1bHQgKz0gZ2VuZXJhdGVOZXh0TGluZShzdGF0ZSwgbGV2ZWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUuZHVtcCAmJiBDSEFSX0xJTkVfRkVFRCA9PT0gc3RhdGUuZHVtcC5jaGFyQ29kZUF0KDApKSB7XG4gICAgICAgIF9yZXN1bHQgKz0gJy0nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc3VsdCArPSAnLSAnO1xuICAgICAgfVxuXG4gICAgICBfcmVzdWx0ICs9IHN0YXRlLmR1bXA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9IF9yZXN1bHQgfHwgJ1tdJzsgLy8gRW1wdHkgc2VxdWVuY2UgaWYgbm8gdmFsaWQgdmFsdWVzLlxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb3dNYXBwaW5nKHN0YXRlLCBsZXZlbCwgb2JqZWN0KSB7XG4gIHZhciBfcmVzdWx0ICAgICAgID0gJycsXG4gICAgICBfdGFnICAgICAgICAgID0gc3RhdGUudGFnLFxuICAgICAgb2JqZWN0S2V5TGlzdCA9IE9iamVjdC5rZXlzKG9iamVjdCksXG4gICAgICBpbmRleCxcbiAgICAgIGxlbmd0aCxcbiAgICAgIG9iamVjdEtleSxcbiAgICAgIG9iamVjdFZhbHVlLFxuICAgICAgcGFpckJ1ZmZlcjtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0S2V5TGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG5cbiAgICBwYWlyQnVmZmVyID0gJyc7XG4gICAgaWYgKF9yZXN1bHQgIT09ICcnKSBwYWlyQnVmZmVyICs9ICcsICc7XG5cbiAgICBpZiAoc3RhdGUuY29uZGVuc2VGbG93KSBwYWlyQnVmZmVyICs9ICdcIic7XG5cbiAgICBvYmplY3RLZXkgPSBvYmplY3RLZXlMaXN0W2luZGV4XTtcbiAgICBvYmplY3RWYWx1ZSA9IG9iamVjdFtvYmplY3RLZXldO1xuXG4gICAgaWYgKHN0YXRlLnJlcGxhY2VyKSB7XG4gICAgICBvYmplY3RWYWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwob2JqZWN0LCBvYmplY3RLZXksIG9iamVjdFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoIXdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIG9iamVjdEtleSwgZmFsc2UsIGZhbHNlKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCBrZXk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLmR1bXAubGVuZ3RoID4gMTAyNCkgcGFpckJ1ZmZlciArPSAnPyAnO1xuXG4gICAgcGFpckJ1ZmZlciArPSBzdGF0ZS5kdW1wICsgKHN0YXRlLmNvbmRlbnNlRmxvdyA/ICdcIicgOiAnJykgKyAnOicgKyAoc3RhdGUuY29uZGVuc2VGbG93ID8gJycgOiAnICcpO1xuXG4gICAgaWYgKCF3cml0ZU5vZGUoc3RhdGUsIGxldmVsLCBvYmplY3RWYWx1ZSwgZmFsc2UsIGZhbHNlKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCB2YWx1ZS5cbiAgICB9XG5cbiAgICBwYWlyQnVmZmVyICs9IHN0YXRlLmR1bXA7XG5cbiAgICAvLyBCb3RoIGtleSBhbmQgdmFsdWUgYXJlIHZhbGlkLlxuICAgIF9yZXN1bHQgKz0gcGFpckJ1ZmZlcjtcbiAgfVxuXG4gIHN0YXRlLnRhZyA9IF90YWc7XG4gIHN0YXRlLmR1bXAgPSAneycgKyBfcmVzdWx0ICsgJ30nO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJsb2NrTWFwcGluZyhzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgY29tcGFjdCkge1xuICB2YXIgX3Jlc3VsdCAgICAgICA9ICcnLFxuICAgICAgX3RhZyAgICAgICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIG9iamVjdEtleUxpc3QgPSBPYmplY3Qua2V5cyhvYmplY3QpLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGgsXG4gICAgICBvYmplY3RLZXksXG4gICAgICBvYmplY3RWYWx1ZSxcbiAgICAgIGV4cGxpY2l0UGFpcixcbiAgICAgIHBhaXJCdWZmZXI7XG5cbiAgLy8gQWxsb3cgc29ydGluZyBrZXlzIHNvIHRoYXQgdGhlIG91dHB1dCBmaWxlIGlzIGRldGVybWluaXN0aWNcbiAgaWYgKHN0YXRlLnNvcnRLZXlzID09PSB0cnVlKSB7XG4gICAgLy8gRGVmYXVsdCBzb3J0aW5nXG4gICAgb2JqZWN0S2V5TGlzdC5zb3J0KCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHN0YXRlLnNvcnRLZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gQ3VzdG9tIHNvcnQgZnVuY3Rpb25cbiAgICBvYmplY3RLZXlMaXN0LnNvcnQoc3RhdGUuc29ydEtleXMpO1xuICB9IGVsc2UgaWYgKHN0YXRlLnNvcnRLZXlzKSB7XG4gICAgLy8gU29tZXRoaW5nIGlzIHdyb25nXG4gICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ3NvcnRLZXlzIG11c3QgYmUgYSBib29sZWFuIG9yIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3RLZXlMaXN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBwYWlyQnVmZmVyID0gJyc7XG5cbiAgICBpZiAoIWNvbXBhY3QgfHwgX3Jlc3VsdCAhPT0gJycpIHtcbiAgICAgIHBhaXJCdWZmZXIgKz0gZ2VuZXJhdGVOZXh0TGluZShzdGF0ZSwgbGV2ZWwpO1xuICAgIH1cblxuICAgIG9iamVjdEtleSA9IG9iamVjdEtleUxpc3RbaW5kZXhdO1xuICAgIG9iamVjdFZhbHVlID0gb2JqZWN0W29iamVjdEtleV07XG5cbiAgICBpZiAoc3RhdGUucmVwbGFjZXIpIHtcbiAgICAgIG9iamVjdFZhbHVlID0gc3RhdGUucmVwbGFjZXIuY2FsbChvYmplY3QsIG9iamVjdEtleSwgb2JqZWN0VmFsdWUpO1xuICAgIH1cblxuICAgIGlmICghd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCArIDEsIG9iamVjdEtleSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSkpIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHRoaXMgcGFpciBiZWNhdXNlIG9mIGludmFsaWQga2V5LlxuICAgIH1cblxuICAgIGV4cGxpY2l0UGFpciA9IChzdGF0ZS50YWcgIT09IG51bGwgJiYgc3RhdGUudGFnICE9PSAnPycpIHx8XG4gICAgICAgICAgICAgICAgICAgKHN0YXRlLmR1bXAgJiYgc3RhdGUuZHVtcC5sZW5ndGggPiAxMDI0KTtcblxuICAgIGlmIChleHBsaWNpdFBhaXIpIHtcbiAgICAgIGlmIChzdGF0ZS5kdW1wICYmIENIQVJfTElORV9GRUVEID09PSBzdGF0ZS5kdW1wLmNoYXJDb2RlQXQoMCkpIHtcbiAgICAgICAgcGFpckJ1ZmZlciArPSAnPyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWlyQnVmZmVyICs9ICc/ICc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGFpckJ1ZmZlciArPSBzdGF0ZS5kdW1wO1xuXG4gICAgaWYgKGV4cGxpY2l0UGFpcikge1xuICAgICAgcGFpckJ1ZmZlciArPSBnZW5lcmF0ZU5leHRMaW5lKHN0YXRlLCBsZXZlbCk7XG4gICAgfVxuXG4gICAgaWYgKCF3cml0ZU5vZGUoc3RhdGUsIGxldmVsICsgMSwgb2JqZWN0VmFsdWUsIHRydWUsIGV4cGxpY2l0UGFpcikpIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHRoaXMgcGFpciBiZWNhdXNlIG9mIGludmFsaWQgdmFsdWUuXG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLmR1bXAgJiYgQ0hBUl9MSU5FX0ZFRUQgPT09IHN0YXRlLmR1bXAuY2hhckNvZGVBdCgwKSkge1xuICAgICAgcGFpckJ1ZmZlciArPSAnOic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhaXJCdWZmZXIgKz0gJzogJztcbiAgICB9XG5cbiAgICBwYWlyQnVmZmVyICs9IHN0YXRlLmR1bXA7XG5cbiAgICAvLyBCb3RoIGtleSBhbmQgdmFsdWUgYXJlIHZhbGlkLlxuICAgIF9yZXN1bHQgKz0gcGFpckJ1ZmZlcjtcbiAgfVxuXG4gIHN0YXRlLnRhZyA9IF90YWc7XG4gIHN0YXRlLmR1bXAgPSBfcmVzdWx0IHx8ICd7fSc7IC8vIEVtcHR5IG1hcHBpbmcgaWYgbm8gdmFsaWQgcGFpcnMuXG59XG5cbmZ1bmN0aW9uIGRldGVjdFR5cGUoc3RhdGUsIG9iamVjdCwgZXhwbGljaXQpIHtcbiAgdmFyIF9yZXN1bHQsIHR5cGVMaXN0LCBpbmRleCwgbGVuZ3RoLCB0eXBlLCBzdHlsZTtcblxuICB0eXBlTGlzdCA9IGV4cGxpY2l0ID8gc3RhdGUuZXhwbGljaXRUeXBlcyA6IHN0YXRlLmltcGxpY2l0VHlwZXM7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IHR5cGVMaXN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB0eXBlID0gdHlwZUxpc3RbaW5kZXhdO1xuXG4gICAgaWYgKCh0eXBlLmluc3RhbmNlT2YgIHx8IHR5cGUucHJlZGljYXRlKSAmJlxuICAgICAgICAoIXR5cGUuaW5zdGFuY2VPZiB8fCAoKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSAmJiAob2JqZWN0IGluc3RhbmNlb2YgdHlwZS5pbnN0YW5jZU9mKSkpICYmXG4gICAgICAgICghdHlwZS5wcmVkaWNhdGUgIHx8IHR5cGUucHJlZGljYXRlKG9iamVjdCkpKSB7XG5cbiAgICAgIGlmIChleHBsaWNpdCkge1xuICAgICAgICBpZiAodHlwZS5tdWx0aSAmJiB0eXBlLnJlcHJlc2VudE5hbWUpIHtcbiAgICAgICAgICBzdGF0ZS50YWcgPSB0eXBlLnJlcHJlc2VudE5hbWUob2JqZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZS50YWcgPSB0eXBlLnRhZztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUudGFnID0gJz8nO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZS5yZXByZXNlbnQpIHtcbiAgICAgICAgc3R5bGUgPSBzdGF0ZS5zdHlsZU1hcFt0eXBlLnRhZ10gfHwgdHlwZS5kZWZhdWx0U3R5bGU7XG5cbiAgICAgICAgaWYgKF90b1N0cmluZy5jYWxsKHR5cGUucmVwcmVzZW50KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJykge1xuICAgICAgICAgIF9yZXN1bHQgPSB0eXBlLnJlcHJlc2VudChvYmplY3QsIHN0eWxlKTtcbiAgICAgICAgfSBlbHNlIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbCh0eXBlLnJlcHJlc2VudCwgc3R5bGUpKSB7XG4gICAgICAgICAgX3Jlc3VsdCA9IHR5cGUucmVwcmVzZW50W3N0eWxlXShvYmplY3QsIHN0eWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbignITwnICsgdHlwZS50YWcgKyAnPiB0YWcgcmVzb2x2ZXIgYWNjZXB0cyBub3QgXCInICsgc3R5bGUgKyAnXCIgc3R5bGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLmR1bXAgPSBfcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIFNlcmlhbGl6ZXMgYG9iamVjdGAgYW5kIHdyaXRlcyBpdCB0byBnbG9iYWwgYHJlc3VsdGAuXG4vLyBSZXR1cm5zIHRydWUgb24gc3VjY2Vzcywgb3IgZmFsc2Ugb24gaW52YWxpZCBvYmplY3QuXG4vL1xuZnVuY3Rpb24gd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCwgb2JqZWN0LCBibG9jaywgY29tcGFjdCwgaXNrZXksIGlzYmxvY2tzZXEpIHtcbiAgc3RhdGUudGFnID0gbnVsbDtcbiAgc3RhdGUuZHVtcCA9IG9iamVjdDtcblxuICBpZiAoIWRldGVjdFR5cGUoc3RhdGUsIG9iamVjdCwgZmFsc2UpKSB7XG4gICAgZGV0ZWN0VHlwZShzdGF0ZSwgb2JqZWN0LCB0cnVlKTtcbiAgfVxuXG4gIHZhciB0eXBlID0gX3RvU3RyaW5nLmNhbGwoc3RhdGUuZHVtcCk7XG4gIHZhciBpbmJsb2NrID0gYmxvY2s7XG4gIHZhciB0YWdTdHI7XG5cbiAgaWYgKGJsb2NrKSB7XG4gICAgYmxvY2sgPSAoc3RhdGUuZmxvd0xldmVsIDwgMCB8fCBzdGF0ZS5mbG93TGV2ZWwgPiBsZXZlbCk7XG4gIH1cblxuICB2YXIgb2JqZWN0T3JBcnJheSA9IHR5cGUgPT09ICdbb2JqZWN0IE9iamVjdF0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBkdXBsaWNhdGVJbmRleCxcbiAgICAgIGR1cGxpY2F0ZTtcblxuICBpZiAob2JqZWN0T3JBcnJheSkge1xuICAgIGR1cGxpY2F0ZUluZGV4ID0gc3RhdGUuZHVwbGljYXRlcy5pbmRleE9mKG9iamVjdCk7XG4gICAgZHVwbGljYXRlID0gZHVwbGljYXRlSW5kZXggIT09IC0xO1xuICB9XG5cbiAgaWYgKChzdGF0ZS50YWcgIT09IG51bGwgJiYgc3RhdGUudGFnICE9PSAnPycpIHx8IGR1cGxpY2F0ZSB8fCAoc3RhdGUuaW5kZW50ICE9PSAyICYmIGxldmVsID4gMCkpIHtcbiAgICBjb21wYWN0ID0gZmFsc2U7XG4gIH1cblxuICBpZiAoZHVwbGljYXRlICYmIHN0YXRlLnVzZWREdXBsaWNhdGVzW2R1cGxpY2F0ZUluZGV4XSkge1xuICAgIHN0YXRlLmR1bXAgPSAnKnJlZl8nICsgZHVwbGljYXRlSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9iamVjdE9yQXJyYXkgJiYgZHVwbGljYXRlICYmICFzdGF0ZS51c2VkRHVwbGljYXRlc1tkdXBsaWNhdGVJbmRleF0pIHtcbiAgICAgIHN0YXRlLnVzZWREdXBsaWNhdGVzW2R1cGxpY2F0ZUluZGV4XSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgaWYgKGJsb2NrICYmIChPYmplY3Qua2V5cyhzdGF0ZS5kdW1wKS5sZW5ndGggIT09IDApKSB7XG4gICAgICAgIHdyaXRlQmxvY2tNYXBwaW5nKHN0YXRlLCBsZXZlbCwgc3RhdGUuZHVtcCwgY29tcGFjdCk7XG4gICAgICAgIGlmIChkdXBsaWNhdGUpIHtcbiAgICAgICAgICBzdGF0ZS5kdW1wID0gJyZyZWZfJyArIGR1cGxpY2F0ZUluZGV4ICsgc3RhdGUuZHVtcDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd3JpdGVGbG93TWFwcGluZyhzdGF0ZSwgbGV2ZWwsIHN0YXRlLmR1bXApO1xuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArICcgJyArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIGlmIChibG9jayAmJiAoc3RhdGUuZHVtcC5sZW5ndGggIT09IDApKSB7XG4gICAgICAgIGlmIChzdGF0ZS5ub0FycmF5SW5kZW50ICYmICFpc2Jsb2Nrc2VxICYmIGxldmVsID4gMCkge1xuICAgICAgICAgIHdyaXRlQmxvY2tTZXF1ZW5jZShzdGF0ZSwgbGV2ZWwgLSAxLCBzdGF0ZS5kdW1wLCBjb21wYWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3cml0ZUJsb2NrU2VxdWVuY2Uoc3RhdGUsIGxldmVsLCBzdGF0ZS5kdW1wLCBjb21wYWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyaXRlRmxvd1NlcXVlbmNlKHN0YXRlLCBsZXZlbCwgc3RhdGUuZHVtcCk7XG4gICAgICAgIGlmIChkdXBsaWNhdGUpIHtcbiAgICAgICAgICBzdGF0ZS5kdW1wID0gJyZyZWZfJyArIGR1cGxpY2F0ZUluZGV4ICsgJyAnICsgc3RhdGUuZHVtcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpIHtcbiAgICAgIGlmIChzdGF0ZS50YWcgIT09ICc/Jykge1xuICAgICAgICB3cml0ZVNjYWxhcihzdGF0ZSwgc3RhdGUuZHVtcCwgbGV2ZWwsIGlza2V5LCBpbmJsb2NrKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdbb2JqZWN0IFVuZGVmaW5lZF0nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0ZS5za2lwSW52YWxpZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ3VuYWNjZXB0YWJsZSBraW5kIG9mIGFuIG9iamVjdCB0byBkdW1wICcgKyB0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUudGFnICE9PSBudWxsICYmIHN0YXRlLnRhZyAhPT0gJz8nKSB7XG4gICAgICAvLyBOZWVkIHRvIGVuY29kZSBhbGwgY2hhcmFjdGVycyBleGNlcHQgdGhvc2UgYWxsb3dlZCBieSB0aGUgc3BlYzpcbiAgICAgIC8vXG4gICAgICAvLyBbMzVdIG5zLWRlYy1kaWdpdCAgICA6Oj0gIFsjeDMwLSN4MzldIC8qIDAtOSAqL1xuICAgICAgLy8gWzM2XSBucy1oZXgtZGlnaXQgICAgOjo9ICBucy1kZWMtZGlnaXRcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHwgWyN4NDEtI3g0Nl0gLyogQS1GICovIHwgWyN4NjEtI3g2Nl0gLyogYS1mICovXG4gICAgICAvLyBbMzddIG5zLWFzY2lpLWxldHRlciA6Oj0gIFsjeDQxLSN4NUFdIC8qIEEtWiAqLyB8IFsjeDYxLSN4N0FdIC8qIGEteiAqL1xuICAgICAgLy8gWzM4XSBucy13b3JkLWNoYXIgICAgOjo9ICBucy1kZWMtZGlnaXQgfCBucy1hc2NpaS1sZXR0ZXIgfCDigJwt4oCdXG4gICAgICAvLyBbMzldIG5zLXVyaS1jaGFyICAgICA6Oj0gIOKAnCXigJ0gbnMtaGV4LWRpZ2l0IG5zLWhleC1kaWdpdCB8IG5zLXdvcmQtY2hhciB8IOKAnCPigJ1cbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHwg4oCcO+KAnSB8IOKAnC/igJ0gfCDigJw/4oCdIHwg4oCcOuKAnSB8IOKAnEDigJ0gfCDigJwm4oCdIHwg4oCcPeKAnSB8IOKAnCvigJ0gfCDigJwk4oCdIHwg4oCcLOKAnVxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfCDigJxf4oCdIHwg4oCcLuKAnSB8IOKAnCHigJ0gfCDigJx+4oCdIHwg4oCcKuKAnSB8IOKAnCfigJ0gfCDigJwo4oCdIHwg4oCcKeKAnSB8IOKAnFvigJ0gfCDigJxd4oCdXG4gICAgICAvL1xuICAgICAgLy8gQWxzbyBuZWVkIHRvIGVuY29kZSAnIScgYmVjYXVzZSBpdCBoYXMgc3BlY2lhbCBtZWFuaW5nIChlbmQgb2YgdGFnIHByZWZpeCkuXG4gICAgICAvL1xuICAgICAgdGFnU3RyID0gZW5jb2RlVVJJKFxuICAgICAgICBzdGF0ZS50YWdbMF0gPT09ICchJyA/IHN0YXRlLnRhZy5zbGljZSgxKSA6IHN0YXRlLnRhZ1xuICAgICAgKS5yZXBsYWNlKC8hL2csICclMjEnKTtcblxuICAgICAgaWYgKHN0YXRlLnRhZ1swXSA9PT0gJyEnKSB7XG4gICAgICAgIHRhZ1N0ciA9ICchJyArIHRhZ1N0cjtcbiAgICAgIH0gZWxzZSBpZiAodGFnU3RyLnNsaWNlKDAsIDE4KSA9PT0gJ3RhZzp5YW1sLm9yZywyMDAyOicpIHtcbiAgICAgICAgdGFnU3RyID0gJyEhJyArIHRhZ1N0ci5zbGljZSgxOCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWdTdHIgPSAnITwnICsgdGFnU3RyICsgJz4nO1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS5kdW1wID0gdGFnU3RyICsgJyAnICsgc3RhdGUuZHVtcDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0RHVwbGljYXRlUmVmZXJlbmNlcyhvYmplY3QsIHN0YXRlKSB7XG4gIHZhciBvYmplY3RzID0gW10sXG4gICAgICBkdXBsaWNhdGVzSW5kZXhlcyA9IFtdLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGg7XG5cbiAgaW5zcGVjdE5vZGUob2JqZWN0LCBvYmplY3RzLCBkdXBsaWNhdGVzSW5kZXhlcyk7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IGR1cGxpY2F0ZXNJbmRleGVzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBzdGF0ZS5kdXBsaWNhdGVzLnB1c2gob2JqZWN0c1tkdXBsaWNhdGVzSW5kZXhlc1tpbmRleF1dKTtcbiAgfVxuICBzdGF0ZS51c2VkRHVwbGljYXRlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBpbnNwZWN0Tm9kZShvYmplY3QsIG9iamVjdHMsIGR1cGxpY2F0ZXNJbmRleGVzKSB7XG4gIHZhciBvYmplY3RLZXlMaXN0LFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGg7XG5cbiAgaWYgKG9iamVjdCAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jykge1xuICAgIGluZGV4ID0gb2JqZWN0cy5pbmRleE9mKG9iamVjdCk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgaWYgKGR1cGxpY2F0ZXNJbmRleGVzLmluZGV4T2YoaW5kZXgpID09PSAtMSkge1xuICAgICAgICBkdXBsaWNhdGVzSW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb2JqZWN0cy5wdXNoKG9iamVjdCk7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgICAgICAgaW5zcGVjdE5vZGUob2JqZWN0W2luZGV4XSwgb2JqZWN0cywgZHVwbGljYXRlc0luZGV4ZXMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3RLZXlMaXN0ID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0S2V5TGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgICAgICAgaW5zcGVjdE5vZGUob2JqZWN0W29iamVjdEtleUxpc3RbaW5kZXhdXSwgb2JqZWN0cywgZHVwbGljYXRlc0luZGV4ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGR1bXAoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHN0YXRlID0gbmV3IFN0YXRlKG9wdGlvbnMpO1xuXG4gIGlmICghc3RhdGUubm9SZWZzKSBnZXREdXBsaWNhdGVSZWZlcmVuY2VzKGlucHV0LCBzdGF0ZSk7XG5cbiAgdmFyIHZhbHVlID0gaW5wdXQ7XG5cbiAgaWYgKHN0YXRlLnJlcGxhY2VyKSB7XG4gICAgdmFsdWUgPSBzdGF0ZS5yZXBsYWNlci5jYWxsKHsgJyc6IHZhbHVlIH0sICcnLCB2YWx1ZSk7XG4gIH1cblxuICBpZiAod3JpdGVOb2RlKHN0YXRlLCAwLCB2YWx1ZSwgdHJ1ZSwgdHJ1ZSkpIHJldHVybiBzdGF0ZS5kdW1wICsgJ1xcbic7XG5cbiAgcmV0dXJuICcnO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5kdW1wID0gZHVtcDtcbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgbG9hZGVyID0gcmVxdWlyZSgnLi9saWIvbG9hZGVyJyk7XG52YXIgZHVtcGVyID0gcmVxdWlyZSgnLi9saWIvZHVtcGVyJyk7XG5cblxuZnVuY3Rpb24gcmVuYW1lZChmcm9tLCB0bykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24geWFtbC4nICsgZnJvbSArICcgaXMgcmVtb3ZlZCBpbiBqcy15YW1sIDQuICcgK1xuICAgICAgJ1VzZSB5YW1sLicgKyB0byArICcgaW5zdGVhZCwgd2hpY2ggaXMgbm93IHNhZmUgYnkgZGVmYXVsdC4nKTtcbiAgfTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cy5UeXBlICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9saWIvdHlwZScpO1xubW9kdWxlLmV4cG9ydHMuU2NoZW1hICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vbGliL3NjaGVtYScpO1xubW9kdWxlLmV4cG9ydHMuRkFJTFNBRkVfU0NIRU1BICAgICA9IHJlcXVpcmUoJy4vbGliL3NjaGVtYS9mYWlsc2FmZScpO1xubW9kdWxlLmV4cG9ydHMuSlNPTl9TQ0hFTUEgICAgICAgICA9IHJlcXVpcmUoJy4vbGliL3NjaGVtYS9qc29uJyk7XG5tb2R1bGUuZXhwb3J0cy5DT1JFX1NDSEVNQSAgICAgICAgID0gcmVxdWlyZSgnLi9saWIvc2NoZW1hL2NvcmUnKTtcbm1vZHVsZS5leHBvcnRzLkRFRkFVTFRfU0NIRU1BICAgICAgPSByZXF1aXJlKCcuL2xpYi9zY2hlbWEvZGVmYXVsdCcpO1xubW9kdWxlLmV4cG9ydHMubG9hZCAgICAgICAgICAgICAgICA9IGxvYWRlci5sb2FkO1xubW9kdWxlLmV4cG9ydHMubG9hZEFsbCAgICAgICAgICAgICA9IGxvYWRlci5sb2FkQWxsO1xubW9kdWxlLmV4cG9ydHMuZHVtcCAgICAgICAgICAgICAgICA9IGR1bXBlci5kdW1wO1xubW9kdWxlLmV4cG9ydHMuWUFNTEV4Y2VwdGlvbiAgICAgICA9IHJlcXVpcmUoJy4vbGliL2V4Y2VwdGlvbicpO1xuXG4vLyBSZS1leHBvcnQgYWxsIHR5cGVzIGluIGNhc2UgdXNlciB3YW50cyB0byBjcmVhdGUgY3VzdG9tIHNjaGVtYVxubW9kdWxlLmV4cG9ydHMudHlwZXMgPSB7XG4gIGJpbmFyeTogICAgcmVxdWlyZSgnLi9saWIvdHlwZS9iaW5hcnknKSxcbiAgZmxvYXQ6ICAgICByZXF1aXJlKCcuL2xpYi90eXBlL2Zsb2F0JyksXG4gIG1hcDogICAgICAgcmVxdWlyZSgnLi9saWIvdHlwZS9tYXAnKSxcbiAgbnVsbDogICAgICByZXF1aXJlKCcuL2xpYi90eXBlL251bGwnKSxcbiAgcGFpcnM6ICAgICByZXF1aXJlKCcuL2xpYi90eXBlL3BhaXJzJyksXG4gIHNldDogICAgICAgcmVxdWlyZSgnLi9saWIvdHlwZS9zZXQnKSxcbiAgdGltZXN0YW1wOiByZXF1aXJlKCcuL2xpYi90eXBlL3RpbWVzdGFtcCcpLFxuICBib29sOiAgICAgIHJlcXVpcmUoJy4vbGliL3R5cGUvYm9vbCcpLFxuICBpbnQ6ICAgICAgIHJlcXVpcmUoJy4vbGliL3R5cGUvaW50JyksXG4gIG1lcmdlOiAgICAgcmVxdWlyZSgnLi9saWIvdHlwZS9tZXJnZScpLFxuICBvbWFwOiAgICAgIHJlcXVpcmUoJy4vbGliL3R5cGUvb21hcCcpLFxuICBzZXE6ICAgICAgIHJlcXVpcmUoJy4vbGliL3R5cGUvc2VxJyksXG4gIHN0cjogICAgICAgcmVxdWlyZSgnLi9saWIvdHlwZS9zdHInKVxufTtcblxuLy8gUmVtb3ZlZCBmdW5jdGlvbnMgZnJvbSBKUy1ZQU1MIDMuMC54XG5tb2R1bGUuZXhwb3J0cy5zYWZlTG9hZCAgICAgICAgICAgID0gcmVuYW1lZCgnc2FmZUxvYWQnLCAnbG9hZCcpO1xubW9kdWxlLmV4cG9ydHMuc2FmZUxvYWRBbGwgICAgICAgICA9IHJlbmFtZWQoJ3NhZmVMb2FkQWxsJywgJ2xvYWRBbGwnKTtcbm1vZHVsZS5leHBvcnRzLnNhZmVEdW1wICAgICAgICAgICAgPSByZW5hbWVkKCdzYWZlRHVtcCcsICdkdW1wJyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGF6eSA9IHZvaWQgMDtcbmNsYXNzIExhenkge1xuICAgIGNvbnN0cnVjdG9yKGNyZWF0b3IpIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuICAgICAgICB0aGlzLmNyZWF0b3IgPSBjcmVhdG9yO1xuICAgIH1cbiAgICBnZXQgaGFzVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0b3IgPT0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy5jcmVhdG9yID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNyZWF0b3IoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHJlc3VsdDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuY3JlYXRvciA9IG51bGw7XG4gICAgfVxufVxuZXhwb3J0cy5MYXp5ID0gTGF6eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1haW4uanMubWFwIiwiLy8gTm90ZTogdGhpcyBpcyB0aGUgc2VtdmVyLm9yZyB2ZXJzaW9uIG9mIHRoZSBzcGVjIHRoYXQgaXQgaW1wbGVtZW50c1xuLy8gTm90IG5lY2Vzc2FyaWx5IHRoZSBwYWNrYWdlIHZlcnNpb24gb2YgdGhpcyBjb2RlLlxuY29uc3QgU0VNVkVSX1NQRUNfVkVSU0lPTiA9ICcyLjAuMCdcblxuY29uc3QgTUFYX0xFTkdUSCA9IDI1NlxuY29uc3QgTUFYX1NBRkVfSU5URUdFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIDkwMDcxOTkyNTQ3NDA5OTFcblxuLy8gTWF4IHNhZmUgc2VnbWVudCBsZW5ndGggZm9yIGNvZXJjaW9uLlxuY29uc3QgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCA9IDE2XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBTRU1WRVJfU1BFQ19WRVJTSU9OLFxuICBNQVhfTEVOR1RILFxuICBNQVhfU0FGRV9JTlRFR0VSLFxuICBNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIXG59XG4iLCJjb25zdCBkZWJ1ZyA9IChcbiAgdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmXG4gIHByb2Nlc3MuZW52ICYmXG4gIHByb2Nlc3MuZW52Lk5PREVfREVCVUcgJiZcbiAgL1xcYnNlbXZlclxcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRylcbikgPyAoLi4uYXJncykgPT4gY29uc29sZS5lcnJvcignU0VNVkVSJywgLi4uYXJncylcbiAgOiAoKSA9PiB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlYnVnXG4iLCJjb25zdCB7IE1BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEggfSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJylcbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgnLi9kZWJ1ZycpXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB7fVxuXG4vLyBUaGUgYWN0dWFsIHJlZ2V4cHMgZ28gb24gZXhwb3J0cy5yZVxuY29uc3QgcmUgPSBleHBvcnRzLnJlID0gW11cbmNvbnN0IHNyYyA9IGV4cG9ydHMuc3JjID0gW11cbmNvbnN0IHQgPSBleHBvcnRzLnQgPSB7fVxubGV0IFIgPSAwXG5cbmNvbnN0IGNyZWF0ZVRva2VuID0gKG5hbWUsIHZhbHVlLCBpc0dsb2JhbCkgPT4ge1xuICBjb25zdCBpbmRleCA9IFIrK1xuICBkZWJ1ZyhpbmRleCwgdmFsdWUpXG4gIHRbbmFtZV0gPSBpbmRleFxuICBzcmNbaW5kZXhdID0gdmFsdWVcbiAgcmVbaW5kZXhdID0gbmV3IFJlZ0V4cCh2YWx1ZSwgaXNHbG9iYWwgPyAnZycgOiB1bmRlZmluZWQpXG59XG5cbi8vIFRoZSBmb2xsb3dpbmcgUmVndWxhciBFeHByZXNzaW9ucyBjYW4gYmUgdXNlZCBmb3IgdG9rZW5pemluZyxcbi8vIHZhbGlkYXRpbmcsIGFuZCBwYXJzaW5nIFNlbVZlciB2ZXJzaW9uIHN0cmluZ3MuXG5cbi8vICMjIE51bWVyaWMgSWRlbnRpZmllclxuLy8gQSBzaW5nbGUgYDBgLCBvciBhIG5vbi16ZXJvIGRpZ2l0IGZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBkaWdpdHMuXG5cbmNyZWF0ZVRva2VuKCdOVU1FUklDSURFTlRJRklFUicsICcwfFsxLTldXFxcXGQqJylcbmNyZWF0ZVRva2VuKCdOVU1FUklDSURFTlRJRklFUkxPT1NFJywgJ1swLTldKycpXG5cbi8vICMjIE5vbi1udW1lcmljIElkZW50aWZpZXJcbi8vIFplcm8gb3IgbW9yZSBkaWdpdHMsIGZvbGxvd2VkIGJ5IGEgbGV0dGVyIG9yIGh5cGhlbiwgYW5kIHRoZW4gemVybyBvclxuLy8gbW9yZSBsZXR0ZXJzLCBkaWdpdHMsIG9yIGh5cGhlbnMuXG5cbmNyZWF0ZVRva2VuKCdOT05OVU1FUklDSURFTlRJRklFUicsICdcXFxcZCpbYS16QS1aLV1bYS16QS1aMC05LV0qJylcblxuLy8gIyMgTWFpbiBWZXJzaW9uXG4vLyBUaHJlZSBkb3Qtc2VwYXJhdGVkIG51bWVyaWMgaWRlbnRpZmllcnMuXG5cbmNyZWF0ZVRva2VuKCdNQUlOVkVSU0lPTicsIGAoJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUl19KVxcXFwuYCArXG4gICAgICAgICAgICAgICAgICAgYCgke3NyY1t0Lk5VTUVSSUNJREVOVElGSUVSXX0pXFxcXC5gICtcbiAgICAgICAgICAgICAgICAgICBgKCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJdfSlgKVxuXG5jcmVhdGVUb2tlbignTUFJTlZFUlNJT05MT09TRScsIGAoJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUkxPT1NFXX0pXFxcXC5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUkxPT1NFXX0pXFxcXC5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUkxPT1NFXX0pYClcblxuLy8gIyMgUHJlLXJlbGVhc2UgVmVyc2lvbiBJZGVudGlmaWVyXG4vLyBBIG51bWVyaWMgaWRlbnRpZmllciwgb3IgYSBub24tbnVtZXJpYyBpZGVudGlmaWVyLlxuXG5jcmVhdGVUb2tlbignUFJFUkVMRUFTRUlERU5USUZJRVInLCBgKD86JHtzcmNbdC5OVU1FUklDSURFTlRJRklFUl1cbn18JHtzcmNbdC5OT05OVU1FUklDSURFTlRJRklFUl19KWApXG5cbmNyZWF0ZVRva2VuKCdQUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFJywgYCg/OiR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJMT09TRV1cbn18JHtzcmNbdC5OT05OVU1FUklDSURFTlRJRklFUl19KWApXG5cbi8vICMjIFByZS1yZWxlYXNlIFZlcnNpb25cbi8vIEh5cGhlbiwgZm9sbG93ZWQgYnkgb25lIG9yIG1vcmUgZG90LXNlcGFyYXRlZCBwcmUtcmVsZWFzZSB2ZXJzaW9uXG4vLyBpZGVudGlmaWVycy5cblxuY3JlYXRlVG9rZW4oJ1BSRVJFTEVBU0UnLCBgKD86LSgke3NyY1t0LlBSRVJFTEVBU0VJREVOVElGSUVSXVxufSg/OlxcXFwuJHtzcmNbdC5QUkVSRUxFQVNFSURFTlRJRklFUl19KSopKWApXG5cbmNyZWF0ZVRva2VuKCdQUkVSRUxFQVNFTE9PU0UnLCBgKD86LT8oJHtzcmNbdC5QUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFXVxufSg/OlxcXFwuJHtzcmNbdC5QUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFXX0pKikpYClcblxuLy8gIyMgQnVpbGQgTWV0YWRhdGEgSWRlbnRpZmllclxuLy8gQW55IGNvbWJpbmF0aW9uIG9mIGRpZ2l0cywgbGV0dGVycywgb3IgaHlwaGVucy5cblxuY3JlYXRlVG9rZW4oJ0JVSUxESURFTlRJRklFUicsICdbMC05QS1aYS16LV0rJylcblxuLy8gIyMgQnVpbGQgTWV0YWRhdGFcbi8vIFBsdXMgc2lnbiwgZm9sbG93ZWQgYnkgb25lIG9yIG1vcmUgcGVyaW9kLXNlcGFyYXRlZCBidWlsZCBtZXRhZGF0YVxuLy8gaWRlbnRpZmllcnMuXG5cbmNyZWF0ZVRva2VuKCdCVUlMRCcsIGAoPzpcXFxcKygke3NyY1t0LkJVSUxESURFTlRJRklFUl1cbn0oPzpcXFxcLiR7c3JjW3QuQlVJTERJREVOVElGSUVSXX0pKikpYClcblxuLy8gIyMgRnVsbCBWZXJzaW9uIFN0cmluZ1xuLy8gQSBtYWluIHZlcnNpb24sIGZvbGxvd2VkIG9wdGlvbmFsbHkgYnkgYSBwcmUtcmVsZWFzZSB2ZXJzaW9uIGFuZFxuLy8gYnVpbGQgbWV0YWRhdGEuXG5cbi8vIE5vdGUgdGhhdCB0aGUgb25seSBtYWpvciwgbWlub3IsIHBhdGNoLCBhbmQgcHJlLXJlbGVhc2Ugc2VjdGlvbnMgb2Zcbi8vIHRoZSB2ZXJzaW9uIHN0cmluZyBhcmUgY2FwdHVyaW5nIGdyb3Vwcy4gIFRoZSBidWlsZCBtZXRhZGF0YSBpcyBub3QgYVxuLy8gY2FwdHVyaW5nIGdyb3VwLCBiZWNhdXNlIGl0IHNob3VsZCBub3QgZXZlciBiZSB1c2VkIGluIHZlcnNpb25cbi8vIGNvbXBhcmlzb24uXG5cbmNyZWF0ZVRva2VuKCdGVUxMUExBSU4nLCBgdj8ke3NyY1t0Lk1BSU5WRVJTSU9OXVxufSR7c3JjW3QuUFJFUkVMRUFTRV19PyR7XG4gIHNyY1t0LkJVSUxEXX0/YClcblxuY3JlYXRlVG9rZW4oJ0ZVTEwnLCBgXiR7c3JjW3QuRlVMTFBMQUlOXX0kYClcblxuLy8gbGlrZSBmdWxsLCBidXQgYWxsb3dzIHYxLjIuMyBhbmQgPTEuMi4zLCB3aGljaCBwZW9wbGUgZG8gc29tZXRpbWVzLlxuLy8gYWxzbywgMS4wLjBhbHBoYTEgKHByZXJlbGVhc2Ugd2l0aG91dCB0aGUgaHlwaGVuKSB3aGljaCBpcyBwcmV0dHlcbi8vIGNvbW1vbiBpbiB0aGUgbnBtIHJlZ2lzdHJ5LlxuY3JlYXRlVG9rZW4oJ0xPT1NFUExBSU4nLCBgW3Y9XFxcXHNdKiR7c3JjW3QuTUFJTlZFUlNJT05MT09TRV1cbn0ke3NyY1t0LlBSRVJFTEVBU0VMT09TRV19PyR7XG4gIHNyY1t0LkJVSUxEXX0/YClcblxuY3JlYXRlVG9rZW4oJ0xPT1NFJywgYF4ke3NyY1t0LkxPT1NFUExBSU5dfSRgKVxuXG5jcmVhdGVUb2tlbignR1RMVCcsICcoKD86PHw+KT89PyknKVxuXG4vLyBTb21ldGhpbmcgbGlrZSBcIjIuKlwiIG9yIFwiMS4yLnhcIi5cbi8vIE5vdGUgdGhhdCBcIngueFwiIGlzIGEgdmFsaWQgeFJhbmdlIGlkZW50aWZlciwgbWVhbmluZyBcImFueSB2ZXJzaW9uXCJcbi8vIE9ubHkgdGhlIGZpcnN0IGl0ZW0gaXMgc3RyaWN0bHkgcmVxdWlyZWQuXG5jcmVhdGVUb2tlbignWFJBTkdFSURFTlRJRklFUkxPT1NFJywgYCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJMT09TRV19fHh8WHxcXFxcKmApXG5jcmVhdGVUb2tlbignWFJBTkdFSURFTlRJRklFUicsIGAke3NyY1t0Lk5VTUVSSUNJREVOVElGSUVSXX18eHxYfFxcXFwqYClcblxuY3JlYXRlVG9rZW4oJ1hSQU5HRVBMQUlOJywgYFt2PVxcXFxzXSooJHtzcmNbdC5YUkFOR0VJREVOVElGSUVSXX0pYCArXG4gICAgICAgICAgICAgICAgICAgYCg/OlxcXFwuKCR7c3JjW3QuWFJBTkdFSURFTlRJRklFUl19KWAgK1xuICAgICAgICAgICAgICAgICAgIGAoPzpcXFxcLigke3NyY1t0LlhSQU5HRUlERU5USUZJRVJdfSlgICtcbiAgICAgICAgICAgICAgICAgICBgKD86JHtzcmNbdC5QUkVSRUxFQVNFXX0pPyR7XG4gICAgICAgICAgICAgICAgICAgICBzcmNbdC5CVUlMRF19P2AgK1xuICAgICAgICAgICAgICAgICAgIGApPyk/YClcblxuY3JlYXRlVG9rZW4oJ1hSQU5HRVBMQUlOTE9PU0UnLCBgW3Y9XFxcXHNdKigke3NyY1t0LlhSQU5HRUlERU5USUZJRVJMT09TRV19KWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCg/OlxcXFwuKCR7c3JjW3QuWFJBTkdFSURFTlRJRklFUkxPT1NFXX0pYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgKD86XFxcXC4oJHtzcmNbdC5YUkFOR0VJREVOVElGSUVSTE9PU0VdfSlgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoPzoke3NyY1t0LlBSRVJFTEVBU0VMT09TRV19KT8ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNbdC5CVUlMRF19P2AgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCk/KT9gKVxuXG5jcmVhdGVUb2tlbignWFJBTkdFJywgYF4ke3NyY1t0LkdUTFRdfVxcXFxzKiR7c3JjW3QuWFJBTkdFUExBSU5dfSRgKVxuY3JlYXRlVG9rZW4oJ1hSQU5HRUxPT1NFJywgYF4ke3NyY1t0LkdUTFRdfVxcXFxzKiR7c3JjW3QuWFJBTkdFUExBSU5MT09TRV19JGApXG5cbi8vIENvZXJjaW9uLlxuLy8gRXh0cmFjdCBhbnl0aGluZyB0aGF0IGNvdWxkIGNvbmNlaXZhYmx5IGJlIGEgcGFydCBvZiBhIHZhbGlkIHNlbXZlclxuY3JlYXRlVG9rZW4oJ0NPRVJDRScsIGAkeycoXnxbXlxcXFxkXSknICtcbiAgICAgICAgICAgICAgJyhcXFxcZHsxLCd9JHtNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIfX0pYCArXG4gICAgICAgICAgICAgIGAoPzpcXFxcLihcXFxcZHsxLCR7TUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSH19KSk/YCArXG4gICAgICAgICAgICAgIGAoPzpcXFxcLihcXFxcZHsxLCR7TUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSH19KSk/YCArXG4gICAgICAgICAgICAgIGAoPzokfFteXFxcXGRdKWApXG5jcmVhdGVUb2tlbignQ09FUkNFUlRMJywgc3JjW3QuQ09FUkNFXSwgdHJ1ZSlcblxuLy8gVGlsZGUgcmFuZ2VzLlxuLy8gTWVhbmluZyBpcyBcInJlYXNvbmFibHkgYXQgb3IgZ3JlYXRlciB0aGFuXCJcbmNyZWF0ZVRva2VuKCdMT05FVElMREUnLCAnKD86fj4/KScpXG5cbmNyZWF0ZVRva2VuKCdUSUxERVRSSU0nLCBgKFxcXFxzKikke3NyY1t0LkxPTkVUSUxERV19XFxcXHMrYCwgdHJ1ZSlcbmV4cG9ydHMudGlsZGVUcmltUmVwbGFjZSA9ICckMX4nXG5cbmNyZWF0ZVRva2VuKCdUSUxERScsIGBeJHtzcmNbdC5MT05FVElMREVdfSR7c3JjW3QuWFJBTkdFUExBSU5dfSRgKVxuY3JlYXRlVG9rZW4oJ1RJTERFTE9PU0UnLCBgXiR7c3JjW3QuTE9ORVRJTERFXX0ke3NyY1t0LlhSQU5HRVBMQUlOTE9PU0VdfSRgKVxuXG4vLyBDYXJldCByYW5nZXMuXG4vLyBNZWFuaW5nIGlzIFwiYXQgbGVhc3QgYW5kIGJhY2t3YXJkcyBjb21wYXRpYmxlIHdpdGhcIlxuY3JlYXRlVG9rZW4oJ0xPTkVDQVJFVCcsICcoPzpcXFxcXiknKVxuXG5jcmVhdGVUb2tlbignQ0FSRVRUUklNJywgYChcXFxccyopJHtzcmNbdC5MT05FQ0FSRVRdfVxcXFxzK2AsIHRydWUpXG5leHBvcnRzLmNhcmV0VHJpbVJlcGxhY2UgPSAnJDFeJ1xuXG5jcmVhdGVUb2tlbignQ0FSRVQnLCBgXiR7c3JjW3QuTE9ORUNBUkVUXX0ke3NyY1t0LlhSQU5HRVBMQUlOXX0kYClcbmNyZWF0ZVRva2VuKCdDQVJFVExPT1NFJywgYF4ke3NyY1t0LkxPTkVDQVJFVF19JHtzcmNbdC5YUkFOR0VQTEFJTkxPT1NFXX0kYClcblxuLy8gQSBzaW1wbGUgZ3QvbHQvZXEgdGhpbmcsIG9yIGp1c3QgXCJcIiB0byBpbmRpY2F0ZSBcImFueSB2ZXJzaW9uXCJcbmNyZWF0ZVRva2VuKCdDT01QQVJBVE9STE9PU0UnLCBgXiR7c3JjW3QuR1RMVF19XFxcXHMqKCR7c3JjW3QuTE9PU0VQTEFJTl19KSR8XiRgKVxuY3JlYXRlVG9rZW4oJ0NPTVBBUkFUT1InLCBgXiR7c3JjW3QuR1RMVF19XFxcXHMqKCR7c3JjW3QuRlVMTFBMQUlOXX0pJHxeJGApXG5cbi8vIEFuIGV4cHJlc3Npb24gdG8gc3RyaXAgYW55IHdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgZ3RsdCBhbmQgdGhlIHRoaW5nXG4vLyBpdCBtb2RpZmllcywgc28gdGhhdCBgPiAxLjIuM2AgPT0+IGA+MS4yLjNgXG5jcmVhdGVUb2tlbignQ09NUEFSQVRPUlRSSU0nLCBgKFxcXFxzKikke3NyY1t0LkdUTFRdXG59XFxcXHMqKCR7c3JjW3QuTE9PU0VQTEFJTl19fCR7c3JjW3QuWFJBTkdFUExBSU5dfSlgLCB0cnVlKVxuZXhwb3J0cy5jb21wYXJhdG9yVHJpbVJlcGxhY2UgPSAnJDEkMiQzJ1xuXG4vLyBTb21ldGhpbmcgbGlrZSBgMS4yLjMgLSAxLjIuNGBcbi8vIE5vdGUgdGhhdCB0aGVzZSBhbGwgdXNlIHRoZSBsb29zZSBmb3JtLCBiZWNhdXNlIHRoZXknbGwgYmVcbi8vIGNoZWNrZWQgYWdhaW5zdCBlaXRoZXIgdGhlIHN0cmljdCBvciBsb29zZSBjb21wYXJhdG9yIGZvcm1cbi8vIGxhdGVyLlxuY3JlYXRlVG9rZW4oJ0hZUEhFTlJBTkdFJywgYF5cXFxccyooJHtzcmNbdC5YUkFOR0VQTEFJTl19KWAgK1xuICAgICAgICAgICAgICAgICAgIGBcXFxccystXFxcXHMrYCArXG4gICAgICAgICAgICAgICAgICAgYCgke3NyY1t0LlhSQU5HRVBMQUlOXX0pYCArXG4gICAgICAgICAgICAgICAgICAgYFxcXFxzKiRgKVxuXG5jcmVhdGVUb2tlbignSFlQSEVOUkFOR0VMT09TRScsIGBeXFxcXHMqKCR7c3JjW3QuWFJBTkdFUExBSU5MT09TRV19KWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFxcXFxzKy1cXFxccytgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoJHtzcmNbdC5YUkFOR0VQTEFJTkxPT1NFXX0pYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgXFxcXHMqJGApXG5cbi8vIFN0YXIgcmFuZ2VzIGJhc2ljYWxseSBqdXN0IGFsbG93IGFueXRoaW5nIGF0IGFsbC5cbmNyZWF0ZVRva2VuKCdTVEFSJywgJyg8fD4pPz0/XFxcXHMqXFxcXConKVxuLy8gPj0wLjAuMCBpcyBsaWtlIGEgc3RhclxuY3JlYXRlVG9rZW4oJ0dURTAnLCAnXlxcXFxzKj49XFxcXHMqMFxcLjBcXC4wXFxcXHMqJCcpXG5jcmVhdGVUb2tlbignR1RFMFBSRScsICdeXFxcXHMqPj1cXFxccyowXFwuMFxcLjAtMFxcXFxzKiQnKVxuIiwiLy8gcGFyc2Ugb3V0IGp1c3QgdGhlIG9wdGlvbnMgd2UgY2FyZSBhYm91dCBzbyB3ZSBhbHdheXMgZ2V0IGEgY29uc2lzdGVudFxuLy8gb2JqIHdpdGgga2V5cyBpbiBhIGNvbnNpc3RlbnQgb3JkZXIuXG5jb25zdCBvcHRzID0gWydpbmNsdWRlUHJlcmVsZWFzZScsICdsb29zZScsICdydGwnXVxuY29uc3QgcGFyc2VPcHRpb25zID0gb3B0aW9ucyA9PlxuICAhb3B0aW9ucyA/IHt9XG4gIDogdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnID8geyBsb29zZTogdHJ1ZSB9XG4gIDogb3B0cy5maWx0ZXIoayA9PiBvcHRpb25zW2tdKS5yZWR1Y2UoKG9wdGlvbnMsIGspID0+IHtcbiAgICBvcHRpb25zW2tdID0gdHJ1ZVxuICAgIHJldHVybiBvcHRpb25zXG4gIH0sIHt9KVxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZU9wdGlvbnNcbiIsImNvbnN0IG51bWVyaWMgPSAvXlswLTldKyQvXG5jb25zdCBjb21wYXJlSWRlbnRpZmllcnMgPSAoYSwgYikgPT4ge1xuICBjb25zdCBhbnVtID0gbnVtZXJpYy50ZXN0KGEpXG4gIGNvbnN0IGJudW0gPSBudW1lcmljLnRlc3QoYilcblxuICBpZiAoYW51bSAmJiBibnVtKSB7XG4gICAgYSA9ICthXG4gICAgYiA9ICtiXG4gIH1cblxuICByZXR1cm4gYSA9PT0gYiA/IDBcbiAgICA6IChhbnVtICYmICFibnVtKSA/IC0xXG4gICAgOiAoYm51bSAmJiAhYW51bSkgPyAxXG4gICAgOiBhIDwgYiA/IC0xXG4gICAgOiAxXG59XG5cbmNvbnN0IHJjb21wYXJlSWRlbnRpZmllcnMgPSAoYSwgYikgPT4gY29tcGFyZUlkZW50aWZpZXJzKGIsIGEpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb21wYXJlSWRlbnRpZmllcnMsXG4gIHJjb21wYXJlSWRlbnRpZmllcnNcbn1cbiIsImNvbnN0IGRlYnVnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvZGVidWcnKVxuY29uc3QgeyBNQVhfTEVOR1RILCBNQVhfU0FGRV9JTlRFR0VSIH0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9jb25zdGFudHMnKVxuY29uc3QgeyByZSwgdCB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcmUnKVxuXG5jb25zdCBwYXJzZU9wdGlvbnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9wYXJzZS1vcHRpb25zJylcbmNvbnN0IHsgY29tcGFyZUlkZW50aWZpZXJzIH0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9pZGVudGlmaWVycycpXG5jbGFzcyBTZW1WZXIge1xuICBjb25zdHJ1Y3RvciAodmVyc2lvbiwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBwYXJzZU9wdGlvbnMob3B0aW9ucylcblxuICAgIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgICBpZiAodmVyc2lvbi5sb29zZSA9PT0gISFvcHRpb25zLmxvb3NlICYmXG4gICAgICAgICAgdmVyc2lvbi5pbmNsdWRlUHJlcmVsZWFzZSA9PT0gISFvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlKSB7XG4gICAgICAgIHJldHVybiB2ZXJzaW9uXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZXJzaW9uID0gdmVyc2lvbi52ZXJzaW9uXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgVmVyc2lvbjogJHt2ZXJzaW9ufWApXG4gICAgfVxuXG4gICAgaWYgKHZlcnNpb24ubGVuZ3RoID4gTUFYX0xFTkdUSCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgYHZlcnNpb24gaXMgbG9uZ2VyIHRoYW4gJHtNQVhfTEVOR1RIfSBjaGFyYWN0ZXJzYFxuICAgICAgKVxuICAgIH1cblxuICAgIGRlYnVnKCdTZW1WZXInLCB2ZXJzaW9uLCBvcHRpb25zKVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlXG4gICAgLy8gdGhpcyBpc24ndCBhY3R1YWxseSByZWxldmFudCBmb3IgdmVyc2lvbnMsIGJ1dCBrZWVwIGl0IHNvIHRoYXQgd2VcbiAgICAvLyBkb24ndCBydW4gaW50byB0cm91YmxlIHBhc3NpbmcgdGhpcy5vcHRpb25zIGFyb3VuZC5cbiAgICB0aGlzLmluY2x1ZGVQcmVyZWxlYXNlID0gISFvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlXG5cbiAgICBjb25zdCBtID0gdmVyc2lvbi50cmltKCkubWF0Y2gob3B0aW9ucy5sb29zZSA/IHJlW3QuTE9PU0VdIDogcmVbdC5GVUxMXSlcblxuICAgIGlmICghbSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBWZXJzaW9uOiAke3ZlcnNpb259YClcbiAgICB9XG5cbiAgICB0aGlzLnJhdyA9IHZlcnNpb25cblxuICAgIC8vIHRoZXNlIGFyZSBhY3R1YWxseSBudW1iZXJzXG4gICAgdGhpcy5tYWpvciA9ICttWzFdXG4gICAgdGhpcy5taW5vciA9ICttWzJdXG4gICAgdGhpcy5wYXRjaCA9ICttWzNdXG5cbiAgICBpZiAodGhpcy5tYWpvciA+IE1BWF9TQUZFX0lOVEVHRVIgfHwgdGhpcy5tYWpvciA8IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbWFqb3IgdmVyc2lvbicpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWlub3IgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMubWlub3IgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG1pbm9yIHZlcnNpb24nKVxuICAgIH1cblxuICAgIGlmICh0aGlzLnBhdGNoID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLnBhdGNoIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBwYXRjaCB2ZXJzaW9uJylcbiAgICB9XG5cbiAgICAvLyBudW1iZXJpZnkgYW55IHByZXJlbGVhc2UgbnVtZXJpYyBpZHNcbiAgICBpZiAoIW1bNF0pIHtcbiAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlcmVsZWFzZSA9IG1bNF0uc3BsaXQoJy4nKS5tYXAoKGlkKSA9PiB7XG4gICAgICAgIGlmICgvXlswLTldKyQvLnRlc3QoaWQpKSB7XG4gICAgICAgICAgY29uc3QgbnVtID0gK2lkXG4gICAgICAgICAgaWYgKG51bSA+PSAwICYmIG51bSA8IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuYnVpbGQgPSBtWzVdID8gbVs1XS5zcGxpdCgnLicpIDogW11cbiAgICB0aGlzLmZvcm1hdCgpXG4gIH1cblxuICBmb3JtYXQgKCkge1xuICAgIHRoaXMudmVyc2lvbiA9IGAke3RoaXMubWFqb3J9LiR7dGhpcy5taW5vcn0uJHt0aGlzLnBhdGNofWBcbiAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCkge1xuICAgICAgdGhpcy52ZXJzaW9uICs9IGAtJHt0aGlzLnByZXJlbGVhc2Uuam9pbignLicpfWBcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudmVyc2lvblxuICB9XG5cbiAgdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLnZlcnNpb25cbiAgfVxuXG4gIGNvbXBhcmUgKG90aGVyKSB7XG4gICAgZGVidWcoJ1NlbVZlci5jb21wYXJlJywgdGhpcy52ZXJzaW9uLCB0aGlzLm9wdGlvbnMsIG90aGVyKVxuICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgICAgaWYgKHR5cGVvZiBvdGhlciA9PT0gJ3N0cmluZycgJiYgb3RoZXIgPT09IHRoaXMudmVyc2lvbikge1xuICAgICAgICByZXR1cm4gMFxuICAgICAgfVxuICAgICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpXG4gICAgfVxuXG4gICAgaWYgKG90aGVyLnZlcnNpb24gPT09IHRoaXMudmVyc2lvbikge1xuICAgICAgcmV0dXJuIDBcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb21wYXJlTWFpbihvdGhlcikgfHwgdGhpcy5jb21wYXJlUHJlKG90aGVyKVxuICB9XG5cbiAgY29tcGFyZU1haW4gKG90aGVyKSB7XG4gICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKSB7XG4gICAgICBvdGhlciA9IG5ldyBTZW1WZXIob3RoZXIsIHRoaXMub3B0aW9ucylcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgY29tcGFyZUlkZW50aWZpZXJzKHRoaXMubWFqb3IsIG90aGVyLm1ham9yKSB8fFxuICAgICAgY29tcGFyZUlkZW50aWZpZXJzKHRoaXMubWlub3IsIG90aGVyLm1pbm9yKSB8fFxuICAgICAgY29tcGFyZUlkZW50aWZpZXJzKHRoaXMucGF0Y2gsIG90aGVyLnBhdGNoKVxuICAgIClcbiAgfVxuXG4gIGNvbXBhcmVQcmUgKG90aGVyKSB7XG4gICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKSB7XG4gICAgICBvdGhlciA9IG5ldyBTZW1WZXIob3RoZXIsIHRoaXMub3B0aW9ucylcbiAgICB9XG5cbiAgICAvLyBOT1QgaGF2aW5nIGEgcHJlcmVsZWFzZSBpcyA+IGhhdmluZyBvbmVcbiAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCAmJiAhb3RoZXIucHJlcmVsZWFzZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH0gZWxzZSBpZiAoIXRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgb3RoZXIucHJlcmVsZWFzZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAxXG4gICAgfSBlbHNlIGlmICghdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCAmJiAhb3RoZXIucHJlcmVsZWFzZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAwXG4gICAgfVxuXG4gICAgbGV0IGkgPSAwXG4gICAgZG8ge1xuICAgICAgY29uc3QgYSA9IHRoaXMucHJlcmVsZWFzZVtpXVxuICAgICAgY29uc3QgYiA9IG90aGVyLnByZXJlbGVhc2VbaV1cbiAgICAgIGRlYnVnKCdwcmVyZWxlYXNlIGNvbXBhcmUnLCBpLCBhLCBiKVxuICAgICAgaWYgKGEgPT09IHVuZGVmaW5lZCAmJiBiID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIDBcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAxXG4gICAgICB9IGVsc2UgaWYgKGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH0gZWxzZSBpZiAoYSA9PT0gYikge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVJZGVudGlmaWVycyhhLCBiKVxuICAgICAgfVxuICAgIH0gd2hpbGUgKCsraSlcbiAgfVxuXG4gIGNvbXBhcmVCdWlsZCAob3RoZXIpIHtcbiAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlbVZlcikpIHtcbiAgICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5vcHRpb25zKVxuICAgIH1cblxuICAgIGxldCBpID0gMFxuICAgIGRvIHtcbiAgICAgIGNvbnN0IGEgPSB0aGlzLmJ1aWxkW2ldXG4gICAgICBjb25zdCBiID0gb3RoZXIuYnVpbGRbaV1cbiAgICAgIGRlYnVnKCdwcmVyZWxlYXNlIGNvbXBhcmUnLCBpLCBhLCBiKVxuICAgICAgaWYgKGEgPT09IHVuZGVmaW5lZCAmJiBiID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIDBcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAxXG4gICAgICB9IGVsc2UgaWYgKGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH0gZWxzZSBpZiAoYSA9PT0gYikge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVJZGVudGlmaWVycyhhLCBiKVxuICAgICAgfVxuICAgIH0gd2hpbGUgKCsraSlcbiAgfVxuXG4gIC8vIHByZW1pbm9yIHdpbGwgYnVtcCB0aGUgdmVyc2lvbiB1cCB0byB0aGUgbmV4dCBtaW5vciByZWxlYXNlLCBhbmQgaW1tZWRpYXRlbHlcbiAgLy8gZG93biB0byBwcmUtcmVsZWFzZS4gcHJlbWFqb3IgYW5kIHByZXBhdGNoIHdvcmsgdGhlIHNhbWUgd2F5LlxuICBpbmMgKHJlbGVhc2UsIGlkZW50aWZpZXIpIHtcbiAgICBzd2l0Y2ggKHJlbGVhc2UpIHtcbiAgICAgIGNhc2UgJ3ByZW1ham9yJzpcbiAgICAgICAgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9IDBcbiAgICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgICAgdGhpcy5taW5vciA9IDBcbiAgICAgICAgdGhpcy5tYWpvcisrXG4gICAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncHJlbWlub3InOlxuICAgICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMFxuICAgICAgICB0aGlzLnBhdGNoID0gMFxuICAgICAgICB0aGlzLm1pbm9yKytcbiAgICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdwcmVwYXRjaCc6XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYWxyZWFkeSBhIHByZXJlbGVhc2UsIGl0IHdpbGwgYnVtcCB0byB0aGUgbmV4dCB2ZXJzaW9uXG4gICAgICAgIC8vIGRyb3AgYW55IHByZXJlbGVhc2VzIHRoYXQgbWlnaHQgYWxyZWFkeSBleGlzdCwgc2luY2UgdGhleSBhcmUgbm90XG4gICAgICAgIC8vIHJlbGV2YW50IGF0IHRoaXMgcG9pbnQuXG4gICAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPSAwXG4gICAgICAgIHRoaXMuaW5jKCdwYXRjaCcsIGlkZW50aWZpZXIpXG4gICAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgICBicmVha1xuICAgICAgLy8gSWYgdGhlIGlucHV0IGlzIGEgbm9uLXByZXJlbGVhc2UgdmVyc2lvbiwgdGhpcyBhY3RzIHRoZSBzYW1lIGFzXG4gICAgICAvLyBwcmVwYXRjaC5cbiAgICAgIGNhc2UgJ3ByZXJlbGVhc2UnOlxuICAgICAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuaW5jKCdwYXRjaCcsIGlkZW50aWZpZXIpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ21ham9yJzpcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHByZS1tYWpvciB2ZXJzaW9uLCBidW1wIHVwIHRvIHRoZSBzYW1lIG1ham9yIHZlcnNpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSBpbmNyZW1lbnQgbWFqb3IuXG4gICAgICAgIC8vIDEuMC4wLTUgYnVtcHMgdG8gMS4wLjBcbiAgICAgICAgLy8gMS4xLjAgYnVtcHMgdG8gMi4wLjBcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMubWlub3IgIT09IDAgfHxcbiAgICAgICAgICB0aGlzLnBhdGNoICE9PSAwIHx8XG4gICAgICAgICAgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMFxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLm1ham9yKytcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1pbm9yID0gMFxuICAgICAgICB0aGlzLnBhdGNoID0gMFxuICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbWlub3InOlxuICAgICAgICAvLyBJZiB0aGlzIGlzIGEgcHJlLW1pbm9yIHZlcnNpb24sIGJ1bXAgdXAgdG8gdGhlIHNhbWUgbWlub3IgdmVyc2lvbi5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIGluY3JlbWVudCBtaW5vci5cbiAgICAgICAgLy8gMS4yLjAtNSBidW1wcyB0byAxLjIuMFxuICAgICAgICAvLyAxLjIuMSBidW1wcyB0byAxLjMuMFxuICAgICAgICBpZiAodGhpcy5wYXRjaCAhPT0gMCB8fCB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5taW5vcisrXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW11cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3BhdGNoJzpcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBub3QgYSBwcmUtcmVsZWFzZSB2ZXJzaW9uLCBpdCB3aWxsIGluY3JlbWVudCB0aGUgcGF0Y2guXG4gICAgICAgIC8vIElmIGl0IGlzIGEgcHJlLXJlbGVhc2UgaXQgd2lsbCBidW1wIHVwIHRvIHRoZSBzYW1lIHBhdGNoIHZlcnNpb24uXG4gICAgICAgIC8vIDEuMi4wLTUgcGF0Y2hlcyB0byAxLjIuMFxuICAgICAgICAvLyAxLjIuMCBwYXRjaGVzIHRvIDEuMi4xXG4gICAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5wYXRjaCsrXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW11cbiAgICAgICAgYnJlYWtcbiAgICAgIC8vIFRoaXMgcHJvYmFibHkgc2hvdWxkbid0IGJlIHVzZWQgcHVibGljbHkuXG4gICAgICAvLyAxLjAuMCAncHJlJyB3b3VsZCBiZWNvbWUgMS4wLjAtMCB3aGljaCBpcyB0aGUgd3JvbmcgZGlyZWN0aW9uLlxuICAgICAgY2FzZSAncHJlJzpcbiAgICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbMF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgaSA9IHRoaXMucHJlcmVsZWFzZS5sZW5ndGhcbiAgICAgICAgICB3aGlsZSAoLS1pID49IDApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcmVyZWxlYXNlW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICB0aGlzLnByZXJlbGVhc2VbaV0rK1xuICAgICAgICAgICAgICBpID0gLTJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBkaWRuJ3QgaW5jcmVtZW50IGFueXRoaW5nXG4gICAgICAgICAgICB0aGlzLnByZXJlbGVhc2UucHVzaCgwKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaWRlbnRpZmllcikge1xuICAgICAgICAgIC8vIDEuMi4wLWJldGEuMSBidW1wcyB0byAxLjIuMC1iZXRhLjIsXG4gICAgICAgICAgLy8gMS4yLjAtYmV0YS5mb29ibHogb3IgMS4yLjAtYmV0YSBidW1wcyB0byAxLjIuMC1iZXRhLjBcbiAgICAgICAgICBpZiAodGhpcy5wcmVyZWxlYXNlWzBdID09PSBpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4odGhpcy5wcmVyZWxlYXNlWzFdKSkge1xuICAgICAgICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbaWRlbnRpZmllciwgMF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW2lkZW50aWZpZXIsIDBdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBpbmNyZW1lbnQgYXJndW1lbnQ6ICR7cmVsZWFzZX1gKVxuICAgIH1cbiAgICB0aGlzLmZvcm1hdCgpXG4gICAgdGhpcy5yYXcgPSB0aGlzLnZlcnNpb25cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VtVmVyXG4iLCJjb25zdCB7TUFYX0xFTkdUSH0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9jb25zdGFudHMnKVxuY29uc3QgeyByZSwgdCB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcmUnKVxuY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9zZW12ZXInKVxuXG5jb25zdCBwYXJzZU9wdGlvbnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9wYXJzZS1vcHRpb25zJylcbmNvbnN0IHBhcnNlID0gKHZlcnNpb24sIG9wdGlvbnMpID0+IHtcbiAgb3B0aW9ucyA9IHBhcnNlT3B0aW9ucyhvcHRpb25zKVxuXG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgcmV0dXJuIHZlcnNpb25cbiAgfVxuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaWYgKHZlcnNpb24ubGVuZ3RoID4gTUFYX0xFTkdUSCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCByID0gb3B0aW9ucy5sb29zZSA/IHJlW3QuTE9PU0VdIDogcmVbdC5GVUxMXVxuICBpZiAoIXIudGVzdCh2ZXJzaW9uKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlXG4iLCJjb25zdCBwYXJzZSA9IHJlcXVpcmUoJy4vcGFyc2UnKVxuY29uc3QgdmFsaWQgPSAodmVyc2lvbiwgb3B0aW9ucykgPT4ge1xuICBjb25zdCB2ID0gcGFyc2UodmVyc2lvbiwgb3B0aW9ucylcbiAgcmV0dXJuIHYgPyB2LnZlcnNpb24gOiBudWxsXG59XG5tb2R1bGUuZXhwb3J0cyA9IHZhbGlkXG4iLCJjb25zdCBwYXJzZSA9IHJlcXVpcmUoJy4vcGFyc2UnKVxuY29uc3QgY2xlYW4gPSAodmVyc2lvbiwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBzID0gcGFyc2UodmVyc2lvbi50cmltKCkucmVwbGFjZSgvXls9dl0rLywgJycpLCBvcHRpb25zKVxuICByZXR1cm4gcyA/IHMudmVyc2lvbiA6IG51bGxcbn1cbm1vZHVsZS5leHBvcnRzID0gY2xlYW5cbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcblxuY29uc3QgaW5jID0gKHZlcnNpb24sIHJlbGVhc2UsIG9wdGlvbnMsIGlkZW50aWZpZXIpID0+IHtcbiAgaWYgKHR5cGVvZiAob3B0aW9ucykgPT09ICdzdHJpbmcnKSB7XG4gICAgaWRlbnRpZmllciA9IG9wdGlvbnNcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkXG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpLmluYyhyZWxlYXNlLCBpZGVudGlmaWVyKS52ZXJzaW9uXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBpbmNcbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcbmNvbnN0IGNvbXBhcmUgPSAoYSwgYiwgbG9vc2UpID0+XG4gIG5ldyBTZW1WZXIoYSwgbG9vc2UpLmNvbXBhcmUobmV3IFNlbVZlcihiLCBsb29zZSkpXG5cbm1vZHVsZS5leHBvcnRzID0gY29tcGFyZVxuIiwiY29uc3QgY29tcGFyZSA9IHJlcXVpcmUoJy4vY29tcGFyZScpXG5jb25zdCBlcSA9IChhLCBiLCBsb29zZSkgPT4gY29tcGFyZShhLCBiLCBsb29zZSkgPT09IDBcbm1vZHVsZS5leHBvcnRzID0gZXFcbiIsImNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpXG5jb25zdCBlcSA9IHJlcXVpcmUoJy4vZXEnKVxuXG5jb25zdCBkaWZmID0gKHZlcnNpb24xLCB2ZXJzaW9uMikgPT4ge1xuICBpZiAoZXEodmVyc2lvbjEsIHZlcnNpb24yKSkge1xuICAgIHJldHVybiBudWxsXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdjEgPSBwYXJzZSh2ZXJzaW9uMSlcbiAgICBjb25zdCB2MiA9IHBhcnNlKHZlcnNpb24yKVxuICAgIGNvbnN0IGhhc1ByZSA9IHYxLnByZXJlbGVhc2UubGVuZ3RoIHx8IHYyLnByZXJlbGVhc2UubGVuZ3RoXG4gICAgY29uc3QgcHJlZml4ID0gaGFzUHJlID8gJ3ByZScgOiAnJ1xuICAgIGNvbnN0IGRlZmF1bHRSZXN1bHQgPSBoYXNQcmUgPyAncHJlcmVsZWFzZScgOiAnJ1xuICAgIGZvciAoY29uc3Qga2V5IGluIHYxKSB7XG4gICAgICBpZiAoa2V5ID09PSAnbWFqb3InIHx8IGtleSA9PT0gJ21pbm9yJyB8fCBrZXkgPT09ICdwYXRjaCcpIHtcbiAgICAgICAgaWYgKHYxW2tleV0gIT09IHYyW2tleV0pIHtcbiAgICAgICAgICByZXR1cm4gcHJlZml4ICsga2V5XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRSZXN1bHQgLy8gbWF5IGJlIHVuZGVmaW5lZFxuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRpZmZcbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcbmNvbnN0IG1ham9yID0gKGEsIGxvb3NlKSA9PiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5tYWpvclxubW9kdWxlLmV4cG9ydHMgPSBtYWpvclxuIiwiY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9zZW12ZXInKVxuY29uc3QgbWlub3IgPSAoYSwgbG9vc2UpID0+IG5ldyBTZW1WZXIoYSwgbG9vc2UpLm1pbm9yXG5tb2R1bGUuZXhwb3J0cyA9IG1pbm9yXG4iLCJjb25zdCBTZW1WZXIgPSByZXF1aXJlKCcuLi9jbGFzc2VzL3NlbXZlcicpXG5jb25zdCBwYXRjaCA9IChhLCBsb29zZSkgPT4gbmV3IFNlbVZlcihhLCBsb29zZSkucGF0Y2hcbm1vZHVsZS5leHBvcnRzID0gcGF0Y2hcbiIsImNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpXG5jb25zdCBwcmVyZWxlYXNlID0gKHZlcnNpb24sIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2VkID0gcGFyc2UodmVyc2lvbiwgb3B0aW9ucylcbiAgcmV0dXJuIChwYXJzZWQgJiYgcGFyc2VkLnByZXJlbGVhc2UubGVuZ3RoKSA/IHBhcnNlZC5wcmVyZWxlYXNlIDogbnVsbFxufVxubW9kdWxlLmV4cG9ydHMgPSBwcmVyZWxlYXNlXG4iLCJjb25zdCBjb21wYXJlID0gcmVxdWlyZSgnLi9jb21wYXJlJylcbmNvbnN0IHJjb21wYXJlID0gKGEsIGIsIGxvb3NlKSA9PiBjb21wYXJlKGIsIGEsIGxvb3NlKVxubW9kdWxlLmV4cG9ydHMgPSByY29tcGFyZVxuIiwiY29uc3QgY29tcGFyZSA9IHJlcXVpcmUoJy4vY29tcGFyZScpXG5jb25zdCBjb21wYXJlTG9vc2UgPSAoYSwgYikgPT4gY29tcGFyZShhLCBiLCB0cnVlKVxubW9kdWxlLmV4cG9ydHMgPSBjb21wYXJlTG9vc2VcbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcbmNvbnN0IGNvbXBhcmVCdWlsZCA9IChhLCBiLCBsb29zZSkgPT4ge1xuICBjb25zdCB2ZXJzaW9uQSA9IG5ldyBTZW1WZXIoYSwgbG9vc2UpXG4gIGNvbnN0IHZlcnNpb25CID0gbmV3IFNlbVZlcihiLCBsb29zZSlcbiAgcmV0dXJuIHZlcnNpb25BLmNvbXBhcmUodmVyc2lvbkIpIHx8IHZlcnNpb25BLmNvbXBhcmVCdWlsZCh2ZXJzaW9uQilcbn1cbm1vZHVsZS5leHBvcnRzID0gY29tcGFyZUJ1aWxkXG4iLCJjb25zdCBjb21wYXJlQnVpbGQgPSByZXF1aXJlKCcuL2NvbXBhcmUtYnVpbGQnKVxuY29uc3Qgc29ydCA9IChsaXN0LCBsb29zZSkgPT4gbGlzdC5zb3J0KChhLCBiKSA9PiBjb21wYXJlQnVpbGQoYSwgYiwgbG9vc2UpKVxubW9kdWxlLmV4cG9ydHMgPSBzb3J0XG4iLCJjb25zdCBjb21wYXJlQnVpbGQgPSByZXF1aXJlKCcuL2NvbXBhcmUtYnVpbGQnKVxuY29uc3QgcnNvcnQgPSAobGlzdCwgbG9vc2UpID0+IGxpc3Quc29ydCgoYSwgYikgPT4gY29tcGFyZUJ1aWxkKGIsIGEsIGxvb3NlKSlcbm1vZHVsZS5leHBvcnRzID0gcnNvcnRcbiIsImNvbnN0IGNvbXBhcmUgPSByZXF1aXJlKCcuL2NvbXBhcmUnKVxuY29uc3QgZ3QgPSAoYSwgYiwgbG9vc2UpID0+IGNvbXBhcmUoYSwgYiwgbG9vc2UpID4gMFxubW9kdWxlLmV4cG9ydHMgPSBndFxuIiwiY29uc3QgY29tcGFyZSA9IHJlcXVpcmUoJy4vY29tcGFyZScpXG5jb25zdCBsdCA9IChhLCBiLCBsb29zZSkgPT4gY29tcGFyZShhLCBiLCBsb29zZSkgPCAwXG5tb2R1bGUuZXhwb3J0cyA9IGx0XG4iLCJjb25zdCBjb21wYXJlID0gcmVxdWlyZSgnLi9jb21wYXJlJylcbmNvbnN0IG5lcSA9IChhLCBiLCBsb29zZSkgPT4gY29tcGFyZShhLCBiLCBsb29zZSkgIT09IDBcbm1vZHVsZS5leHBvcnRzID0gbmVxXG4iLCJjb25zdCBjb21wYXJlID0gcmVxdWlyZSgnLi9jb21wYXJlJylcbmNvbnN0IGd0ZSA9IChhLCBiLCBsb29zZSkgPT4gY29tcGFyZShhLCBiLCBsb29zZSkgPj0gMFxubW9kdWxlLmV4cG9ydHMgPSBndGVcbiIsImNvbnN0IGNvbXBhcmUgPSByZXF1aXJlKCcuL2NvbXBhcmUnKVxuY29uc3QgbHRlID0gKGEsIGIsIGxvb3NlKSA9PiBjb21wYXJlKGEsIGIsIGxvb3NlKSA8PSAwXG5tb2R1bGUuZXhwb3J0cyA9IGx0ZVxuIiwiY29uc3QgZXEgPSByZXF1aXJlKCcuL2VxJylcbmNvbnN0IG5lcSA9IHJlcXVpcmUoJy4vbmVxJylcbmNvbnN0IGd0ID0gcmVxdWlyZSgnLi9ndCcpXG5jb25zdCBndGUgPSByZXF1aXJlKCcuL2d0ZScpXG5jb25zdCBsdCA9IHJlcXVpcmUoJy4vbHQnKVxuY29uc3QgbHRlID0gcmVxdWlyZSgnLi9sdGUnKVxuXG5jb25zdCBjbXAgPSAoYSwgb3AsIGIsIGxvb3NlKSA9PiB7XG4gIHN3aXRjaCAob3ApIHtcbiAgICBjYXNlICc9PT0nOlxuICAgICAgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0JylcbiAgICAgICAgYSA9IGEudmVyc2lvblxuICAgICAgaWYgKHR5cGVvZiBiID09PSAnb2JqZWN0JylcbiAgICAgICAgYiA9IGIudmVyc2lvblxuICAgICAgcmV0dXJuIGEgPT09IGJcblxuICAgIGNhc2UgJyE9PSc6XG4gICAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKVxuICAgICAgICBhID0gYS52ZXJzaW9uXG4gICAgICBpZiAodHlwZW9mIGIgPT09ICdvYmplY3QnKVxuICAgICAgICBiID0gYi52ZXJzaW9uXG4gICAgICByZXR1cm4gYSAhPT0gYlxuXG4gICAgY2FzZSAnJzpcbiAgICBjYXNlICc9JzpcbiAgICBjYXNlICc9PSc6XG4gICAgICByZXR1cm4gZXEoYSwgYiwgbG9vc2UpXG5cbiAgICBjYXNlICchPSc6XG4gICAgICByZXR1cm4gbmVxKGEsIGIsIGxvb3NlKVxuXG4gICAgY2FzZSAnPic6XG4gICAgICByZXR1cm4gZ3QoYSwgYiwgbG9vc2UpXG5cbiAgICBjYXNlICc+PSc6XG4gICAgICByZXR1cm4gZ3RlKGEsIGIsIGxvb3NlKVxuXG4gICAgY2FzZSAnPCc6XG4gICAgICByZXR1cm4gbHQoYSwgYiwgbG9vc2UpXG5cbiAgICBjYXNlICc8PSc6XG4gICAgICByZXR1cm4gbHRlKGEsIGIsIGxvb3NlKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgb3BlcmF0b3I6ICR7b3B9YClcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBjbXBcbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpXG5jb25zdCB7cmUsIHR9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcmUnKVxuXG5jb25zdCBjb2VyY2UgPSAodmVyc2lvbiwgb3B0aW9ucykgPT4ge1xuICBpZiAodmVyc2lvbiBpbnN0YW5jZW9mIFNlbVZlcikge1xuICAgIHJldHVybiB2ZXJzaW9uXG4gIH1cblxuICBpZiAodHlwZW9mIHZlcnNpb24gPT09ICdudW1iZXInKSB7XG4gICAgdmVyc2lvbiA9IFN0cmluZyh2ZXJzaW9uKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2ZXJzaW9uICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIGxldCBtYXRjaCA9IG51bGxcbiAgaWYgKCFvcHRpb25zLnJ0bCkge1xuICAgIG1hdGNoID0gdmVyc2lvbi5tYXRjaChyZVt0LkNPRVJDRV0pXG4gIH0gZWxzZSB7XG4gICAgLy8gRmluZCB0aGUgcmlnaHQtbW9zdCBjb2VyY2libGUgc3RyaW5nIHRoYXQgZG9lcyBub3Qgc2hhcmVcbiAgICAvLyBhIHRlcm1pbnVzIHdpdGggYSBtb3JlIGxlZnQtd2FyZCBjb2VyY2libGUgc3RyaW5nLlxuICAgIC8vIEVnLCAnMS4yLjMuNCcgd2FudHMgdG8gY29lcmNlICcyLjMuNCcsIG5vdCAnMy40JyBvciAnNCdcbiAgICAvL1xuICAgIC8vIFdhbGsgdGhyb3VnaCB0aGUgc3RyaW5nIGNoZWNraW5nIHdpdGggYSAvZyByZWdleHBcbiAgICAvLyBNYW51YWxseSBzZXQgdGhlIGluZGV4IHNvIGFzIHRvIHBpY2sgdXAgb3ZlcmxhcHBpbmcgbWF0Y2hlcy5cbiAgICAvLyBTdG9wIHdoZW4gd2UgZ2V0IGEgbWF0Y2ggdGhhdCBlbmRzIGF0IHRoZSBzdHJpbmcgZW5kLCBzaW5jZSBub1xuICAgIC8vIGNvZXJjaWJsZSBzdHJpbmcgY2FuIGJlIG1vcmUgcmlnaHQtd2FyZCB3aXRob3V0IHRoZSBzYW1lIHRlcm1pbnVzLlxuICAgIGxldCBuZXh0XG4gICAgd2hpbGUgKChuZXh0ID0gcmVbdC5DT0VSQ0VSVExdLmV4ZWModmVyc2lvbikpICYmXG4gICAgICAgICghbWF0Y2ggfHwgbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGggIT09IHZlcnNpb24ubGVuZ3RoKVxuICAgICkge1xuICAgICAgaWYgKCFtYXRjaCB8fFxuICAgICAgICAgICAgbmV4dC5pbmRleCArIG5leHRbMF0ubGVuZ3RoICE9PSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCkge1xuICAgICAgICBtYXRjaCA9IG5leHRcbiAgICAgIH1cbiAgICAgIHJlW3QuQ09FUkNFUlRMXS5sYXN0SW5kZXggPSBuZXh0LmluZGV4ICsgbmV4dFsxXS5sZW5ndGggKyBuZXh0WzJdLmxlbmd0aFxuICAgIH1cbiAgICAvLyBsZWF2ZSBpdCBpbiBhIGNsZWFuIHN0YXRlXG4gICAgcmVbdC5DT0VSQ0VSVExdLmxhc3RJbmRleCA9IC0xXG4gIH1cblxuICBpZiAobWF0Y2ggPT09IG51bGwpXG4gICAgcmV0dXJuIG51bGxcblxuICByZXR1cm4gcGFyc2UoYCR7bWF0Y2hbMl19LiR7bWF0Y2hbM10gfHwgJzAnfS4ke21hdGNoWzRdIHx8ICcwJ31gLCBvcHRpb25zKVxufVxubW9kdWxlLmV4cG9ydHMgPSBjb2VyY2VcbiIsIid1c2Ugc3RyaWN0J1xubW9kdWxlLmV4cG9ydHMgPSBZYWxsaXN0XG5cbllhbGxpc3QuTm9kZSA9IE5vZGVcbllhbGxpc3QuY3JlYXRlID0gWWFsbGlzdFxuXG5mdW5jdGlvbiBZYWxsaXN0IChsaXN0KSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoIShzZWxmIGluc3RhbmNlb2YgWWFsbGlzdCkpIHtcbiAgICBzZWxmID0gbmV3IFlhbGxpc3QoKVxuICB9XG5cbiAgc2VsZi50YWlsID0gbnVsbFxuICBzZWxmLmhlYWQgPSBudWxsXG4gIHNlbGYubGVuZ3RoID0gMFxuXG4gIGlmIChsaXN0ICYmIHR5cGVvZiBsaXN0LmZvckVhY2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHNlbGYucHVzaChpdGVtKVxuICAgIH0pXG4gIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHNlbGYucHVzaChhcmd1bWVudHNbaV0pXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNlbGZcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmVtb3ZlTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gIGlmIChub2RlLmxpc3QgIT09IHRoaXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbW92aW5nIG5vZGUgd2hpY2ggZG9lcyBub3QgYmVsb25nIHRvIHRoaXMgbGlzdCcpXG4gIH1cblxuICB2YXIgbmV4dCA9IG5vZGUubmV4dFxuICB2YXIgcHJldiA9IG5vZGUucHJldlxuXG4gIGlmIChuZXh0KSB7XG4gICAgbmV4dC5wcmV2ID0gcHJldlxuICB9XG5cbiAgaWYgKHByZXYpIHtcbiAgICBwcmV2Lm5leHQgPSBuZXh0XG4gIH1cblxuICBpZiAobm9kZSA9PT0gdGhpcy5oZWFkKSB7XG4gICAgdGhpcy5oZWFkID0gbmV4dFxuICB9XG4gIGlmIChub2RlID09PSB0aGlzLnRhaWwpIHtcbiAgICB0aGlzLnRhaWwgPSBwcmV2XG4gIH1cblxuICBub2RlLmxpc3QubGVuZ3RoLS1cbiAgbm9kZS5uZXh0ID0gbnVsbFxuICBub2RlLnByZXYgPSBudWxsXG4gIG5vZGUubGlzdCA9IG51bGxcblxuICByZXR1cm4gbmV4dFxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS51bnNoaWZ0Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gIGlmIChub2RlID09PSB0aGlzLmhlYWQpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmIChub2RlLmxpc3QpIHtcbiAgICBub2RlLmxpc3QucmVtb3ZlTm9kZShub2RlKVxuICB9XG5cbiAgdmFyIGhlYWQgPSB0aGlzLmhlYWRcbiAgbm9kZS5saXN0ID0gdGhpc1xuICBub2RlLm5leHQgPSBoZWFkXG4gIGlmIChoZWFkKSB7XG4gICAgaGVhZC5wcmV2ID0gbm9kZVxuICB9XG5cbiAgdGhpcy5oZWFkID0gbm9kZVxuICBpZiAoIXRoaXMudGFpbCkge1xuICAgIHRoaXMudGFpbCA9IG5vZGVcbiAgfVxuICB0aGlzLmxlbmd0aCsrXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnB1c2hOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKG5vZGUgPT09IHRoaXMudGFpbCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKG5vZGUubGlzdCkge1xuICAgIG5vZGUubGlzdC5yZW1vdmVOb2RlKG5vZGUpXG4gIH1cblxuICB2YXIgdGFpbCA9IHRoaXMudGFpbFxuICBub2RlLmxpc3QgPSB0aGlzXG4gIG5vZGUucHJldiA9IHRhaWxcbiAgaWYgKHRhaWwpIHtcbiAgICB0YWlsLm5leHQgPSBub2RlXG4gIH1cblxuICB0aGlzLnRhaWwgPSBub2RlXG4gIGlmICghdGhpcy5oZWFkKSB7XG4gICAgdGhpcy5oZWFkID0gbm9kZVxuICB9XG4gIHRoaXMubGVuZ3RoKytcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgcHVzaCh0aGlzLCBhcmd1bWVudHNbaV0pXG4gIH1cbiAgcmV0dXJuIHRoaXMubGVuZ3RoXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHVuc2hpZnQodGhpcywgYXJndW1lbnRzW2ldKVxuICB9XG4gIHJldHVybiB0aGlzLmxlbmd0aFxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy50YWlsKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgdmFyIHJlcyA9IHRoaXMudGFpbC52YWx1ZVxuICB0aGlzLnRhaWwgPSB0aGlzLnRhaWwucHJldlxuICBpZiAodGhpcy50YWlsKSB7XG4gICAgdGhpcy50YWlsLm5leHQgPSBudWxsXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5oZWFkID0gbnVsbFxuICB9XG4gIHRoaXMubGVuZ3RoLS1cbiAgcmV0dXJuIHJlc1xufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLmhlYWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICB2YXIgcmVzID0gdGhpcy5oZWFkLnZhbHVlXG4gIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0XG4gIGlmICh0aGlzLmhlYWQpIHtcbiAgICB0aGlzLmhlYWQucHJldiA9IG51bGxcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnRhaWwgPSBudWxsXG4gIH1cbiAgdGhpcy5sZW5ndGgtLVxuICByZXR1cm4gcmVzXG59XG5cbllhbGxpc3QucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoZm4sIHRoaXNwKSB7XG4gIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICBmb3IgKHZhciB3YWxrZXIgPSB0aGlzLmhlYWQsIGkgPSAwOyB3YWxrZXIgIT09IG51bGw7IGkrKykge1xuICAgIGZuLmNhbGwodGhpc3AsIHdhbGtlci52YWx1ZSwgaSwgdGhpcylcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG59XG5cbllhbGxpc3QucHJvdG90eXBlLmZvckVhY2hSZXZlcnNlID0gZnVuY3Rpb24gKGZuLCB0aGlzcCkge1xuICB0aGlzcCA9IHRoaXNwIHx8IHRoaXNcbiAgZm9yICh2YXIgd2Fsa2VyID0gdGhpcy50YWlsLCBpID0gdGhpcy5sZW5ndGggLSAxOyB3YWxrZXIgIT09IG51bGw7IGktLSkge1xuICAgIGZuLmNhbGwodGhpc3AsIHdhbGtlci52YWx1ZSwgaSwgdGhpcylcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG59XG5cbllhbGxpc3QucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChuKSB7XG4gIGZvciAodmFyIGkgPSAwLCB3YWxrZXIgPSB0aGlzLmhlYWQ7IHdhbGtlciAhPT0gbnVsbCAmJiBpIDwgbjsgaSsrKSB7XG4gICAgLy8gYWJvcnQgb3V0IG9mIHRoZSBsaXN0IGVhcmx5IGlmIHdlIGhpdCBhIGN5Y2xlXG4gICAgd2Fsa2VyID0gd2Fsa2VyLm5leHRcbiAgfVxuICBpZiAoaSA9PT0gbiAmJiB3YWxrZXIgIT09IG51bGwpIHtcbiAgICByZXR1cm4gd2Fsa2VyLnZhbHVlXG4gIH1cbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZ2V0UmV2ZXJzZSA9IGZ1bmN0aW9uIChuKSB7XG4gIGZvciAodmFyIGkgPSAwLCB3YWxrZXIgPSB0aGlzLnRhaWw7IHdhbGtlciAhPT0gbnVsbCAmJiBpIDwgbjsgaSsrKSB7XG4gICAgLy8gYWJvcnQgb3V0IG9mIHRoZSBsaXN0IGVhcmx5IGlmIHdlIGhpdCBhIGN5Y2xlXG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuICBpZiAoaSA9PT0gbiAmJiB3YWxrZXIgIT09IG51bGwpIHtcbiAgICByZXR1cm4gd2Fsa2VyLnZhbHVlXG4gIH1cbn1cblxuWWFsbGlzdC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGZuLCB0aGlzcCkge1xuICB0aGlzcCA9IHRoaXNwIHx8IHRoaXNcbiAgdmFyIHJlcyA9IG5ldyBZYWxsaXN0KClcbiAgZm9yICh2YXIgd2Fsa2VyID0gdGhpcy5oZWFkOyB3YWxrZXIgIT09IG51bGw7KSB7XG4gICAgcmVzLnB1c2goZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCB0aGlzKSlcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG4gIHJldHVybiByZXNcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUubWFwUmV2ZXJzZSA9IGZ1bmN0aW9uIChmbiwgdGhpc3ApIHtcbiAgdGhpc3AgPSB0aGlzcCB8fCB0aGlzXG4gIHZhciByZXMgPSBuZXcgWWFsbGlzdCgpXG4gIGZvciAodmFyIHdhbGtlciA9IHRoaXMudGFpbDsgd2Fsa2VyICE9PSBudWxsOykge1xuICAgIHJlcy5wdXNoKGZuLmNhbGwodGhpc3AsIHdhbGtlci52YWx1ZSwgdGhpcykpXG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChmbiwgaW5pdGlhbCkge1xuICB2YXIgYWNjXG4gIHZhciB3YWxrZXIgPSB0aGlzLmhlYWRcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgYWNjID0gaW5pdGlhbFxuICB9IGVsc2UgaWYgKHRoaXMuaGVhZCkge1xuICAgIHdhbGtlciA9IHRoaXMuaGVhZC5uZXh0XG4gICAgYWNjID0gdGhpcy5oZWFkLnZhbHVlXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVkdWNlIG9mIGVtcHR5IGxpc3Qgd2l0aCBubyBpbml0aWFsIHZhbHVlJylcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyB3YWxrZXIgIT09IG51bGw7IGkrKykge1xuICAgIGFjYyA9IGZuKGFjYywgd2Fsa2VyLnZhbHVlLCBpKVxuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cblxuICByZXR1cm4gYWNjXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnJlZHVjZVJldmVyc2UgPSBmdW5jdGlvbiAoZm4sIGluaXRpYWwpIHtcbiAgdmFyIGFjY1xuICB2YXIgd2Fsa2VyID0gdGhpcy50YWlsXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgIGFjYyA9IGluaXRpYWxcbiAgfSBlbHNlIGlmICh0aGlzLnRhaWwpIHtcbiAgICB3YWxrZXIgPSB0aGlzLnRhaWwucHJldlxuICAgIGFjYyA9IHRoaXMudGFpbC52YWx1ZVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlZHVjZSBvZiBlbXB0eSBsaXN0IHdpdGggbm8gaW5pdGlhbCB2YWx1ZScpXG4gIH1cblxuICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGggLSAxOyB3YWxrZXIgIT09IG51bGw7IGktLSkge1xuICAgIGFjYyA9IGZuKGFjYywgd2Fsa2VyLnZhbHVlLCBpKVxuICAgIHdhbGtlciA9IHdhbGtlci5wcmV2XG4gIH1cblxuICByZXR1cm4gYWNjXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhcnIgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwLCB3YWxrZXIgPSB0aGlzLmhlYWQ7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgYXJyW2ldID0gd2Fsa2VyLnZhbHVlXG4gICAgd2Fsa2VyID0gd2Fsa2VyLm5leHRcbiAgfVxuICByZXR1cm4gYXJyXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnRvQXJyYXlSZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYXJyID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMCwgd2Fsa2VyID0gdGhpcy50YWlsOyB3YWxrZXIgIT09IG51bGw7IGkrKykge1xuICAgIGFycltpXSA9IHdhbGtlci52YWx1ZVxuICAgIHdhbGtlciA9IHdhbGtlci5wcmV2XG4gIH1cbiAgcmV0dXJuIGFyclxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICB0byA9IHRvIHx8IHRoaXMubGVuZ3RoXG4gIGlmICh0byA8IDApIHtcbiAgICB0byArPSB0aGlzLmxlbmd0aFxuICB9XG4gIGZyb20gPSBmcm9tIHx8IDBcbiAgaWYgKGZyb20gPCAwKSB7XG4gICAgZnJvbSArPSB0aGlzLmxlbmd0aFxuICB9XG4gIHZhciByZXQgPSBuZXcgWWFsbGlzdCgpXG4gIGlmICh0byA8IGZyb20gfHwgdG8gPCAwKSB7XG4gICAgcmV0dXJuIHJldFxuICB9XG4gIGlmIChmcm9tIDwgMCkge1xuICAgIGZyb20gPSAwXG4gIH1cbiAgaWYgKHRvID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0byA9IHRoaXMubGVuZ3RoXG4gIH1cbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPCBmcm9tOyBpKyspIHtcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG4gIGZvciAoOyB3YWxrZXIgIT09IG51bGwgJiYgaSA8IHRvOyBpKyssIHdhbGtlciA9IHdhbGtlci5uZXh0KSB7XG4gICAgcmV0LnB1c2god2Fsa2VyLnZhbHVlKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuc2xpY2VSZXZlcnNlID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gIHRvID0gdG8gfHwgdGhpcy5sZW5ndGhcbiAgaWYgKHRvIDwgMCkge1xuICAgIHRvICs9IHRoaXMubGVuZ3RoXG4gIH1cbiAgZnJvbSA9IGZyb20gfHwgMFxuICBpZiAoZnJvbSA8IDApIHtcbiAgICBmcm9tICs9IHRoaXMubGVuZ3RoXG4gIH1cbiAgdmFyIHJldCA9IG5ldyBZYWxsaXN0KClcbiAgaWYgKHRvIDwgZnJvbSB8fCB0byA8IDApIHtcbiAgICByZXR1cm4gcmV0XG4gIH1cbiAgaWYgKGZyb20gPCAwKSB7XG4gICAgZnJvbSA9IDBcbiAgfVxuICBpZiAodG8gPiB0aGlzLmxlbmd0aCkge1xuICAgIHRvID0gdGhpcy5sZW5ndGhcbiAgfVxuICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGgsIHdhbGtlciA9IHRoaXMudGFpbDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPiB0bzsgaS0tKSB7XG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuICBmb3IgKDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPiBmcm9tOyBpLS0sIHdhbGtlciA9IHdhbGtlci5wcmV2KSB7XG4gICAgcmV0LnB1c2god2Fsa2VyLnZhbHVlKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuc3BsaWNlID0gZnVuY3Rpb24gKHN0YXJ0LCBkZWxldGVDb3VudCwgLi4ubm9kZXMpIHtcbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICBzdGFydCA9IHRoaXMubGVuZ3RoIC0gMVxuICB9XG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IHRoaXMubGVuZ3RoICsgc3RhcnQ7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgd2Fsa2VyID0gdGhpcy5oZWFkOyB3YWxrZXIgIT09IG51bGwgJiYgaSA8IHN0YXJ0OyBpKyspIHtcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG5cbiAgdmFyIHJldCA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyB3YWxrZXIgJiYgaSA8IGRlbGV0ZUNvdW50OyBpKyspIHtcbiAgICByZXQucHVzaCh3YWxrZXIudmFsdWUpXG4gICAgd2Fsa2VyID0gdGhpcy5yZW1vdmVOb2RlKHdhbGtlcilcbiAgfVxuICBpZiAod2Fsa2VyID09PSBudWxsKSB7XG4gICAgd2Fsa2VyID0gdGhpcy50YWlsXG4gIH1cblxuICBpZiAod2Fsa2VyICE9PSB0aGlzLmhlYWQgJiYgd2Fsa2VyICE9PSB0aGlzLnRhaWwpIHtcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIHdhbGtlciA9IGluc2VydCh0aGlzLCB3YWxrZXIsIG5vZGVzW2ldKVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbllhbGxpc3QucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBoZWFkID0gdGhpcy5oZWFkXG4gIHZhciB0YWlsID0gdGhpcy50YWlsXG4gIGZvciAodmFyIHdhbGtlciA9IGhlYWQ7IHdhbGtlciAhPT0gbnVsbDsgd2Fsa2VyID0gd2Fsa2VyLnByZXYpIHtcbiAgICB2YXIgcCA9IHdhbGtlci5wcmV2XG4gICAgd2Fsa2VyLnByZXYgPSB3YWxrZXIubmV4dFxuICAgIHdhbGtlci5uZXh0ID0gcFxuICB9XG4gIHRoaXMuaGVhZCA9IHRhaWxcbiAgdGhpcy50YWlsID0gaGVhZFxuICByZXR1cm4gdGhpc1xufVxuXG5mdW5jdGlvbiBpbnNlcnQgKHNlbGYsIG5vZGUsIHZhbHVlKSB7XG4gIHZhciBpbnNlcnRlZCA9IG5vZGUgPT09IHNlbGYuaGVhZCA/XG4gICAgbmV3IE5vZGUodmFsdWUsIG51bGwsIG5vZGUsIHNlbGYpIDpcbiAgICBuZXcgTm9kZSh2YWx1ZSwgbm9kZSwgbm9kZS5uZXh0LCBzZWxmKVxuXG4gIGlmIChpbnNlcnRlZC5uZXh0ID09PSBudWxsKSB7XG4gICAgc2VsZi50YWlsID0gaW5zZXJ0ZWRcbiAgfVxuICBpZiAoaW5zZXJ0ZWQucHJldiA9PT0gbnVsbCkge1xuICAgIHNlbGYuaGVhZCA9IGluc2VydGVkXG4gIH1cblxuICBzZWxmLmxlbmd0aCsrXG5cbiAgcmV0dXJuIGluc2VydGVkXG59XG5cbmZ1bmN0aW9uIHB1c2ggKHNlbGYsIGl0ZW0pIHtcbiAgc2VsZi50YWlsID0gbmV3IE5vZGUoaXRlbSwgc2VsZi50YWlsLCBudWxsLCBzZWxmKVxuICBpZiAoIXNlbGYuaGVhZCkge1xuICAgIHNlbGYuaGVhZCA9IHNlbGYudGFpbFxuICB9XG4gIHNlbGYubGVuZ3RoKytcbn1cblxuZnVuY3Rpb24gdW5zaGlmdCAoc2VsZiwgaXRlbSkge1xuICBzZWxmLmhlYWQgPSBuZXcgTm9kZShpdGVtLCBudWxsLCBzZWxmLmhlYWQsIHNlbGYpXG4gIGlmICghc2VsZi50YWlsKSB7XG4gICAgc2VsZi50YWlsID0gc2VsZi5oZWFkXG4gIH1cbiAgc2VsZi5sZW5ndGgrK1xufVxuXG5mdW5jdGlvbiBOb2RlICh2YWx1ZSwgcHJldiwgbmV4dCwgbGlzdCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTm9kZSkpIHtcbiAgICByZXR1cm4gbmV3IE5vZGUodmFsdWUsIHByZXYsIG5leHQsIGxpc3QpXG4gIH1cblxuICB0aGlzLmxpc3QgPSBsaXN0XG4gIHRoaXMudmFsdWUgPSB2YWx1ZVxuXG4gIGlmIChwcmV2KSB7XG4gICAgcHJldi5uZXh0ID0gdGhpc1xuICAgIHRoaXMucHJldiA9IHByZXZcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnByZXYgPSBudWxsXG4gIH1cblxuICBpZiAobmV4dCkge1xuICAgIG5leHQucHJldiA9IHRoaXNcbiAgICB0aGlzLm5leHQgPSBuZXh0XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5uZXh0ID0gbnVsbFxuICB9XG59XG5cbnRyeSB7XG4gIC8vIGFkZCBpZiBzdXBwb3J0IGZvciBTeW1ib2wuaXRlcmF0b3IgaXMgcHJlc2VudFxuICByZXF1aXJlKCcuL2l0ZXJhdG9yLmpzJykoWWFsbGlzdClcbn0gY2F0Y2ggKGVyKSB7fVxuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vIEEgbGlua2VkIGxpc3QgdG8ga2VlcCB0cmFjayBvZiByZWNlbnRseS11c2VkLW5lc3NcbmNvbnN0IFlhbGxpc3QgPSByZXF1aXJlKCd5YWxsaXN0JylcblxuY29uc3QgTUFYID0gU3ltYm9sKCdtYXgnKVxuY29uc3QgTEVOR1RIID0gU3ltYm9sKCdsZW5ndGgnKVxuY29uc3QgTEVOR1RIX0NBTENVTEFUT1IgPSBTeW1ib2woJ2xlbmd0aENhbGN1bGF0b3InKVxuY29uc3QgQUxMT1dfU1RBTEUgPSBTeW1ib2woJ2FsbG93U3RhbGUnKVxuY29uc3QgTUFYX0FHRSA9IFN5bWJvbCgnbWF4QWdlJylcbmNvbnN0IERJU1BPU0UgPSBTeW1ib2woJ2Rpc3Bvc2UnKVxuY29uc3QgTk9fRElTUE9TRV9PTl9TRVQgPSBTeW1ib2woJ25vRGlzcG9zZU9uU2V0JylcbmNvbnN0IExSVV9MSVNUID0gU3ltYm9sKCdscnVMaXN0JylcbmNvbnN0IENBQ0hFID0gU3ltYm9sKCdjYWNoZScpXG5jb25zdCBVUERBVEVfQUdFX09OX0dFVCA9IFN5bWJvbCgndXBkYXRlQWdlT25HZXQnKVxuXG5jb25zdCBuYWl2ZUxlbmd0aCA9ICgpID0+IDFcblxuLy8gbHJ1TGlzdCBpcyBhIHlhbGxpc3Qgd2hlcmUgdGhlIGhlYWQgaXMgdGhlIHlvdW5nZXN0XG4vLyBpdGVtLCBhbmQgdGhlIHRhaWwgaXMgdGhlIG9sZGVzdC4gIHRoZSBsaXN0IGNvbnRhaW5zIHRoZSBIaXRcbi8vIG9iamVjdHMgYXMgdGhlIGVudHJpZXMuXG4vLyBFYWNoIEhpdCBvYmplY3QgaGFzIGEgcmVmZXJlbmNlIHRvIGl0cyBZYWxsaXN0Lk5vZGUuICBUaGlzXG4vLyBuZXZlciBjaGFuZ2VzLlxuLy9cbi8vIGNhY2hlIGlzIGEgTWFwIChvciBQc2V1ZG9NYXApIHRoYXQgbWF0Y2hlcyB0aGUga2V5cyB0b1xuLy8gdGhlIFlhbGxpc3QuTm9kZSBvYmplY3QuXG5jbGFzcyBMUlVDYWNoZSB7XG4gIGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJylcbiAgICAgIG9wdGlvbnMgPSB7IG1heDogb3B0aW9ucyB9XG5cbiAgICBpZiAoIW9wdGlvbnMpXG4gICAgICBvcHRpb25zID0ge31cblxuICAgIGlmIChvcHRpb25zLm1heCAmJiAodHlwZW9mIG9wdGlvbnMubWF4ICE9PSAnbnVtYmVyJyB8fCBvcHRpb25zLm1heCA8IDApKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWF4IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyJylcbiAgICAvLyBLaW5kIG9mIHdlaXJkIHRvIGhhdmUgYSBkZWZhdWx0IG1heCBvZiBJbmZpbml0eSwgYnV0IG9oIHdlbGwuXG4gICAgY29uc3QgbWF4ID0gdGhpc1tNQVhdID0gb3B0aW9ucy5tYXggfHwgSW5maW5pdHlcblxuICAgIGNvbnN0IGxjID0gb3B0aW9ucy5sZW5ndGggfHwgbmFpdmVMZW5ndGhcbiAgICB0aGlzW0xFTkdUSF9DQUxDVUxBVE9SXSA9ICh0eXBlb2YgbGMgIT09ICdmdW5jdGlvbicpID8gbmFpdmVMZW5ndGggOiBsY1xuICAgIHRoaXNbQUxMT1dfU1RBTEVdID0gb3B0aW9ucy5zdGFsZSB8fCBmYWxzZVxuICAgIGlmIChvcHRpb25zLm1heEFnZSAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhBZ2UgIT09ICdudW1iZXInKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWF4QWdlIG11c3QgYmUgYSBudW1iZXInKVxuICAgIHRoaXNbTUFYX0FHRV0gPSBvcHRpb25zLm1heEFnZSB8fCAwXG4gICAgdGhpc1tESVNQT1NFXSA9IG9wdGlvbnMuZGlzcG9zZVxuICAgIHRoaXNbTk9fRElTUE9TRV9PTl9TRVRdID0gb3B0aW9ucy5ub0Rpc3Bvc2VPblNldCB8fCBmYWxzZVxuICAgIHRoaXNbVVBEQVRFX0FHRV9PTl9HRVRdID0gb3B0aW9ucy51cGRhdGVBZ2VPbkdldCB8fCBmYWxzZVxuICAgIHRoaXMucmVzZXQoKVxuICB9XG5cbiAgLy8gcmVzaXplIHRoZSBjYWNoZSB3aGVuIHRoZSBtYXggY2hhbmdlcy5cbiAgc2V0IG1heCAobUwpIHtcbiAgICBpZiAodHlwZW9mIG1MICE9PSAnbnVtYmVyJyB8fCBtTCA8IDApXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYXggbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXInKVxuXG4gICAgdGhpc1tNQVhdID0gbUwgfHwgSW5maW5pdHlcbiAgICB0cmltKHRoaXMpXG4gIH1cbiAgZ2V0IG1heCAoKSB7XG4gICAgcmV0dXJuIHRoaXNbTUFYXVxuICB9XG5cbiAgc2V0IGFsbG93U3RhbGUgKGFsbG93U3RhbGUpIHtcbiAgICB0aGlzW0FMTE9XX1NUQUxFXSA9ICEhYWxsb3dTdGFsZVxuICB9XG4gIGdldCBhbGxvd1N0YWxlICgpIHtcbiAgICByZXR1cm4gdGhpc1tBTExPV19TVEFMRV1cbiAgfVxuXG4gIHNldCBtYXhBZ2UgKG1BKSB7XG4gICAgaWYgKHR5cGVvZiBtQSAhPT0gJ251bWJlcicpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYXhBZ2UgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXInKVxuXG4gICAgdGhpc1tNQVhfQUdFXSA9IG1BXG4gICAgdHJpbSh0aGlzKVxuICB9XG4gIGdldCBtYXhBZ2UgKCkge1xuICAgIHJldHVybiB0aGlzW01BWF9BR0VdXG4gIH1cblxuICAvLyByZXNpemUgdGhlIGNhY2hlIHdoZW4gdGhlIGxlbmd0aENhbGN1bGF0b3IgY2hhbmdlcy5cbiAgc2V0IGxlbmd0aENhbGN1bGF0b3IgKGxDKSB7XG4gICAgaWYgKHR5cGVvZiBsQyAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgIGxDID0gbmFpdmVMZW5ndGhcblxuICAgIGlmIChsQyAhPT0gdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0pIHtcbiAgICAgIHRoaXNbTEVOR1RIX0NBTENVTEFUT1JdID0gbENcbiAgICAgIHRoaXNbTEVOR1RIXSA9IDBcbiAgICAgIHRoaXNbTFJVX0xJU1RdLmZvckVhY2goaGl0ID0+IHtcbiAgICAgICAgaGl0Lmxlbmd0aCA9IHRoaXNbTEVOR1RIX0NBTENVTEFUT1JdKGhpdC52YWx1ZSwgaGl0LmtleSlcbiAgICAgICAgdGhpc1tMRU5HVEhdICs9IGhpdC5sZW5ndGhcbiAgICAgIH0pXG4gICAgfVxuICAgIHRyaW0odGhpcylcbiAgfVxuICBnZXQgbGVuZ3RoQ2FsY3VsYXRvciAoKSB7IHJldHVybiB0aGlzW0xFTkdUSF9DQUxDVUxBVE9SXSB9XG5cbiAgZ2V0IGxlbmd0aCAoKSB7IHJldHVybiB0aGlzW0xFTkdUSF0gfVxuICBnZXQgaXRlbUNvdW50ICgpIHsgcmV0dXJuIHRoaXNbTFJVX0xJU1RdLmxlbmd0aCB9XG5cbiAgcmZvckVhY2ggKGZuLCB0aGlzcCkge1xuICAgIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICAgIGZvciAobGV0IHdhbGtlciA9IHRoaXNbTFJVX0xJU1RdLnRhaWw7IHdhbGtlciAhPT0gbnVsbDspIHtcbiAgICAgIGNvbnN0IHByZXYgPSB3YWxrZXIucHJldlxuICAgICAgZm9yRWFjaFN0ZXAodGhpcywgZm4sIHdhbGtlciwgdGhpc3ApXG4gICAgICB3YWxrZXIgPSBwcmV2XG4gICAgfVxuICB9XG5cbiAgZm9yRWFjaCAoZm4sIHRoaXNwKSB7XG4gICAgdGhpc3AgPSB0aGlzcCB8fCB0aGlzXG4gICAgZm9yIChsZXQgd2Fsa2VyID0gdGhpc1tMUlVfTElTVF0uaGVhZDsgd2Fsa2VyICE9PSBudWxsOykge1xuICAgICAgY29uc3QgbmV4dCA9IHdhbGtlci5uZXh0XG4gICAgICBmb3JFYWNoU3RlcCh0aGlzLCBmbiwgd2Fsa2VyLCB0aGlzcClcbiAgICAgIHdhbGtlciA9IG5leHRcbiAgICB9XG4gIH1cblxuICBrZXlzICgpIHtcbiAgICByZXR1cm4gdGhpc1tMUlVfTElTVF0udG9BcnJheSgpLm1hcChrID0+IGsua2V5KVxuICB9XG5cbiAgdmFsdWVzICgpIHtcbiAgICByZXR1cm4gdGhpc1tMUlVfTElTVF0udG9BcnJheSgpLm1hcChrID0+IGsudmFsdWUpXG4gIH1cblxuICByZXNldCAoKSB7XG4gICAgaWYgKHRoaXNbRElTUE9TRV0gJiZcbiAgICAgICAgdGhpc1tMUlVfTElTVF0gJiZcbiAgICAgICAgdGhpc1tMUlVfTElTVF0ubGVuZ3RoKSB7XG4gICAgICB0aGlzW0xSVV9MSVNUXS5mb3JFYWNoKGhpdCA9PiB0aGlzW0RJU1BPU0VdKGhpdC5rZXksIGhpdC52YWx1ZSkpXG4gICAgfVxuXG4gICAgdGhpc1tDQUNIRV0gPSBuZXcgTWFwKCkgLy8gaGFzaCBvZiBpdGVtcyBieSBrZXlcbiAgICB0aGlzW0xSVV9MSVNUXSA9IG5ldyBZYWxsaXN0KCkgLy8gbGlzdCBvZiBpdGVtcyBpbiBvcmRlciBvZiB1c2UgcmVjZW5jeVxuICAgIHRoaXNbTEVOR1RIXSA9IDAgLy8gbGVuZ3RoIG9mIGl0ZW1zIGluIHRoZSBsaXN0XG4gIH1cblxuICBkdW1wICgpIHtcbiAgICByZXR1cm4gdGhpc1tMUlVfTElTVF0ubWFwKGhpdCA9PlxuICAgICAgaXNTdGFsZSh0aGlzLCBoaXQpID8gZmFsc2UgOiB7XG4gICAgICAgIGs6IGhpdC5rZXksXG4gICAgICAgIHY6IGhpdC52YWx1ZSxcbiAgICAgICAgZTogaGl0Lm5vdyArIChoaXQubWF4QWdlIHx8IDApXG4gICAgICB9KS50b0FycmF5KCkuZmlsdGVyKGggPT4gaClcbiAgfVxuXG4gIGR1bXBMcnUgKCkge1xuICAgIHJldHVybiB0aGlzW0xSVV9MSVNUXVxuICB9XG5cbiAgc2V0IChrZXksIHZhbHVlLCBtYXhBZ2UpIHtcbiAgICBtYXhBZ2UgPSBtYXhBZ2UgfHwgdGhpc1tNQVhfQUdFXVxuXG4gICAgaWYgKG1heEFnZSAmJiB0eXBlb2YgbWF4QWdlICE9PSAnbnVtYmVyJylcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21heEFnZSBtdXN0IGJlIGEgbnVtYmVyJylcblxuICAgIGNvbnN0IG5vdyA9IG1heEFnZSA/IERhdGUubm93KCkgOiAwXG4gICAgY29uc3QgbGVuID0gdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0odmFsdWUsIGtleSlcblxuICAgIGlmICh0aGlzW0NBQ0hFXS5oYXMoa2V5KSkge1xuICAgICAgaWYgKGxlbiA+IHRoaXNbTUFYXSkge1xuICAgICAgICBkZWwodGhpcywgdGhpc1tDQUNIRV0uZ2V0KGtleSkpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBjb25zdCBub2RlID0gdGhpc1tDQUNIRV0uZ2V0KGtleSlcbiAgICAgIGNvbnN0IGl0ZW0gPSBub2RlLnZhbHVlXG5cbiAgICAgIC8vIGRpc3Bvc2Ugb2YgdGhlIG9sZCBvbmUgYmVmb3JlIG92ZXJ3cml0aW5nXG4gICAgICAvLyBzcGxpdCBvdXQgaW50byAyIGlmcyBmb3IgYmV0dGVyIGNvdmVyYWdlIHRyYWNraW5nXG4gICAgICBpZiAodGhpc1tESVNQT1NFXSkge1xuICAgICAgICBpZiAoIXRoaXNbTk9fRElTUE9TRV9PTl9TRVRdKVxuICAgICAgICAgIHRoaXNbRElTUE9TRV0oa2V5LCBpdGVtLnZhbHVlKVxuICAgICAgfVxuXG4gICAgICBpdGVtLm5vdyA9IG5vd1xuICAgICAgaXRlbS5tYXhBZ2UgPSBtYXhBZ2VcbiAgICAgIGl0ZW0udmFsdWUgPSB2YWx1ZVxuICAgICAgdGhpc1tMRU5HVEhdICs9IGxlbiAtIGl0ZW0ubGVuZ3RoXG4gICAgICBpdGVtLmxlbmd0aCA9IGxlblxuICAgICAgdGhpcy5nZXQoa2V5KVxuICAgICAgdHJpbSh0aGlzKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBoaXQgPSBuZXcgRW50cnkoa2V5LCB2YWx1ZSwgbGVuLCBub3csIG1heEFnZSlcblxuICAgIC8vIG92ZXJzaXplZCBvYmplY3RzIGZhbGwgb3V0IG9mIGNhY2hlIGF1dG9tYXRpY2FsbHkuXG4gICAgaWYgKGhpdC5sZW5ndGggPiB0aGlzW01BWF0pIHtcbiAgICAgIGlmICh0aGlzW0RJU1BPU0VdKVxuICAgICAgICB0aGlzW0RJU1BPU0VdKGtleSwgdmFsdWUpXG5cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHRoaXNbTEVOR1RIXSArPSBoaXQubGVuZ3RoXG4gICAgdGhpc1tMUlVfTElTVF0udW5zaGlmdChoaXQpXG4gICAgdGhpc1tDQUNIRV0uc2V0KGtleSwgdGhpc1tMUlVfTElTVF0uaGVhZClcbiAgICB0cmltKHRoaXMpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGhhcyAoa2V5KSB7XG4gICAgaWYgKCF0aGlzW0NBQ0hFXS5oYXMoa2V5KSkgcmV0dXJuIGZhbHNlXG4gICAgY29uc3QgaGl0ID0gdGhpc1tDQUNIRV0uZ2V0KGtleSkudmFsdWVcbiAgICByZXR1cm4gIWlzU3RhbGUodGhpcywgaGl0KVxuICB9XG5cbiAgZ2V0IChrZXkpIHtcbiAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgdHJ1ZSlcbiAgfVxuXG4gIHBlZWsgKGtleSkge1xuICAgIHJldHVybiBnZXQodGhpcywga2V5LCBmYWxzZSlcbiAgfVxuXG4gIHBvcCAoKSB7XG4gICAgY29uc3Qgbm9kZSA9IHRoaXNbTFJVX0xJU1RdLnRhaWxcbiAgICBpZiAoIW5vZGUpXG4gICAgICByZXR1cm4gbnVsbFxuXG4gICAgZGVsKHRoaXMsIG5vZGUpXG4gICAgcmV0dXJuIG5vZGUudmFsdWVcbiAgfVxuXG4gIGRlbCAoa2V5KSB7XG4gICAgZGVsKHRoaXMsIHRoaXNbQ0FDSEVdLmdldChrZXkpKVxuICB9XG5cbiAgbG9hZCAoYXJyKSB7XG4gICAgLy8gcmVzZXQgdGhlIGNhY2hlXG4gICAgdGhpcy5yZXNldCgpXG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gICAgLy8gQSBwcmV2aW91cyBzZXJpYWxpemVkIGNhY2hlIGhhcyB0aGUgbW9zdCByZWNlbnQgaXRlbXMgZmlyc3RcbiAgICBmb3IgKGxldCBsID0gYXJyLmxlbmd0aCAtIDE7IGwgPj0gMDsgbC0tKSB7XG4gICAgICBjb25zdCBoaXQgPSBhcnJbbF1cbiAgICAgIGNvbnN0IGV4cGlyZXNBdCA9IGhpdC5lIHx8IDBcbiAgICAgIGlmIChleHBpcmVzQXQgPT09IDApXG4gICAgICAgIC8vIHRoZSBpdGVtIHdhcyBjcmVhdGVkIHdpdGhvdXQgZXhwaXJhdGlvbiBpbiBhIG5vbiBhZ2VkIGNhY2hlXG4gICAgICAgIHRoaXMuc2V0KGhpdC5rLCBoaXQudilcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBtYXhBZ2UgPSBleHBpcmVzQXQgLSBub3dcbiAgICAgICAgLy8gZG9udCBhZGQgYWxyZWFkeSBleHBpcmVkIGl0ZW1zXG4gICAgICAgIGlmIChtYXhBZ2UgPiAwKSB7XG4gICAgICAgICAgdGhpcy5zZXQoaGl0LmssIGhpdC52LCBtYXhBZ2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcnVuZSAoKSB7XG4gICAgdGhpc1tDQUNIRV0uZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gZ2V0KHRoaXMsIGtleSwgZmFsc2UpKVxuICB9XG59XG5cbmNvbnN0IGdldCA9IChzZWxmLCBrZXksIGRvVXNlKSA9PiB7XG4gIGNvbnN0IG5vZGUgPSBzZWxmW0NBQ0hFXS5nZXQoa2V5KVxuICBpZiAobm9kZSkge1xuICAgIGNvbnN0IGhpdCA9IG5vZGUudmFsdWVcbiAgICBpZiAoaXNTdGFsZShzZWxmLCBoaXQpKSB7XG4gICAgICBkZWwoc2VsZiwgbm9kZSlcbiAgICAgIGlmICghc2VsZltBTExPV19TVEFMRV0pXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRvVXNlKSB7XG4gICAgICAgIGlmIChzZWxmW1VQREFURV9BR0VfT05fR0VUXSlcbiAgICAgICAgICBub2RlLnZhbHVlLm5vdyA9IERhdGUubm93KClcbiAgICAgICAgc2VsZltMUlVfTElTVF0udW5zaGlmdE5vZGUobm9kZSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhpdC52YWx1ZVxuICB9XG59XG5cbmNvbnN0IGlzU3RhbGUgPSAoc2VsZiwgaGl0KSA9PiB7XG4gIGlmICghaGl0IHx8ICghaGl0Lm1heEFnZSAmJiAhc2VsZltNQVhfQUdFXSkpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgY29uc3QgZGlmZiA9IERhdGUubm93KCkgLSBoaXQubm93XG4gIHJldHVybiBoaXQubWF4QWdlID8gZGlmZiA+IGhpdC5tYXhBZ2VcbiAgICA6IHNlbGZbTUFYX0FHRV0gJiYgKGRpZmYgPiBzZWxmW01BWF9BR0VdKVxufVxuXG5jb25zdCB0cmltID0gc2VsZiA9PiB7XG4gIGlmIChzZWxmW0xFTkdUSF0gPiBzZWxmW01BWF0pIHtcbiAgICBmb3IgKGxldCB3YWxrZXIgPSBzZWxmW0xSVV9MSVNUXS50YWlsO1xuICAgICAgc2VsZltMRU5HVEhdID4gc2VsZltNQVhdICYmIHdhbGtlciAhPT0gbnVsbDspIHtcbiAgICAgIC8vIFdlIGtub3cgdGhhdCB3ZSdyZSBhYm91dCB0byBkZWxldGUgdGhpcyBvbmUsIGFuZCBhbHNvXG4gICAgICAvLyB3aGF0IHRoZSBuZXh0IGxlYXN0IHJlY2VudGx5IHVzZWQga2V5IHdpbGwgYmUsIHNvIGp1c3RcbiAgICAgIC8vIGdvIGFoZWFkIGFuZCBzZXQgaXQgbm93LlxuICAgICAgY29uc3QgcHJldiA9IHdhbGtlci5wcmV2XG4gICAgICBkZWwoc2VsZiwgd2Fsa2VyKVxuICAgICAgd2Fsa2VyID0gcHJldlxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBkZWwgPSAoc2VsZiwgbm9kZSkgPT4ge1xuICBpZiAobm9kZSkge1xuICAgIGNvbnN0IGhpdCA9IG5vZGUudmFsdWVcbiAgICBpZiAoc2VsZltESVNQT1NFXSlcbiAgICAgIHNlbGZbRElTUE9TRV0oaGl0LmtleSwgaGl0LnZhbHVlKVxuXG4gICAgc2VsZltMRU5HVEhdIC09IGhpdC5sZW5ndGhcbiAgICBzZWxmW0NBQ0hFXS5kZWxldGUoaGl0LmtleSlcbiAgICBzZWxmW0xSVV9MSVNUXS5yZW1vdmVOb2RlKG5vZGUpXG4gIH1cbn1cblxuY2xhc3MgRW50cnkge1xuICBjb25zdHJ1Y3RvciAoa2V5LCB2YWx1ZSwgbGVuZ3RoLCBub3csIG1heEFnZSkge1xuICAgIHRoaXMua2V5ID0ga2V5XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlXG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGhcbiAgICB0aGlzLm5vdyA9IG5vd1xuICAgIHRoaXMubWF4QWdlID0gbWF4QWdlIHx8IDBcbiAgfVxufVxuXG5jb25zdCBmb3JFYWNoU3RlcCA9IChzZWxmLCBmbiwgbm9kZSwgdGhpc3ApID0+IHtcbiAgbGV0IGhpdCA9IG5vZGUudmFsdWVcbiAgaWYgKGlzU3RhbGUoc2VsZiwgaGl0KSkge1xuICAgIGRlbChzZWxmLCBub2RlKVxuICAgIGlmICghc2VsZltBTExPV19TVEFMRV0pXG4gICAgICBoaXQgPSB1bmRlZmluZWRcbiAgfVxuICBpZiAoaGl0KVxuICAgIGZuLmNhbGwodGhpc3AsIGhpdC52YWx1ZSwgaGl0LmtleSwgc2VsZilcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBMUlVDYWNoZVxuIiwiLy8gaG9pc3RlZCBjbGFzcyBmb3IgY3ljbGljIGRlcGVuZGVuY3lcbmNsYXNzIFJhbmdlIHtcbiAgY29uc3RydWN0b3IgKHJhbmdlLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHBhcnNlT3B0aW9ucyhvcHRpb25zKVxuXG4gICAgaWYgKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpIHtcbiAgICAgIGlmIChcbiAgICAgICAgcmFuZ2UubG9vc2UgPT09ICEhb3B0aW9ucy5sb29zZSAmJlxuICAgICAgICByYW5nZS5pbmNsdWRlUHJlcmVsZWFzZSA9PT0gISFvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLnJhdywgb3B0aW9ucylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmFuZ2UgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSB7XG4gICAgICAvLyBqdXN0IHB1dCBpdCBpbiB0aGUgc2V0IGFuZCByZXR1cm5cbiAgICAgIHRoaXMucmF3ID0gcmFuZ2UudmFsdWVcbiAgICAgIHRoaXMuc2V0ID0gW1tyYW5nZV1dXG4gICAgICB0aGlzLmZvcm1hdCgpXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlXG4gICAgdGhpcy5pbmNsdWRlUHJlcmVsZWFzZSA9ICEhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZVxuXG4gICAgLy8gRmlyc3QsIHNwbGl0IGJhc2VkIG9uIGJvb2xlYW4gb3IgfHxcbiAgICB0aGlzLnJhdyA9IHJhbmdlXG4gICAgdGhpcy5zZXQgPSByYW5nZVxuICAgICAgLnNwbGl0KC9cXHMqXFx8XFx8XFxzKi8pXG4gICAgICAvLyBtYXAgdGhlIHJhbmdlIHRvIGEgMmQgYXJyYXkgb2YgY29tcGFyYXRvcnNcbiAgICAgIC5tYXAocmFuZ2UgPT4gdGhpcy5wYXJzZVJhbmdlKHJhbmdlLnRyaW0oKSkpXG4gICAgICAvLyB0aHJvdyBvdXQgYW55IGNvbXBhcmF0b3IgbGlzdHMgdGhhdCBhcmUgZW1wdHlcbiAgICAgIC8vIHRoaXMgZ2VuZXJhbGx5IG1lYW5zIHRoYXQgaXQgd2FzIG5vdCBhIHZhbGlkIHJhbmdlLCB3aGljaCBpcyBhbGxvd2VkXG4gICAgICAvLyBpbiBsb29zZSBtb2RlLCBidXQgd2lsbCBzdGlsbCB0aHJvdyBpZiB0aGUgV0hPTEUgcmFuZ2UgaXMgaW52YWxpZC5cbiAgICAgIC5maWx0ZXIoYyA9PiBjLmxlbmd0aClcblxuICAgIGlmICghdGhpcy5zZXQubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIFNlbVZlciBSYW5nZTogJHtyYW5nZX1gKVxuICAgIH1cblxuICAgIC8vIGlmIHdlIGhhdmUgYW55IHRoYXQgYXJlIG5vdCB0aGUgbnVsbCBzZXQsIHRocm93IG91dCBudWxsIHNldHMuXG4gICAgaWYgKHRoaXMuc2V0Lmxlbmd0aCA+IDEpIHtcbiAgICAgIC8vIGtlZXAgdGhlIGZpcnN0IG9uZSwgaW4gY2FzZSB0aGV5J3JlIGFsbCBudWxsIHNldHNcbiAgICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5zZXRbMF1cbiAgICAgIHRoaXMuc2V0ID0gdGhpcy5zZXQuZmlsdGVyKGMgPT4gIWlzTnVsbFNldChjWzBdKSlcbiAgICAgIGlmICh0aGlzLnNldC5sZW5ndGggPT09IDApXG4gICAgICAgIHRoaXMuc2V0ID0gW2ZpcnN0XVxuICAgICAgZWxzZSBpZiAodGhpcy5zZXQubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFueSB0aGF0IGFyZSAqLCB0aGVuIHRoZSByYW5nZSBpcyBqdXN0ICpcbiAgICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuc2V0KSB7XG4gICAgICAgICAgaWYgKGMubGVuZ3RoID09PSAxICYmIGlzQW55KGNbMF0pKSB7XG4gICAgICAgICAgICB0aGlzLnNldCA9IFtjXVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmZvcm1hdCgpXG4gIH1cblxuICBmb3JtYXQgKCkge1xuICAgIHRoaXMucmFuZ2UgPSB0aGlzLnNldFxuICAgICAgLm1hcCgoY29tcHMpID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbXBzLmpvaW4oJyAnKS50cmltKClcbiAgICAgIH0pXG4gICAgICAuam9pbignfHwnKVxuICAgICAgLnRyaW0oKVxuICAgIHJldHVybiB0aGlzLnJhbmdlXG4gIH1cblxuICB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmFuZ2VcbiAgfVxuXG4gIHBhcnNlUmFuZ2UgKHJhbmdlKSB7XG4gICAgcmFuZ2UgPSByYW5nZS50cmltKClcblxuICAgIC8vIG1lbW9pemUgcmFuZ2UgcGFyc2luZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgLy8gdGhpcyBpcyBhIHZlcnkgaG90IHBhdGgsIGFuZCBmdWxseSBkZXRlcm1pbmlzdGljLlxuICAgIGNvbnN0IG1lbW9PcHRzID0gT2JqZWN0LmtleXModGhpcy5vcHRpb25zKS5qb2luKCcsJylcbiAgICBjb25zdCBtZW1vS2V5ID0gYHBhcnNlUmFuZ2U6JHttZW1vT3B0c306JHtyYW5nZX1gXG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KG1lbW9LZXkpXG4gICAgaWYgKGNhY2hlZClcbiAgICAgIHJldHVybiBjYWNoZWRcblxuICAgIGNvbnN0IGxvb3NlID0gdGhpcy5vcHRpb25zLmxvb3NlXG4gICAgLy8gYDEuMi4zIC0gMS4yLjRgID0+IGA+PTEuMi4zIDw9MS4yLjRgXG4gICAgY29uc3QgaHIgPSBsb29zZSA/IHJlW3QuSFlQSEVOUkFOR0VMT09TRV0gOiByZVt0LkhZUEhFTlJBTkdFXVxuICAgIHJhbmdlID0gcmFuZ2UucmVwbGFjZShociwgaHlwaGVuUmVwbGFjZSh0aGlzLm9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2UpKVxuICAgIGRlYnVnKCdoeXBoZW4gcmVwbGFjZScsIHJhbmdlKVxuICAgIC8vIGA+IDEuMi4zIDwgMS4yLjVgID0+IGA+MS4yLjMgPDEuMi41YFxuICAgIHJhbmdlID0gcmFuZ2UucmVwbGFjZShyZVt0LkNPTVBBUkFUT1JUUklNXSwgY29tcGFyYXRvclRyaW1SZXBsYWNlKVxuICAgIGRlYnVnKCdjb21wYXJhdG9yIHRyaW0nLCByYW5nZSwgcmVbdC5DT01QQVJBVE9SVFJJTV0pXG5cbiAgICAvLyBgfiAxLjIuM2AgPT4gYH4xLjIuM2BcbiAgICByYW5nZSA9IHJhbmdlLnJlcGxhY2UocmVbdC5USUxERVRSSU1dLCB0aWxkZVRyaW1SZXBsYWNlKVxuXG4gICAgLy8gYF4gMS4yLjNgID0+IGBeMS4yLjNgXG4gICAgcmFuZ2UgPSByYW5nZS5yZXBsYWNlKHJlW3QuQ0FSRVRUUklNXSwgY2FyZXRUcmltUmVwbGFjZSlcblxuICAgIC8vIG5vcm1hbGl6ZSBzcGFjZXNcbiAgICByYW5nZSA9IHJhbmdlLnNwbGl0KC9cXHMrLykuam9pbignICcpXG5cbiAgICAvLyBBdCB0aGlzIHBvaW50LCB0aGUgcmFuZ2UgaXMgY29tcGxldGVseSB0cmltbWVkIGFuZFxuICAgIC8vIHJlYWR5IHRvIGJlIHNwbGl0IGludG8gY29tcGFyYXRvcnMuXG5cbiAgICBjb25zdCBjb21wUmUgPSBsb29zZSA/IHJlW3QuQ09NUEFSQVRPUkxPT1NFXSA6IHJlW3QuQ09NUEFSQVRPUl1cbiAgICBjb25zdCByYW5nZUxpc3QgPSByYW5nZVxuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoY29tcCA9PiBwYXJzZUNvbXBhcmF0b3IoY29tcCwgdGhpcy5vcHRpb25zKSlcbiAgICAgIC5qb2luKCcgJylcbiAgICAgIC5zcGxpdCgvXFxzKy8pXG4gICAgICAvLyA+PTAuMC4wIGlzIGVxdWl2YWxlbnQgdG8gKlxuICAgICAgLm1hcChjb21wID0+IHJlcGxhY2VHVEUwKGNvbXAsIHRoaXMub3B0aW9ucykpXG4gICAgICAvLyBpbiBsb29zZSBtb2RlLCB0aHJvdyBvdXQgYW55IHRoYXQgYXJlIG5vdCB2YWxpZCBjb21wYXJhdG9yc1xuICAgICAgLmZpbHRlcih0aGlzLm9wdGlvbnMubG9vc2UgPyBjb21wID0+ICEhY29tcC5tYXRjaChjb21wUmUpIDogKCkgPT4gdHJ1ZSlcbiAgICAgIC5tYXAoY29tcCA9PiBuZXcgQ29tcGFyYXRvcihjb21wLCB0aGlzLm9wdGlvbnMpKVxuXG4gICAgLy8gaWYgYW55IGNvbXBhcmF0b3JzIGFyZSB0aGUgbnVsbCBzZXQsIHRoZW4gcmVwbGFjZSB3aXRoIEpVU1QgbnVsbCBzZXRcbiAgICAvLyBpZiBtb3JlIHRoYW4gb25lIGNvbXBhcmF0b3IsIHJlbW92ZSBhbnkgKiBjb21wYXJhdG9yc1xuICAgIC8vIGFsc28sIGRvbid0IGluY2x1ZGUgdGhlIHNhbWUgY29tcGFyYXRvciBtb3JlIHRoYW4gb25jZVxuICAgIGNvbnN0IGwgPSByYW5nZUxpc3QubGVuZ3RoXG4gICAgY29uc3QgcmFuZ2VNYXAgPSBuZXcgTWFwKClcbiAgICBmb3IgKGNvbnN0IGNvbXAgb2YgcmFuZ2VMaXN0KSB7XG4gICAgICBpZiAoaXNOdWxsU2V0KGNvbXApKVxuICAgICAgICByZXR1cm4gW2NvbXBdXG4gICAgICByYW5nZU1hcC5zZXQoY29tcC52YWx1ZSwgY29tcClcbiAgICB9XG4gICAgaWYgKHJhbmdlTWFwLnNpemUgPiAxICYmIHJhbmdlTWFwLmhhcygnJykpXG4gICAgICByYW5nZU1hcC5kZWxldGUoJycpXG5cbiAgICBjb25zdCByZXN1bHQgPSBbLi4ucmFuZ2VNYXAudmFsdWVzKCldXG4gICAgY2FjaGUuc2V0KG1lbW9LZXksIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBpbnRlcnNlY3RzIChyYW5nZSwgb3B0aW9ucykge1xuICAgIGlmICghKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhIFJhbmdlIGlzIHJlcXVpcmVkJylcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zZXQuc29tZSgodGhpc0NvbXBhcmF0b3JzKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBpc1NhdGlzZmlhYmxlKHRoaXNDb21wYXJhdG9ycywgb3B0aW9ucykgJiZcbiAgICAgICAgcmFuZ2Uuc2V0LnNvbWUoKHJhbmdlQ29tcGFyYXRvcnMpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaXNTYXRpc2ZpYWJsZShyYW5nZUNvbXBhcmF0b3JzLCBvcHRpb25zKSAmJlxuICAgICAgICAgICAgdGhpc0NvbXBhcmF0b3JzLmV2ZXJ5KCh0aGlzQ29tcGFyYXRvcikgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gcmFuZ2VDb21wYXJhdG9ycy5ldmVyeSgocmFuZ2VDb21wYXJhdG9yKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNDb21wYXJhdG9yLmludGVyc2VjdHMocmFuZ2VDb21wYXJhdG9yLCBvcHRpb25zKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfSlcbiAgfVxuXG4gIC8vIGlmIEFOWSBvZiB0aGUgc2V0cyBtYXRjaCBBTEwgb2YgaXRzIGNvbXBhcmF0b3JzLCB0aGVuIHBhc3NcbiAgdGVzdCAodmVyc2lvbikge1xuICAgIGlmICghdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmVyc2lvbiA9IG5ldyBTZW1WZXIodmVyc2lvbiwgdGhpcy5vcHRpb25zKVxuICAgICAgfSBjYXRjaCAoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNldC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRlc3RTZXQodGhpcy5zZXRbaV0sIHZlcnNpb24sIHRoaXMub3B0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gUmFuZ2VcblxuY29uc3QgTFJVID0gcmVxdWlyZSgnbHJ1LWNhY2hlJylcbmNvbnN0IGNhY2hlID0gbmV3IExSVSh7IG1heDogMTAwMCB9KVxuXG5jb25zdCBwYXJzZU9wdGlvbnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9wYXJzZS1vcHRpb25zJylcbmNvbnN0IENvbXBhcmF0b3IgPSByZXF1aXJlKCcuL2NvbXBhcmF0b3InKVxuY29uc3QgZGVidWcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9kZWJ1ZycpXG5jb25zdCBTZW1WZXIgPSByZXF1aXJlKCcuL3NlbXZlcicpXG5jb25zdCB7XG4gIHJlLFxuICB0LFxuICBjb21wYXJhdG9yVHJpbVJlcGxhY2UsXG4gIHRpbGRlVHJpbVJlcGxhY2UsXG4gIGNhcmV0VHJpbVJlcGxhY2Vcbn0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9yZScpXG5cbmNvbnN0IGlzTnVsbFNldCA9IGMgPT4gYy52YWx1ZSA9PT0gJzwwLjAuMC0wJ1xuY29uc3QgaXNBbnkgPSBjID0+IGMudmFsdWUgPT09ICcnXG5cbi8vIHRha2UgYSBzZXQgb2YgY29tcGFyYXRvcnMgYW5kIGRldGVybWluZSB3aGV0aGVyIHRoZXJlXG4vLyBleGlzdHMgYSB2ZXJzaW9uIHdoaWNoIGNhbiBzYXRpc2Z5IGl0XG5jb25zdCBpc1NhdGlzZmlhYmxlID0gKGNvbXBhcmF0b3JzLCBvcHRpb25zKSA9PiB7XG4gIGxldCByZXN1bHQgPSB0cnVlXG4gIGNvbnN0IHJlbWFpbmluZ0NvbXBhcmF0b3JzID0gY29tcGFyYXRvcnMuc2xpY2UoKVxuICBsZXQgdGVzdENvbXBhcmF0b3IgPSByZW1haW5pbmdDb21wYXJhdG9ycy5wb3AoKVxuXG4gIHdoaWxlIChyZXN1bHQgJiYgcmVtYWluaW5nQ29tcGFyYXRvcnMubGVuZ3RoKSB7XG4gICAgcmVzdWx0ID0gcmVtYWluaW5nQ29tcGFyYXRvcnMuZXZlcnkoKG90aGVyQ29tcGFyYXRvcikgPT4ge1xuICAgICAgcmV0dXJuIHRlc3RDb21wYXJhdG9yLmludGVyc2VjdHMob3RoZXJDb21wYXJhdG9yLCBvcHRpb25zKVxuICAgIH0pXG5cbiAgICB0ZXN0Q29tcGFyYXRvciA9IHJlbWFpbmluZ0NvbXBhcmF0b3JzLnBvcCgpXG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vIGNvbXByaXNlZCBvZiB4cmFuZ2VzLCB0aWxkZXMsIHN0YXJzLCBhbmQgZ3RsdCdzIGF0IHRoaXMgcG9pbnQuXG4vLyBhbHJlYWR5IHJlcGxhY2VkIHRoZSBoeXBoZW4gcmFuZ2VzXG4vLyB0dXJuIGludG8gYSBzZXQgb2YgSlVTVCBjb21wYXJhdG9ycy5cbmNvbnN0IHBhcnNlQ29tcGFyYXRvciA9IChjb21wLCBvcHRpb25zKSA9PiB7XG4gIGRlYnVnKCdjb21wJywgY29tcCwgb3B0aW9ucylcbiAgY29tcCA9IHJlcGxhY2VDYXJldHMoY29tcCwgb3B0aW9ucylcbiAgZGVidWcoJ2NhcmV0JywgY29tcClcbiAgY29tcCA9IHJlcGxhY2VUaWxkZXMoY29tcCwgb3B0aW9ucylcbiAgZGVidWcoJ3RpbGRlcycsIGNvbXApXG4gIGNvbXAgPSByZXBsYWNlWFJhbmdlcyhjb21wLCBvcHRpb25zKVxuICBkZWJ1ZygneHJhbmdlJywgY29tcClcbiAgY29tcCA9IHJlcGxhY2VTdGFycyhjb21wLCBvcHRpb25zKVxuICBkZWJ1Zygnc3RhcnMnLCBjb21wKVxuICByZXR1cm4gY29tcFxufVxuXG5jb25zdCBpc1ggPSBpZCA9PiAhaWQgfHwgaWQudG9Mb3dlckNhc2UoKSA9PT0gJ3gnIHx8IGlkID09PSAnKidcblxuLy8gfiwgfj4gLS0+ICogKGFueSwga2luZGEgc2lsbHkpXG4vLyB+MiwgfjIueCwgfjIueC54LCB+PjIsIH4+Mi54IH4+Mi54LnggLS0+ID49Mi4wLjAgPDMuMC4wLTBcbi8vIH4yLjAsIH4yLjAueCwgfj4yLjAsIH4+Mi4wLnggLS0+ID49Mi4wLjAgPDIuMS4wLTBcbi8vIH4xLjIsIH4xLjIueCwgfj4xLjIsIH4+MS4yLnggLS0+ID49MS4yLjAgPDEuMy4wLTBcbi8vIH4xLjIuMywgfj4xLjIuMyAtLT4gPj0xLjIuMyA8MS4zLjAtMFxuLy8gfjEuMi4wLCB+PjEuMi4wIC0tPiA+PTEuMi4wIDwxLjMuMC0wXG5jb25zdCByZXBsYWNlVGlsZGVzID0gKGNvbXAsIG9wdGlvbnMpID0+XG4gIGNvbXAudHJpbSgpLnNwbGl0KC9cXHMrLykubWFwKChjb21wKSA9PiB7XG4gICAgcmV0dXJuIHJlcGxhY2VUaWxkZShjb21wLCBvcHRpb25zKVxuICB9KS5qb2luKCcgJylcblxuY29uc3QgcmVwbGFjZVRpbGRlID0gKGNvbXAsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgciA9IG9wdGlvbnMubG9vc2UgPyByZVt0LlRJTERFTE9PU0VdIDogcmVbdC5USUxERV1cbiAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCAoXywgTSwgbSwgcCwgcHIpID0+IHtcbiAgICBkZWJ1ZygndGlsZGUnLCBjb21wLCBfLCBNLCBtLCBwLCBwcilcbiAgICBsZXQgcmV0XG5cbiAgICBpZiAoaXNYKE0pKSB7XG4gICAgICByZXQgPSAnJ1xuICAgIH0gZWxzZSBpZiAoaXNYKG0pKSB7XG4gICAgICByZXQgPSBgPj0ke019LjAuMCA8JHsrTSArIDF9LjAuMC0wYFxuICAgIH0gZWxzZSBpZiAoaXNYKHApKSB7XG4gICAgICAvLyB+MS4yID09ID49MS4yLjAgPDEuMy4wLTBcbiAgICAgIHJldCA9IGA+PSR7TX0uJHttfS4wIDwke019LiR7K20gKyAxfS4wLTBgXG4gICAgfSBlbHNlIGlmIChwcikge1xuICAgICAgZGVidWcoJ3JlcGxhY2VUaWxkZSBwcicsIHByKVxuICAgICAgcmV0ID0gYD49JHtNfS4ke219LiR7cH0tJHtwclxuICAgICAgfSA8JHtNfS4keyttICsgMX0uMC0wYFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB+MS4yLjMgPT0gPj0xLjIuMyA8MS4zLjAtMFxuICAgICAgcmV0ID0gYD49JHtNfS4ke219LiR7cFxuICAgICAgfSA8JHtNfS4keyttICsgMX0uMC0wYFxuICAgIH1cblxuICAgIGRlYnVnKCd0aWxkZSByZXR1cm4nLCByZXQpXG4gICAgcmV0dXJuIHJldFxuICB9KVxufVxuXG4vLyBeIC0tPiAqIChhbnksIGtpbmRhIHNpbGx5KVxuLy8gXjIsIF4yLngsIF4yLngueCAtLT4gPj0yLjAuMCA8My4wLjAtMFxuLy8gXjIuMCwgXjIuMC54IC0tPiA+PTIuMC4wIDwzLjAuMC0wXG4vLyBeMS4yLCBeMS4yLnggLS0+ID49MS4yLjAgPDIuMC4wLTBcbi8vIF4xLjIuMyAtLT4gPj0xLjIuMyA8Mi4wLjAtMFxuLy8gXjEuMi4wIC0tPiA+PTEuMi4wIDwyLjAuMC0wXG5jb25zdCByZXBsYWNlQ2FyZXRzID0gKGNvbXAsIG9wdGlvbnMpID0+XG4gIGNvbXAudHJpbSgpLnNwbGl0KC9cXHMrLykubWFwKChjb21wKSA9PiB7XG4gICAgcmV0dXJuIHJlcGxhY2VDYXJldChjb21wLCBvcHRpb25zKVxuICB9KS5qb2luKCcgJylcblxuY29uc3QgcmVwbGFjZUNhcmV0ID0gKGNvbXAsIG9wdGlvbnMpID0+IHtcbiAgZGVidWcoJ2NhcmV0JywgY29tcCwgb3B0aW9ucylcbiAgY29uc3QgciA9IG9wdGlvbnMubG9vc2UgPyByZVt0LkNBUkVUTE9PU0VdIDogcmVbdC5DQVJFVF1cbiAgY29uc3QgeiA9IG9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2UgPyAnLTAnIDogJydcbiAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCAoXywgTSwgbSwgcCwgcHIpID0+IHtcbiAgICBkZWJ1ZygnY2FyZXQnLCBjb21wLCBfLCBNLCBtLCBwLCBwcilcbiAgICBsZXQgcmV0XG5cbiAgICBpZiAoaXNYKE0pKSB7XG4gICAgICByZXQgPSAnJ1xuICAgIH0gZWxzZSBpZiAoaXNYKG0pKSB7XG4gICAgICByZXQgPSBgPj0ke019LjAuMCR7en0gPCR7K00gKyAxfS4wLjAtMGBcbiAgICB9IGVsc2UgaWYgKGlzWChwKSkge1xuICAgICAgaWYgKE0gPT09ICcwJykge1xuICAgICAgICByZXQgPSBgPj0ke019LiR7bX0uMCR7en0gPCR7TX0uJHsrbSArIDF9LjAtMGBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldCA9IGA+PSR7TX0uJHttfS4wJHt6fSA8JHsrTSArIDF9LjAuMC0wYFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHIpIHtcbiAgICAgIGRlYnVnKCdyZXBsYWNlQ2FyZXQgcHInLCBwcilcbiAgICAgIGlmIChNID09PSAnMCcpIHtcbiAgICAgICAgaWYgKG0gPT09ICcwJykge1xuICAgICAgICAgIHJldCA9IGA+PSR7TX0uJHttfS4ke3B9LSR7cHJcbiAgICAgICAgICB9IDwke019LiR7bX0uJHsrcCArIDF9LTBgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0ID0gYD49JHtNfS4ke219LiR7cH0tJHtwclxuICAgICAgICAgIH0gPCR7TX0uJHsrbSArIDF9LjAtMGBcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gYD49JHtNfS4ke219LiR7cH0tJHtwclxuICAgICAgICB9IDwkeytNICsgMX0uMC4wLTBgXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnKCdubyBwcicpXG4gICAgICBpZiAoTSA9PT0gJzAnKSB7XG4gICAgICAgIGlmIChtID09PSAnMCcpIHtcbiAgICAgICAgICByZXQgPSBgPj0ke019LiR7bX0uJHtwXG4gICAgICAgICAgfSR7en0gPCR7TX0uJHttfS4keytwICsgMX0tMGBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQgPSBgPj0ke019LiR7bX0uJHtwXG4gICAgICAgICAgfSR7en0gPCR7TX0uJHsrbSArIDF9LjAtMGBcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gYD49JHtNfS4ke219LiR7cFxuICAgICAgICB9IDwkeytNICsgMX0uMC4wLTBgXG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVidWcoJ2NhcmV0IHJldHVybicsIHJldClcbiAgICByZXR1cm4gcmV0XG4gIH0pXG59XG5cbmNvbnN0IHJlcGxhY2VYUmFuZ2VzID0gKGNvbXAsIG9wdGlvbnMpID0+IHtcbiAgZGVidWcoJ3JlcGxhY2VYUmFuZ2VzJywgY29tcCwgb3B0aW9ucylcbiAgcmV0dXJuIGNvbXAuc3BsaXQoL1xccysvKS5tYXAoKGNvbXApID0+IHtcbiAgICByZXR1cm4gcmVwbGFjZVhSYW5nZShjb21wLCBvcHRpb25zKVxuICB9KS5qb2luKCcgJylcbn1cblxuY29uc3QgcmVwbGFjZVhSYW5nZSA9IChjb21wLCBvcHRpb25zKSA9PiB7XG4gIGNvbXAgPSBjb21wLnRyaW0oKVxuICBjb25zdCByID0gb3B0aW9ucy5sb29zZSA/IHJlW3QuWFJBTkdFTE9PU0VdIDogcmVbdC5YUkFOR0VdXG4gIHJldHVybiBjb21wLnJlcGxhY2UociwgKHJldCwgZ3RsdCwgTSwgbSwgcCwgcHIpID0+IHtcbiAgICBkZWJ1ZygneFJhbmdlJywgY29tcCwgcmV0LCBndGx0LCBNLCBtLCBwLCBwcilcbiAgICBjb25zdCB4TSA9IGlzWChNKVxuICAgIGNvbnN0IHhtID0geE0gfHwgaXNYKG0pXG4gICAgY29uc3QgeHAgPSB4bSB8fCBpc1gocClcbiAgICBjb25zdCBhbnlYID0geHBcblxuICAgIGlmIChndGx0ID09PSAnPScgJiYgYW55WCkge1xuICAgICAgZ3RsdCA9ICcnXG4gICAgfVxuXG4gICAgLy8gaWYgd2UncmUgaW5jbHVkaW5nIHByZXJlbGVhc2VzIGluIHRoZSBtYXRjaCwgdGhlbiB3ZSBuZWVkXG4gICAgLy8gdG8gZml4IHRoaXMgdG8gLTAsIHRoZSBsb3dlc3QgcG9zc2libGUgcHJlcmVsZWFzZSB2YWx1ZVxuICAgIHByID0gb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSA/ICctMCcgOiAnJ1xuXG4gICAgaWYgKHhNKSB7XG4gICAgICBpZiAoZ3RsdCA9PT0gJz4nIHx8IGd0bHQgPT09ICc8Jykge1xuICAgICAgICAvLyBub3RoaW5nIGlzIGFsbG93ZWRcbiAgICAgICAgcmV0ID0gJzwwLjAuMC0wJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm90aGluZyBpcyBmb3JiaWRkZW5cbiAgICAgICAgcmV0ID0gJyonXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChndGx0ICYmIGFueVgpIHtcbiAgICAgIC8vIHdlIGtub3cgcGF0Y2ggaXMgYW4geCwgYmVjYXVzZSB3ZSBoYXZlIGFueSB4IGF0IGFsbC5cbiAgICAgIC8vIHJlcGxhY2UgWCB3aXRoIDBcbiAgICAgIGlmICh4bSkge1xuICAgICAgICBtID0gMFxuICAgICAgfVxuICAgICAgcCA9IDBcblxuICAgICAgaWYgKGd0bHQgPT09ICc+Jykge1xuICAgICAgICAvLyA+MSA9PiA+PTIuMC4wXG4gICAgICAgIC8vID4xLjIgPT4gPj0xLjMuMFxuICAgICAgICBndGx0ID0gJz49J1xuICAgICAgICBpZiAoeG0pIHtcbiAgICAgICAgICBNID0gK00gKyAxXG4gICAgICAgICAgbSA9IDBcbiAgICAgICAgICBwID0gMFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG0gPSArbSArIDFcbiAgICAgICAgICBwID0gMFxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGd0bHQgPT09ICc8PScpIHtcbiAgICAgICAgLy8gPD0wLjcueCBpcyBhY3R1YWxseSA8MC44LjAsIHNpbmNlIGFueSAwLjcueCBzaG91bGRcbiAgICAgICAgLy8gcGFzcy4gIFNpbWlsYXJseSwgPD03LnggaXMgYWN0dWFsbHkgPDguMC4wLCBldGMuXG4gICAgICAgIGd0bHQgPSAnPCdcbiAgICAgICAgaWYgKHhtKSB7XG4gICAgICAgICAgTSA9ICtNICsgMVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG0gPSArbSArIDFcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZ3RsdCA9PT0gJzwnKVxuICAgICAgICBwciA9ICctMCdcblxuICAgICAgcmV0ID0gYCR7Z3RsdCArIE19LiR7bX0uJHtwfSR7cHJ9YFxuICAgIH0gZWxzZSBpZiAoeG0pIHtcbiAgICAgIHJldCA9IGA+PSR7TX0uMC4wJHtwcn0gPCR7K00gKyAxfS4wLjAtMGBcbiAgICB9IGVsc2UgaWYgKHhwKSB7XG4gICAgICByZXQgPSBgPj0ke019LiR7bX0uMCR7cHJcbiAgICAgIH0gPCR7TX0uJHsrbSArIDF9LjAtMGBcbiAgICB9XG5cbiAgICBkZWJ1ZygneFJhbmdlIHJldHVybicsIHJldClcblxuICAgIHJldHVybiByZXRcbiAgfSlcbn1cblxuLy8gQmVjYXVzZSAqIGlzIEFORC1lZCB3aXRoIGV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgY29tcGFyYXRvcixcbi8vIGFuZCAnJyBtZWFucyBcImFueSB2ZXJzaW9uXCIsIGp1c3QgcmVtb3ZlIHRoZSAqcyBlbnRpcmVseS5cbmNvbnN0IHJlcGxhY2VTdGFycyA9IChjb21wLCBvcHRpb25zKSA9PiB7XG4gIGRlYnVnKCdyZXBsYWNlU3RhcnMnLCBjb21wLCBvcHRpb25zKVxuICAvLyBMb29zZW5lc3MgaXMgaWdub3JlZCBoZXJlLiAgc3RhciBpcyBhbHdheXMgYXMgbG9vc2UgYXMgaXQgZ2V0cyFcbiAgcmV0dXJuIGNvbXAudHJpbSgpLnJlcGxhY2UocmVbdC5TVEFSXSwgJycpXG59XG5cbmNvbnN0IHJlcGxhY2VHVEUwID0gKGNvbXAsIG9wdGlvbnMpID0+IHtcbiAgZGVidWcoJ3JlcGxhY2VHVEUwJywgY29tcCwgb3B0aW9ucylcbiAgcmV0dXJuIGNvbXAudHJpbSgpXG4gICAgLnJlcGxhY2UocmVbb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSA/IHQuR1RFMFBSRSA6IHQuR1RFMF0sICcnKVxufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIHBhc3NlZCB0byBzdHJpbmcucmVwbGFjZShyZVt0LkhZUEhFTlJBTkdFXSlcbi8vIE0sIG0sIHBhdGNoLCBwcmVyZWxlYXNlLCBidWlsZFxuLy8gMS4yIC0gMy40LjUgPT4gPj0xLjIuMCA8PTMuNC41XG4vLyAxLjIuMyAtIDMuNCA9PiA+PTEuMi4wIDwzLjUuMC0wIEFueSAzLjQueCB3aWxsIGRvXG4vLyAxLjIgLSAzLjQgPT4gPj0xLjIuMCA8My41LjAtMFxuY29uc3QgaHlwaGVuUmVwbGFjZSA9IGluY1ByID0+ICgkMCxcbiAgZnJvbSwgZk0sIGZtLCBmcCwgZnByLCBmYixcbiAgdG8sIHRNLCB0bSwgdHAsIHRwciwgdGIpID0+IHtcbiAgaWYgKGlzWChmTSkpIHtcbiAgICBmcm9tID0gJydcbiAgfSBlbHNlIGlmIChpc1goZm0pKSB7XG4gICAgZnJvbSA9IGA+PSR7Zk19LjAuMCR7aW5jUHIgPyAnLTAnIDogJyd9YFxuICB9IGVsc2UgaWYgKGlzWChmcCkpIHtcbiAgICBmcm9tID0gYD49JHtmTX0uJHtmbX0uMCR7aW5jUHIgPyAnLTAnIDogJyd9YFxuICB9IGVsc2UgaWYgKGZwcikge1xuICAgIGZyb20gPSBgPj0ke2Zyb219YFxuICB9IGVsc2Uge1xuICAgIGZyb20gPSBgPj0ke2Zyb219JHtpbmNQciA/ICctMCcgOiAnJ31gXG4gIH1cblxuICBpZiAoaXNYKHRNKSkge1xuICAgIHRvID0gJydcbiAgfSBlbHNlIGlmIChpc1godG0pKSB7XG4gICAgdG8gPSBgPCR7K3RNICsgMX0uMC4wLTBgXG4gIH0gZWxzZSBpZiAoaXNYKHRwKSkge1xuICAgIHRvID0gYDwke3RNfS4keyt0bSArIDF9LjAtMGBcbiAgfSBlbHNlIGlmICh0cHIpIHtcbiAgICB0byA9IGA8PSR7dE19LiR7dG19LiR7dHB9LSR7dHByfWBcbiAgfSBlbHNlIGlmIChpbmNQcikge1xuICAgIHRvID0gYDwke3RNfS4ke3RtfS4keyt0cCArIDF9LTBgXG4gIH0gZWxzZSB7XG4gICAgdG8gPSBgPD0ke3RvfWBcbiAgfVxuXG4gIHJldHVybiAoYCR7ZnJvbX0gJHt0b31gKS50cmltKClcbn1cblxuY29uc3QgdGVzdFNldCA9IChzZXQsIHZlcnNpb24sIG9wdGlvbnMpID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXNldFtpXS50ZXN0KHZlcnNpb24pKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBpZiAodmVyc2lvbi5wcmVyZWxlYXNlLmxlbmd0aCAmJiAhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSkge1xuICAgIC8vIEZpbmQgdGhlIHNldCBvZiB2ZXJzaW9ucyB0aGF0IGFyZSBhbGxvd2VkIHRvIGhhdmUgcHJlcmVsZWFzZXNcbiAgICAvLyBGb3IgZXhhbXBsZSwgXjEuMi4zLXByLjEgZGVzdWdhcnMgdG8gPj0xLjIuMy1wci4xIDwyLjAuMFxuICAgIC8vIFRoYXQgc2hvdWxkIGFsbG93IGAxLjIuMy1wci4yYCB0byBwYXNzLlxuICAgIC8vIEhvd2V2ZXIsIGAxLjIuNC1hbHBoYS5ub3RyZWFkeWAgc2hvdWxkIE5PVCBiZSBhbGxvd2VkLFxuICAgIC8vIGV2ZW4gdGhvdWdoIGl0J3Mgd2l0aGluIHRoZSByYW5nZSBzZXQgYnkgdGhlIGNvbXBhcmF0b3JzLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZWJ1ZyhzZXRbaV0uc2VtdmVyKVxuICAgICAgaWYgKHNldFtpXS5zZW12ZXIgPT09IENvbXBhcmF0b3IuQU5ZKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChzZXRbaV0uc2VtdmVyLnByZXJlbGVhc2UubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBhbGxvd2VkID0gc2V0W2ldLnNlbXZlclxuICAgICAgICBpZiAoYWxsb3dlZC5tYWpvciA9PT0gdmVyc2lvbi5tYWpvciAmJlxuICAgICAgICAgICAgYWxsb3dlZC5taW5vciA9PT0gdmVyc2lvbi5taW5vciAmJlxuICAgICAgICAgICAgYWxsb3dlZC5wYXRjaCA9PT0gdmVyc2lvbi5wYXRjaCkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWZXJzaW9uIGhhcyBhIC1wcmUsIGJ1dCBpdCdzIG5vdCBvbmUgb2YgdGhlIG9uZXMgd2UgbGlrZS5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG4iLCJjb25zdCBBTlkgPSBTeW1ib2woJ1NlbVZlciBBTlknKVxuLy8gaG9pc3RlZCBjbGFzcyBmb3IgY3ljbGljIGRlcGVuZGVuY3lcbmNsYXNzIENvbXBhcmF0b3Ige1xuICBzdGF0aWMgZ2V0IEFOWSAoKSB7XG4gICAgcmV0dXJuIEFOWVxuICB9XG4gIGNvbnN0cnVjdG9yIChjb21wLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHBhcnNlT3B0aW9ucyhvcHRpb25zKVxuXG4gICAgaWYgKGNvbXAgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSB7XG4gICAgICBpZiAoY29tcC5sb29zZSA9PT0gISFvcHRpb25zLmxvb3NlKSB7XG4gICAgICAgIHJldHVybiBjb21wXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wID0gY29tcC52YWx1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGRlYnVnKCdjb21wYXJhdG9yJywgY29tcCwgb3B0aW9ucylcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5sb29zZSA9ICEhb3B0aW9ucy5sb29zZVxuICAgIHRoaXMucGFyc2UoY29tcClcblxuICAgIGlmICh0aGlzLnNlbXZlciA9PT0gQU5ZKSB7XG4gICAgICB0aGlzLnZhbHVlID0gJydcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMub3BlcmF0b3IgKyB0aGlzLnNlbXZlci52ZXJzaW9uXG4gICAgfVxuXG4gICAgZGVidWcoJ2NvbXAnLCB0aGlzKVxuICB9XG5cbiAgcGFyc2UgKGNvbXApIHtcbiAgICBjb25zdCByID0gdGhpcy5vcHRpb25zLmxvb3NlID8gcmVbdC5DT01QQVJBVE9STE9PU0VdIDogcmVbdC5DT01QQVJBVE9SXVxuICAgIGNvbnN0IG0gPSBjb21wLm1hdGNoKHIpXG5cbiAgICBpZiAoIW0pIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgY29tcGFyYXRvcjogJHtjb21wfWApXG4gICAgfVxuXG4gICAgdGhpcy5vcGVyYXRvciA9IG1bMV0gIT09IHVuZGVmaW5lZCA/IG1bMV0gOiAnJ1xuICAgIGlmICh0aGlzLm9wZXJhdG9yID09PSAnPScpIHtcbiAgICAgIHRoaXMub3BlcmF0b3IgPSAnJ1xuICAgIH1cblxuICAgIC8vIGlmIGl0IGxpdGVyYWxseSBpcyBqdXN0ICc+JyBvciAnJyB0aGVuIGFsbG93IGFueXRoaW5nLlxuICAgIGlmICghbVsyXSkge1xuICAgICAgdGhpcy5zZW12ZXIgPSBBTllcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZW12ZXIgPSBuZXcgU2VtVmVyKG1bMl0sIHRoaXMub3B0aW9ucy5sb29zZSlcbiAgICB9XG4gIH1cblxuICB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVcbiAgfVxuXG4gIHRlc3QgKHZlcnNpb24pIHtcbiAgICBkZWJ1ZygnQ29tcGFyYXRvci50ZXN0JywgdmVyc2lvbiwgdGhpcy5vcHRpb25zLmxvb3NlKVxuXG4gICAgaWYgKHRoaXMuc2VtdmVyID09PSBBTlkgfHwgdmVyc2lvbiA9PT0gQU5ZKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIHRoaXMub3B0aW9ucylcbiAgICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjbXAodmVyc2lvbiwgdGhpcy5vcGVyYXRvciwgdGhpcy5zZW12ZXIsIHRoaXMub3B0aW9ucylcbiAgfVxuXG4gIGludGVyc2VjdHMgKGNvbXAsIG9wdGlvbnMpIHtcbiAgICBpZiAoIShjb21wIGluc3RhbmNlb2YgQ29tcGFyYXRvcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2EgQ29tcGFyYXRvciBpcyByZXF1aXJlZCcpXG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgbG9vc2U6ICEhb3B0aW9ucyxcbiAgICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3BlcmF0b3IgPT09ICcnKSB7XG4gICAgICBpZiAodGhpcy52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmFuZ2UoY29tcC52YWx1ZSwgb3B0aW9ucykudGVzdCh0aGlzLnZhbHVlKVxuICAgIH0gZWxzZSBpZiAoY29tcC5vcGVyYXRvciA9PT0gJycpIHtcbiAgICAgIGlmIChjb21wLnZhbHVlID09PSAnJykge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnZhbHVlLCBvcHRpb25zKS50ZXN0KGNvbXAuc2VtdmVyKVxuICAgIH1cblxuICAgIGNvbnN0IHNhbWVEaXJlY3Rpb25JbmNyZWFzaW5nID1cbiAgICAgICh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc+JykgJiZcbiAgICAgIChjb21wLm9wZXJhdG9yID09PSAnPj0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc+JylcbiAgICBjb25zdCBzYW1lRGlyZWN0aW9uRGVjcmVhc2luZyA9XG4gICAgICAodGhpcy5vcGVyYXRvciA9PT0gJzw9JyB8fCB0aGlzLm9wZXJhdG9yID09PSAnPCcpICYmXG4gICAgICAoY29tcC5vcGVyYXRvciA9PT0gJzw9JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPCcpXG4gICAgY29uc3Qgc2FtZVNlbVZlciA9IHRoaXMuc2VtdmVyLnZlcnNpb24gPT09IGNvbXAuc2VtdmVyLnZlcnNpb25cbiAgICBjb25zdCBkaWZmZXJlbnREaXJlY3Rpb25zSW5jbHVzaXZlID1cbiAgICAgICh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc8PScpICYmXG4gICAgICAoY29tcC5vcGVyYXRvciA9PT0gJz49JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPD0nKVxuICAgIGNvbnN0IG9wcG9zaXRlRGlyZWN0aW9uc0xlc3NUaGFuID1cbiAgICAgIGNtcCh0aGlzLnNlbXZlciwgJzwnLCBjb21wLnNlbXZlciwgb3B0aW9ucykgJiZcbiAgICAgICh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc+JykgJiZcbiAgICAgICAgKGNvbXAub3BlcmF0b3IgPT09ICc8PScgfHwgY29tcC5vcGVyYXRvciA9PT0gJzwnKVxuICAgIGNvbnN0IG9wcG9zaXRlRGlyZWN0aW9uc0dyZWF0ZXJUaGFuID1cbiAgICAgIGNtcCh0aGlzLnNlbXZlciwgJz4nLCBjb21wLnNlbXZlciwgb3B0aW9ucykgJiZcbiAgICAgICh0aGlzLm9wZXJhdG9yID09PSAnPD0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc8JykgJiZcbiAgICAgICAgKGNvbXAub3BlcmF0b3IgPT09ICc+PScgfHwgY29tcC5vcGVyYXRvciA9PT0gJz4nKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIHNhbWVEaXJlY3Rpb25JbmNyZWFzaW5nIHx8XG4gICAgICBzYW1lRGlyZWN0aW9uRGVjcmVhc2luZyB8fFxuICAgICAgKHNhbWVTZW1WZXIgJiYgZGlmZmVyZW50RGlyZWN0aW9uc0luY2x1c2l2ZSkgfHxcbiAgICAgIG9wcG9zaXRlRGlyZWN0aW9uc0xlc3NUaGFuIHx8XG4gICAgICBvcHBvc2l0ZURpcmVjdGlvbnNHcmVhdGVyVGhhblxuICAgIClcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBhcmF0b3JcblxuY29uc3QgcGFyc2VPcHRpb25zID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcGFyc2Utb3B0aW9ucycpXG5jb25zdCB7cmUsIHR9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcmUnKVxuY29uc3QgY21wID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL2NtcCcpXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJy4uL2ludGVybmFsL2RlYnVnJylcbmNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4vc2VtdmVyJylcbmNvbnN0IFJhbmdlID0gcmVxdWlyZSgnLi9yYW5nZScpXG4iLCJjb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvcmFuZ2UnKVxuY29uc3Qgc2F0aXNmaWVzID0gKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSA9PiB7XG4gIHRyeSB7XG4gICAgcmFuZ2UgPSBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgcmV0dXJuIHJhbmdlLnRlc3QodmVyc2lvbilcbn1cbm1vZHVsZS5leHBvcnRzID0gc2F0aXNmaWVzXG4iLCJjb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvcmFuZ2UnKVxuXG4vLyBNb3N0bHkganVzdCBmb3IgdGVzdGluZyBhbmQgbGVnYWN5IEFQSSByZWFzb25zXG5jb25zdCB0b0NvbXBhcmF0b3JzID0gKHJhbmdlLCBvcHRpb25zKSA9PlxuICBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpLnNldFxuICAgIC5tYXAoY29tcCA9PiBjb21wLm1hcChjID0+IGMudmFsdWUpLmpvaW4oJyAnKS50cmltKCkuc3BsaXQoJyAnKSlcblxubW9kdWxlLmV4cG9ydHMgPSB0b0NvbXBhcmF0b3JzXG4iLCJjb25zdCBTZW1WZXIgPSByZXF1aXJlKCcuLi9jbGFzc2VzL3NlbXZlcicpXG5jb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvcmFuZ2UnKVxuXG5jb25zdCBtYXhTYXRpc2Z5aW5nID0gKHZlcnNpb25zLCByYW5nZSwgb3B0aW9ucykgPT4ge1xuICBsZXQgbWF4ID0gbnVsbFxuICBsZXQgbWF4U1YgPSBudWxsXG4gIGxldCByYW5nZU9iaiA9IG51bGxcbiAgdHJ5IHtcbiAgICByYW5nZU9iaiA9IG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucylcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIHZlcnNpb25zLmZvckVhY2goKHYpID0+IHtcbiAgICBpZiAocmFuZ2VPYmoudGVzdCh2KSkge1xuICAgICAgLy8gc2F0aXNmaWVzKHYsIHJhbmdlLCBvcHRpb25zKVxuICAgICAgaWYgKCFtYXggfHwgbWF4U1YuY29tcGFyZSh2KSA9PT0gLTEpIHtcbiAgICAgICAgLy8gY29tcGFyZShtYXgsIHYsIHRydWUpXG4gICAgICAgIG1heCA9IHZcbiAgICAgICAgbWF4U1YgPSBuZXcgU2VtVmVyKG1heCwgb3B0aW9ucylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIHJldHVybiBtYXhcbn1cbm1vZHVsZS5leHBvcnRzID0gbWF4U2F0aXNmeWluZ1xuIiwiY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9zZW12ZXInKVxuY29uc3QgUmFuZ2UgPSByZXF1aXJlKCcuLi9jbGFzc2VzL3JhbmdlJylcbmNvbnN0IG1pblNhdGlzZnlpbmcgPSAodmVyc2lvbnMsIHJhbmdlLCBvcHRpb25zKSA9PiB7XG4gIGxldCBtaW4gPSBudWxsXG4gIGxldCBtaW5TViA9IG51bGxcbiAgbGV0IHJhbmdlT2JqID0gbnVsbFxuICB0cnkge1xuICAgIHJhbmdlT2JqID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKVxuICB9IGNhdGNoIChlcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgdmVyc2lvbnMuZm9yRWFjaCgodikgPT4ge1xuICAgIGlmIChyYW5nZU9iai50ZXN0KHYpKSB7XG4gICAgICAvLyBzYXRpc2ZpZXModiwgcmFuZ2UsIG9wdGlvbnMpXG4gICAgICBpZiAoIW1pbiB8fCBtaW5TVi5jb21wYXJlKHYpID09PSAxKSB7XG4gICAgICAgIC8vIGNvbXBhcmUobWluLCB2LCB0cnVlKVxuICAgICAgICBtaW4gPSB2XG4gICAgICAgIG1pblNWID0gbmV3IFNlbVZlcihtaW4sIG9wdGlvbnMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gbWluXG59XG5tb2R1bGUuZXhwb3J0cyA9IG1pblNhdGlzZnlpbmdcbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcbmNvbnN0IFJhbmdlID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9yYW5nZScpXG5jb25zdCBndCA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9ndCcpXG5cbmNvbnN0IG1pblZlcnNpb24gPSAocmFuZ2UsIGxvb3NlKSA9PiB7XG4gIHJhbmdlID0gbmV3IFJhbmdlKHJhbmdlLCBsb29zZSlcblxuICBsZXQgbWludmVyID0gbmV3IFNlbVZlcignMC4wLjAnKVxuICBpZiAocmFuZ2UudGVzdChtaW52ZXIpKSB7XG4gICAgcmV0dXJuIG1pbnZlclxuICB9XG5cbiAgbWludmVyID0gbmV3IFNlbVZlcignMC4wLjAtMCcpXG4gIGlmIChyYW5nZS50ZXN0KG1pbnZlcikpIHtcbiAgICByZXR1cm4gbWludmVyXG4gIH1cblxuICBtaW52ZXIgPSBudWxsXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2Uuc2V0Lmxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgY29tcGFyYXRvcnMgPSByYW5nZS5zZXRbaV1cblxuICAgIGxldCBzZXRNaW4gPSBudWxsXG4gICAgY29tcGFyYXRvcnMuZm9yRWFjaCgoY29tcGFyYXRvcikgPT4ge1xuICAgICAgLy8gQ2xvbmUgdG8gYXZvaWQgbWFuaXB1bGF0aW5nIHRoZSBjb21wYXJhdG9yJ3Mgc2VtdmVyIG9iamVjdC5cbiAgICAgIGNvbnN0IGNvbXB2ZXIgPSBuZXcgU2VtVmVyKGNvbXBhcmF0b3Iuc2VtdmVyLnZlcnNpb24pXG4gICAgICBzd2l0Y2ggKGNvbXBhcmF0b3Iub3BlcmF0b3IpIHtcbiAgICAgICAgY2FzZSAnPic6XG4gICAgICAgICAgaWYgKGNvbXB2ZXIucHJlcmVsZWFzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbXB2ZXIucGF0Y2grK1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21wdmVyLnByZXJlbGVhc2UucHVzaCgwKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb21wdmVyLnJhdyA9IGNvbXB2ZXIuZm9ybWF0KClcbiAgICAgICAgICAvKiBmYWxsdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICcnOlxuICAgICAgICBjYXNlICc+PSc6XG4gICAgICAgICAgaWYgKCFzZXRNaW4gfHwgZ3QoY29tcHZlciwgc2V0TWluKSkge1xuICAgICAgICAgICAgc2V0TWluID0gY29tcHZlclxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICc8JzpcbiAgICAgICAgY2FzZSAnPD0nOlxuICAgICAgICAgIC8qIElnbm9yZSBtYXhpbXVtIHZlcnNpb25zICovXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgb3BlcmF0aW9uOiAke2NvbXBhcmF0b3Iub3BlcmF0b3J9YClcbiAgICAgIH1cbiAgICB9KVxuICAgIGlmIChzZXRNaW4gJiYgKCFtaW52ZXIgfHwgZ3QobWludmVyLCBzZXRNaW4pKSlcbiAgICAgIG1pbnZlciA9IHNldE1pblxuICB9XG5cbiAgaWYgKG1pbnZlciAmJiByYW5nZS50ZXN0KG1pbnZlcikpIHtcbiAgICByZXR1cm4gbWludmVyXG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxubW9kdWxlLmV4cG9ydHMgPSBtaW5WZXJzaW9uXG4iLCJjb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvcmFuZ2UnKVxuY29uc3QgdmFsaWRSYW5nZSA9IChyYW5nZSwgb3B0aW9ucykgPT4ge1xuICB0cnkge1xuICAgIC8vIFJldHVybiAnKicgaW5zdGVhZCBvZiAnJyBzbyB0aGF0IHRydXRoaW5lc3Mgd29ya3MuXG4gICAgLy8gVGhpcyB3aWxsIHRocm93IGlmIGl0J3MgaW52YWxpZCBhbnl3YXlcbiAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKS5yYW5nZSB8fCAnKidcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHZhbGlkUmFuZ2VcbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcbmNvbnN0IENvbXBhcmF0b3IgPSByZXF1aXJlKCcuLi9jbGFzc2VzL2NvbXBhcmF0b3InKVxuY29uc3Qge0FOWX0gPSBDb21wYXJhdG9yXG5jb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvcmFuZ2UnKVxuY29uc3Qgc2F0aXNmaWVzID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL3NhdGlzZmllcycpXG5jb25zdCBndCA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9ndCcpXG5jb25zdCBsdCA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9sdCcpXG5jb25zdCBsdGUgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvbHRlJylcbmNvbnN0IGd0ZSA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9ndGUnKVxuXG5jb25zdCBvdXRzaWRlID0gKHZlcnNpb24sIHJhbmdlLCBoaWxvLCBvcHRpb25zKSA9PiB7XG4gIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpXG4gIHJhbmdlID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKVxuXG4gIGxldCBndGZuLCBsdGVmbiwgbHRmbiwgY29tcCwgZWNvbXBcbiAgc3dpdGNoIChoaWxvKSB7XG4gICAgY2FzZSAnPic6XG4gICAgICBndGZuID0gZ3RcbiAgICAgIGx0ZWZuID0gbHRlXG4gICAgICBsdGZuID0gbHRcbiAgICAgIGNvbXAgPSAnPidcbiAgICAgIGVjb21wID0gJz49J1xuICAgICAgYnJlYWtcbiAgICBjYXNlICc8JzpcbiAgICAgIGd0Zm4gPSBsdFxuICAgICAgbHRlZm4gPSBndGVcbiAgICAgIGx0Zm4gPSBndFxuICAgICAgY29tcCA9ICc8J1xuICAgICAgZWNvbXAgPSAnPD0nXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNdXN0IHByb3ZpZGUgYSBoaWxvIHZhbCBvZiBcIjxcIiBvciBcIj5cIicpXG4gIH1cblxuICAvLyBJZiBpdCBzYXRpc2ZpZXMgdGhlIHJhbmdlIGl0IGlzIG5vdCBvdXRzaWRlXG4gIGlmIChzYXRpc2ZpZXModmVyc2lvbiwgcmFuZ2UsIG9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBGcm9tIG5vdyBvbiwgdmFyaWFibGUgdGVybXMgYXJlIGFzIGlmIHdlJ3JlIGluIFwiZ3RyXCIgbW9kZS5cbiAgLy8gYnV0IG5vdGUgdGhhdCBldmVyeXRoaW5nIGlzIGZsaXBwZWQgZm9yIHRoZSBcImx0clwiIGZ1bmN0aW9uLlxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2Uuc2V0Lmxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgY29tcGFyYXRvcnMgPSByYW5nZS5zZXRbaV1cblxuICAgIGxldCBoaWdoID0gbnVsbFxuICAgIGxldCBsb3cgPSBudWxsXG5cbiAgICBjb21wYXJhdG9ycy5mb3JFYWNoKChjb21wYXJhdG9yKSA9PiB7XG4gICAgICBpZiAoY29tcGFyYXRvci5zZW12ZXIgPT09IEFOWSkge1xuICAgICAgICBjb21wYXJhdG9yID0gbmV3IENvbXBhcmF0b3IoJz49MC4wLjAnKVxuICAgICAgfVxuICAgICAgaGlnaCA9IGhpZ2ggfHwgY29tcGFyYXRvclxuICAgICAgbG93ID0gbG93IHx8IGNvbXBhcmF0b3JcbiAgICAgIGlmIChndGZuKGNvbXBhcmF0b3Iuc2VtdmVyLCBoaWdoLnNlbXZlciwgb3B0aW9ucykpIHtcbiAgICAgICAgaGlnaCA9IGNvbXBhcmF0b3JcbiAgICAgIH0gZWxzZSBpZiAobHRmbihjb21wYXJhdG9yLnNlbXZlciwgbG93LnNlbXZlciwgb3B0aW9ucykpIHtcbiAgICAgICAgbG93ID0gY29tcGFyYXRvclxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBJZiB0aGUgZWRnZSB2ZXJzaW9uIGNvbXBhcmF0b3IgaGFzIGEgb3BlcmF0b3IgdGhlbiBvdXIgdmVyc2lvblxuICAgIC8vIGlzbid0IG91dHNpZGUgaXRcbiAgICBpZiAoaGlnaC5vcGVyYXRvciA9PT0gY29tcCB8fCBoaWdoLm9wZXJhdG9yID09PSBlY29tcCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGxvd2VzdCB2ZXJzaW9uIGNvbXBhcmF0b3IgaGFzIGFuIG9wZXJhdG9yIGFuZCBvdXIgdmVyc2lvblxuICAgIC8vIGlzIGxlc3MgdGhhbiBpdCB0aGVuIGl0IGlzbid0IGhpZ2hlciB0aGFuIHRoZSByYW5nZVxuICAgIGlmICgoIWxvdy5vcGVyYXRvciB8fCBsb3cub3BlcmF0b3IgPT09IGNvbXApICYmXG4gICAgICAgIGx0ZWZuKHZlcnNpb24sIGxvdy5zZW12ZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2UgaWYgKGxvdy5vcGVyYXRvciA9PT0gZWNvbXAgJiYgbHRmbih2ZXJzaW9uLCBsb3cuc2VtdmVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3V0c2lkZVxuIiwiLy8gRGV0ZXJtaW5lIGlmIHZlcnNpb24gaXMgZ3JlYXRlciB0aGFuIGFsbCB0aGUgdmVyc2lvbnMgcG9zc2libGUgaW4gdGhlIHJhbmdlLlxuY29uc3Qgb3V0c2lkZSA9IHJlcXVpcmUoJy4vb3V0c2lkZScpXG5jb25zdCBndHIgPSAodmVyc2lvbiwgcmFuZ2UsIG9wdGlvbnMpID0+IG91dHNpZGUodmVyc2lvbiwgcmFuZ2UsICc+Jywgb3B0aW9ucylcbm1vZHVsZS5leHBvcnRzID0gZ3RyXG4iLCJjb25zdCBvdXRzaWRlID0gcmVxdWlyZSgnLi9vdXRzaWRlJylcbi8vIERldGVybWluZSBpZiB2ZXJzaW9uIGlzIGxlc3MgdGhhbiBhbGwgdGhlIHZlcnNpb25zIHBvc3NpYmxlIGluIHRoZSByYW5nZVxuY29uc3QgbHRyID0gKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSA9PiBvdXRzaWRlKHZlcnNpb24sIHJhbmdlLCAnPCcsIG9wdGlvbnMpXG5tb2R1bGUuZXhwb3J0cyA9IGx0clxuIiwiY29uc3QgUmFuZ2UgPSByZXF1aXJlKCcuLi9jbGFzc2VzL3JhbmdlJylcbmNvbnN0IGludGVyc2VjdHMgPSAocjEsIHIyLCBvcHRpb25zKSA9PiB7XG4gIHIxID0gbmV3IFJhbmdlKHIxLCBvcHRpb25zKVxuICByMiA9IG5ldyBSYW5nZShyMiwgb3B0aW9ucylcbiAgcmV0dXJuIHIxLmludGVyc2VjdHMocjIpXG59XG5tb2R1bGUuZXhwb3J0cyA9IGludGVyc2VjdHNcbiIsIi8vIGdpdmVuIGEgc2V0IG9mIHZlcnNpb25zIGFuZCBhIHJhbmdlLCBjcmVhdGUgYSBcInNpbXBsaWZpZWRcIiByYW5nZVxuLy8gdGhhdCBpbmNsdWRlcyB0aGUgc2FtZSB2ZXJzaW9ucyB0aGF0IHRoZSBvcmlnaW5hbCByYW5nZSBkb2VzXG4vLyBJZiB0aGUgb3JpZ2luYWwgcmFuZ2UgaXMgc2hvcnRlciB0aGFuIHRoZSBzaW1wbGlmaWVkIG9uZSwgcmV0dXJuIHRoYXQuXG5jb25zdCBzYXRpc2ZpZXMgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvc2F0aXNmaWVzLmpzJylcbmNvbnN0IGNvbXBhcmUgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvY29tcGFyZS5qcycpXG5tb2R1bGUuZXhwb3J0cyA9ICh2ZXJzaW9ucywgcmFuZ2UsIG9wdGlvbnMpID0+IHtcbiAgY29uc3Qgc2V0ID0gW11cbiAgbGV0IG1pbiA9IG51bGxcbiAgbGV0IHByZXYgPSBudWxsXG4gIGNvbnN0IHYgPSB2ZXJzaW9ucy5zb3J0KChhLCBiKSA9PiBjb21wYXJlKGEsIGIsIG9wdGlvbnMpKVxuICBmb3IgKGNvbnN0IHZlcnNpb24gb2Ygdikge1xuICAgIGNvbnN0IGluY2x1ZGVkID0gc2F0aXNmaWVzKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKVxuICAgIGlmIChpbmNsdWRlZCkge1xuICAgICAgcHJldiA9IHZlcnNpb25cbiAgICAgIGlmICghbWluKVxuICAgICAgICBtaW4gPSB2ZXJzaW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgIHNldC5wdXNoKFttaW4sIHByZXZdKVxuICAgICAgfVxuICAgICAgcHJldiA9IG51bGxcbiAgICAgIG1pbiA9IG51bGxcbiAgICB9XG4gIH1cbiAgaWYgKG1pbilcbiAgICBzZXQucHVzaChbbWluLCBudWxsXSlcblxuICBjb25zdCByYW5nZXMgPSBbXVxuICBmb3IgKGNvbnN0IFttaW4sIG1heF0gb2Ygc2V0KSB7XG4gICAgaWYgKG1pbiA9PT0gbWF4KVxuICAgICAgcmFuZ2VzLnB1c2gobWluKVxuICAgIGVsc2UgaWYgKCFtYXggJiYgbWluID09PSB2WzBdKVxuICAgICAgcmFuZ2VzLnB1c2goJyonKVxuICAgIGVsc2UgaWYgKCFtYXgpXG4gICAgICByYW5nZXMucHVzaChgPj0ke21pbn1gKVxuICAgIGVsc2UgaWYgKG1pbiA9PT0gdlswXSlcbiAgICAgIHJhbmdlcy5wdXNoKGA8PSR7bWF4fWApXG4gICAgZWxzZVxuICAgICAgcmFuZ2VzLnB1c2goYCR7bWlufSAtICR7bWF4fWApXG4gIH1cbiAgY29uc3Qgc2ltcGxpZmllZCA9IHJhbmdlcy5qb2luKCcgfHwgJylcbiAgY29uc3Qgb3JpZ2luYWwgPSB0eXBlb2YgcmFuZ2UucmF3ID09PSAnc3RyaW5nJyA/IHJhbmdlLnJhdyA6IFN0cmluZyhyYW5nZSlcbiAgcmV0dXJuIHNpbXBsaWZpZWQubGVuZ3RoIDwgb3JpZ2luYWwubGVuZ3RoID8gc2ltcGxpZmllZCA6IHJhbmdlXG59XG4iLCJjb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvcmFuZ2UuanMnKVxuY29uc3QgQ29tcGFyYXRvciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvY29tcGFyYXRvci5qcycpXG5jb25zdCB7IEFOWSB9ID0gQ29tcGFyYXRvclxuY29uc3Qgc2F0aXNmaWVzID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL3NhdGlzZmllcy5qcycpXG5jb25zdCBjb21wYXJlID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL2NvbXBhcmUuanMnKVxuXG4vLyBDb21wbGV4IHJhbmdlIGByMSB8fCByMiB8fCAuLi5gIGlzIGEgc3Vic2V0IG9mIGBSMSB8fCBSMiB8fCAuLi5gIGlmZjpcbi8vIC0gRXZlcnkgc2ltcGxlIHJhbmdlIGByMSwgcjIsIC4uLmAgaXMgYSBudWxsIHNldCwgT1Jcbi8vIC0gRXZlcnkgc2ltcGxlIHJhbmdlIGByMSwgcjIsIC4uLmAgd2hpY2ggaXMgbm90IGEgbnVsbCBzZXQgaXMgYSBzdWJzZXQgb2Zcbi8vICAgc29tZSBgUjEsIFIyLCAuLi5gXG4vL1xuLy8gU2ltcGxlIHJhbmdlIGBjMSBjMiAuLi5gIGlzIGEgc3Vic2V0IG9mIHNpbXBsZSByYW5nZSBgQzEgQzIgLi4uYCBpZmY6XG4vLyAtIElmIGMgaXMgb25seSB0aGUgQU5ZIGNvbXBhcmF0b3Jcbi8vICAgLSBJZiBDIGlzIG9ubHkgdGhlIEFOWSBjb21wYXJhdG9yLCByZXR1cm4gdHJ1ZVxuLy8gICAtIEVsc2UgaWYgaW4gcHJlcmVsZWFzZSBtb2RlLCByZXR1cm4gZmFsc2Vcbi8vICAgLSBlbHNlIHJlcGxhY2UgYyB3aXRoIGBbPj0wLjAuMF1gXG4vLyAtIElmIEMgaXMgb25seSB0aGUgQU5ZIGNvbXBhcmF0b3Jcbi8vICAgLSBpZiBpbiBwcmVyZWxlYXNlIG1vZGUsIHJldHVybiB0cnVlXG4vLyAgIC0gZWxzZSByZXBsYWNlIEMgd2l0aCBgWz49MC4wLjBdYFxuLy8gLSBMZXQgRVEgYmUgdGhlIHNldCBvZiA9IGNvbXBhcmF0b3JzIGluIGNcbi8vIC0gSWYgRVEgaXMgbW9yZSB0aGFuIG9uZSwgcmV0dXJuIHRydWUgKG51bGwgc2V0KVxuLy8gLSBMZXQgR1QgYmUgdGhlIGhpZ2hlc3QgPiBvciA+PSBjb21wYXJhdG9yIGluIGNcbi8vIC0gTGV0IExUIGJlIHRoZSBsb3dlc3QgPCBvciA8PSBjb21wYXJhdG9yIGluIGNcbi8vIC0gSWYgR1QgYW5kIExULCBhbmQgR1Quc2VtdmVyID4gTFQuc2VtdmVyLCByZXR1cm4gdHJ1ZSAobnVsbCBzZXQpXG4vLyAtIElmIGFueSBDIGlzIGEgPSByYW5nZSwgYW5kIEdUIG9yIExUIGFyZSBzZXQsIHJldHVybiBmYWxzZVxuLy8gLSBJZiBFUVxuLy8gICAtIElmIEdULCBhbmQgRVEgZG9lcyBub3Qgc2F0aXNmeSBHVCwgcmV0dXJuIHRydWUgKG51bGwgc2V0KVxuLy8gICAtIElmIExULCBhbmQgRVEgZG9lcyBub3Qgc2F0aXNmeSBMVCwgcmV0dXJuIHRydWUgKG51bGwgc2V0KVxuLy8gICAtIElmIEVRIHNhdGlzZmllcyBldmVyeSBDLCByZXR1cm4gdHJ1ZVxuLy8gICAtIEVsc2UgcmV0dXJuIGZhbHNlXG4vLyAtIElmIEdUXG4vLyAgIC0gSWYgR1Quc2VtdmVyIGlzIGxvd2VyIHRoYW4gYW55ID4gb3IgPj0gY29tcCBpbiBDLCByZXR1cm4gZmFsc2Vcbi8vICAgLSBJZiBHVCBpcyA+PSwgYW5kIEdULnNlbXZlciBkb2VzIG5vdCBzYXRpc2Z5IGV2ZXJ5IEMsIHJldHVybiBmYWxzZVxuLy8gICAtIElmIEdULnNlbXZlciBoYXMgYSBwcmVyZWxlYXNlLCBhbmQgbm90IGluIHByZXJlbGVhc2UgbW9kZVxuLy8gICAgIC0gSWYgbm8gQyBoYXMgYSBwcmVyZWxlYXNlIGFuZCB0aGUgR1Quc2VtdmVyIHR1cGxlLCByZXR1cm4gZmFsc2Vcbi8vIC0gSWYgTFRcbi8vICAgLSBJZiBMVC5zZW12ZXIgaXMgZ3JlYXRlciB0aGFuIGFueSA8IG9yIDw9IGNvbXAgaW4gQywgcmV0dXJuIGZhbHNlXG4vLyAgIC0gSWYgTFQgaXMgPD0sIGFuZCBMVC5zZW12ZXIgZG9lcyBub3Qgc2F0aXNmeSBldmVyeSBDLCByZXR1cm4gZmFsc2Vcbi8vICAgLSBJZiBHVC5zZW12ZXIgaGFzIGEgcHJlcmVsZWFzZSwgYW5kIG5vdCBpbiBwcmVyZWxlYXNlIG1vZGVcbi8vICAgICAtIElmIG5vIEMgaGFzIGEgcHJlcmVsZWFzZSBhbmQgdGhlIExULnNlbXZlciB0dXBsZSwgcmV0dXJuIGZhbHNlXG4vLyAtIEVsc2UgcmV0dXJuIHRydWVcblxuY29uc3Qgc3Vic2V0ID0gKHN1YiwgZG9tLCBvcHRpb25zID0ge30pID0+IHtcbiAgaWYgKHN1YiA9PT0gZG9tKVxuICAgIHJldHVybiB0cnVlXG5cbiAgc3ViID0gbmV3IFJhbmdlKHN1Yiwgb3B0aW9ucylcbiAgZG9tID0gbmV3IFJhbmdlKGRvbSwgb3B0aW9ucylcbiAgbGV0IHNhd05vbk51bGwgPSBmYWxzZVxuXG4gIE9VVEVSOiBmb3IgKGNvbnN0IHNpbXBsZVN1YiBvZiBzdWIuc2V0KSB7XG4gICAgZm9yIChjb25zdCBzaW1wbGVEb20gb2YgZG9tLnNldCkge1xuICAgICAgY29uc3QgaXNTdWIgPSBzaW1wbGVTdWJzZXQoc2ltcGxlU3ViLCBzaW1wbGVEb20sIG9wdGlvbnMpXG4gICAgICBzYXdOb25OdWxsID0gc2F3Tm9uTnVsbCB8fCBpc1N1YiAhPT0gbnVsbFxuICAgICAgaWYgKGlzU3ViKVxuICAgICAgICBjb250aW51ZSBPVVRFUlxuICAgIH1cbiAgICAvLyB0aGUgbnVsbCBzZXQgaXMgYSBzdWJzZXQgb2YgZXZlcnl0aGluZywgYnV0IG51bGwgc2ltcGxlIHJhbmdlcyBpblxuICAgIC8vIGEgY29tcGxleCByYW5nZSBzaG91bGQgYmUgaWdub3JlZC4gIHNvIGlmIHdlIHNhdyBhIG5vbi1udWxsIHJhbmdlLFxuICAgIC8vIHRoZW4gd2Uga25vdyB0aGlzIGlzbid0IGEgc3Vic2V0LCBidXQgaWYgRVZFUlkgc2ltcGxlIHJhbmdlIHdhcyBudWxsLFxuICAgIC8vIHRoZW4gaXQgaXMgYSBzdWJzZXQuXG4gICAgaWYgKHNhd05vbk51bGwpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5jb25zdCBzaW1wbGVTdWJzZXQgPSAoc3ViLCBkb20sIG9wdGlvbnMpID0+IHtcbiAgaWYgKHN1YiA9PT0gZG9tKVxuICAgIHJldHVybiB0cnVlXG5cbiAgaWYgKHN1Yi5sZW5ndGggPT09IDEgJiYgc3ViWzBdLnNlbXZlciA9PT0gQU5ZKSB7XG4gICAgaWYgKGRvbS5sZW5ndGggPT09IDEgJiYgZG9tWzBdLnNlbXZlciA9PT0gQU5ZKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICBlbHNlIGlmIChvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlKVxuICAgICAgc3ViID0gWyBuZXcgQ29tcGFyYXRvcignPj0wLjAuMC0wJykgXVxuICAgIGVsc2VcbiAgICAgIHN1YiA9IFsgbmV3IENvbXBhcmF0b3IoJz49MC4wLjAnKSBdXG4gIH1cblxuICBpZiAoZG9tLmxlbmd0aCA9PT0gMSAmJiBkb21bMF0uc2VtdmVyID09PSBBTlkpIHtcbiAgICBpZiAob3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZWxzZVxuICAgICAgZG9tID0gWyBuZXcgQ29tcGFyYXRvcignPj0wLjAuMCcpIF1cbiAgfVxuXG4gIGNvbnN0IGVxU2V0ID0gbmV3IFNldCgpXG4gIGxldCBndCwgbHRcbiAgZm9yIChjb25zdCBjIG9mIHN1Yikge1xuICAgIGlmIChjLm9wZXJhdG9yID09PSAnPicgfHwgYy5vcGVyYXRvciA9PT0gJz49JylcbiAgICAgIGd0ID0gaGlnaGVyR1QoZ3QsIGMsIG9wdGlvbnMpXG4gICAgZWxzZSBpZiAoYy5vcGVyYXRvciA9PT0gJzwnIHx8IGMub3BlcmF0b3IgPT09ICc8PScpXG4gICAgICBsdCA9IGxvd2VyTFQobHQsIGMsIG9wdGlvbnMpXG4gICAgZWxzZVxuICAgICAgZXFTZXQuYWRkKGMuc2VtdmVyKVxuICB9XG5cbiAgaWYgKGVxU2V0LnNpemUgPiAxKVxuICAgIHJldHVybiBudWxsXG5cbiAgbGV0IGd0bHRDb21wXG4gIGlmIChndCAmJiBsdCkge1xuICAgIGd0bHRDb21wID0gY29tcGFyZShndC5zZW12ZXIsIGx0LnNlbXZlciwgb3B0aW9ucylcbiAgICBpZiAoZ3RsdENvbXAgPiAwKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICBlbHNlIGlmIChndGx0Q29tcCA9PT0gMCAmJiAoZ3Qub3BlcmF0b3IgIT09ICc+PScgfHwgbHQub3BlcmF0b3IgIT09ICc8PScpKVxuICAgICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8vIHdpbGwgaXRlcmF0ZSBvbmUgb3IgemVybyB0aW1lc1xuICBmb3IgKGNvbnN0IGVxIG9mIGVxU2V0KSB7XG4gICAgaWYgKGd0ICYmICFzYXRpc2ZpZXMoZXEsIFN0cmluZyhndCksIG9wdGlvbnMpKVxuICAgICAgcmV0dXJuIG51bGxcblxuICAgIGlmIChsdCAmJiAhc2F0aXNmaWVzKGVxLCBTdHJpbmcobHQpLCBvcHRpb25zKSlcbiAgICAgIHJldHVybiBudWxsXG5cbiAgICBmb3IgKGNvbnN0IGMgb2YgZG9tKSB7XG4gICAgICBpZiAoIXNhdGlzZmllcyhlcSwgU3RyaW5nKGMpLCBvcHRpb25zKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGxldCBoaWdoZXIsIGxvd2VyXG4gIGxldCBoYXNEb21MVCwgaGFzRG9tR1RcbiAgLy8gaWYgdGhlIHN1YnNldCBoYXMgYSBwcmVyZWxlYXNlLCB3ZSBuZWVkIGEgY29tcGFyYXRvciBpbiB0aGUgc3VwZXJzZXRcbiAgLy8gd2l0aCB0aGUgc2FtZSB0dXBsZSBhbmQgYSBwcmVyZWxlYXNlLCBvciBpdCdzIG5vdCBhIHN1YnNldFxuICBsZXQgbmVlZERvbUxUUHJlID0gbHQgJiZcbiAgICAhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSAmJlxuICAgIGx0LnNlbXZlci5wcmVyZWxlYXNlLmxlbmd0aCA/IGx0LnNlbXZlciA6IGZhbHNlXG4gIGxldCBuZWVkRG9tR1RQcmUgPSBndCAmJlxuICAgICFvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlICYmXG4gICAgZ3Quc2VtdmVyLnByZXJlbGVhc2UubGVuZ3RoID8gZ3Quc2VtdmVyIDogZmFsc2VcbiAgLy8gZXhjZXB0aW9uOiA8MS4yLjMtMCBpcyB0aGUgc2FtZSBhcyA8MS4yLjNcbiAgaWYgKG5lZWREb21MVFByZSAmJiBuZWVkRG9tTFRQcmUucHJlcmVsZWFzZS5sZW5ndGggPT09IDEgJiZcbiAgICAgIGx0Lm9wZXJhdG9yID09PSAnPCcgJiYgbmVlZERvbUxUUHJlLnByZXJlbGVhc2VbMF0gPT09IDApIHtcbiAgICBuZWVkRG9tTFRQcmUgPSBmYWxzZVxuICB9XG5cbiAgZm9yIChjb25zdCBjIG9mIGRvbSkge1xuICAgIGhhc0RvbUdUID0gaGFzRG9tR1QgfHwgYy5vcGVyYXRvciA9PT0gJz4nIHx8IGMub3BlcmF0b3IgPT09ICc+PSdcbiAgICBoYXNEb21MVCA9IGhhc0RvbUxUIHx8IGMub3BlcmF0b3IgPT09ICc8JyB8fCBjLm9wZXJhdG9yID09PSAnPD0nXG4gICAgaWYgKGd0KSB7XG4gICAgICBpZiAobmVlZERvbUdUUHJlKSB7XG4gICAgICAgIGlmIChjLnNlbXZlci5wcmVyZWxlYXNlICYmIGMuc2VtdmVyLnByZXJlbGVhc2UubGVuZ3RoICYmXG4gICAgICAgICAgICBjLnNlbXZlci5tYWpvciA9PT0gbmVlZERvbUdUUHJlLm1ham9yICYmXG4gICAgICAgICAgICBjLnNlbXZlci5taW5vciA9PT0gbmVlZERvbUdUUHJlLm1pbm9yICYmXG4gICAgICAgICAgICBjLnNlbXZlci5wYXRjaCA9PT0gbmVlZERvbUdUUHJlLnBhdGNoKSB7XG4gICAgICAgICAgbmVlZERvbUdUUHJlID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGMub3BlcmF0b3IgPT09ICc+JyB8fCBjLm9wZXJhdG9yID09PSAnPj0nKSB7XG4gICAgICAgIGhpZ2hlciA9IGhpZ2hlckdUKGd0LCBjLCBvcHRpb25zKVxuICAgICAgICBpZiAoaGlnaGVyID09PSBjICYmIGhpZ2hlciAhPT0gZ3QpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9IGVsc2UgaWYgKGd0Lm9wZXJhdG9yID09PSAnPj0nICYmICFzYXRpc2ZpZXMoZ3Quc2VtdmVyLCBTdHJpbmcoYyksIG9wdGlvbnMpKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKGx0KSB7XG4gICAgICBpZiAobmVlZERvbUxUUHJlKSB7XG4gICAgICAgIGlmIChjLnNlbXZlci5wcmVyZWxlYXNlICYmIGMuc2VtdmVyLnByZXJlbGVhc2UubGVuZ3RoICYmXG4gICAgICAgICAgICBjLnNlbXZlci5tYWpvciA9PT0gbmVlZERvbUxUUHJlLm1ham9yICYmXG4gICAgICAgICAgICBjLnNlbXZlci5taW5vciA9PT0gbmVlZERvbUxUUHJlLm1pbm9yICYmXG4gICAgICAgICAgICBjLnNlbXZlci5wYXRjaCA9PT0gbmVlZERvbUxUUHJlLnBhdGNoKSB7XG4gICAgICAgICAgbmVlZERvbUxUUHJlID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGMub3BlcmF0b3IgPT09ICc8JyB8fCBjLm9wZXJhdG9yID09PSAnPD0nKSB7XG4gICAgICAgIGxvd2VyID0gbG93ZXJMVChsdCwgYywgb3B0aW9ucylcbiAgICAgICAgaWYgKGxvd2VyID09PSBjICYmIGxvd2VyICE9PSBsdClcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0gZWxzZSBpZiAobHQub3BlcmF0b3IgPT09ICc8PScgJiYgIXNhdGlzZmllcyhsdC5zZW12ZXIsIFN0cmluZyhjKSwgb3B0aW9ucykpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoIWMub3BlcmF0b3IgJiYgKGx0IHx8IGd0KSAmJiBndGx0Q29tcCAhPT0gMClcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gaWYgdGhlcmUgd2FzIGEgPCBvciA+LCBhbmQgbm90aGluZyBpbiB0aGUgZG9tLCB0aGVuIG11c3QgYmUgZmFsc2VcbiAgLy8gVU5MRVNTIGl0IHdhcyBsaW1pdGVkIGJ5IGFub3RoZXIgcmFuZ2UgaW4gdGhlIG90aGVyIGRpcmVjdGlvbi5cbiAgLy8gRWcsID4xLjAuMCA8MS4wLjEgaXMgc3RpbGwgYSBzdWJzZXQgb2YgPDIuMC4wXG4gIGlmIChndCAmJiBoYXNEb21MVCAmJiAhbHQgJiYgZ3RsdENvbXAgIT09IDApXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgaWYgKGx0ICYmIGhhc0RvbUdUICYmICFndCAmJiBndGx0Q29tcCAhPT0gMClcbiAgICByZXR1cm4gZmFsc2VcblxuICAvLyB3ZSBuZWVkZWQgYSBwcmVyZWxlYXNlIHJhbmdlIGluIGEgc3BlY2lmaWMgdHVwbGUsIGJ1dCBkaWRuJ3QgZ2V0IG9uZVxuICAvLyB0aGVuIHRoaXMgaXNuJ3QgYSBzdWJzZXQuICBlZyA+PTEuMi4zLXByZSBpcyBub3QgYSBzdWJzZXQgb2YgPj0xLjAuMCxcbiAgLy8gYmVjYXVzZSBpdCBpbmNsdWRlcyBwcmVyZWxlYXNlcyBpbiB0aGUgMS4yLjMgdHVwbGVcbiAgaWYgKG5lZWREb21HVFByZSB8fCBuZWVkRG9tTFRQcmUpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gPj0xLjIuMyBpcyBsb3dlciB0aGFuID4xLjIuM1xuY29uc3QgaGlnaGVyR1QgPSAoYSwgYiwgb3B0aW9ucykgPT4ge1xuICBpZiAoIWEpXG4gICAgcmV0dXJuIGJcbiAgY29uc3QgY29tcCA9IGNvbXBhcmUoYS5zZW12ZXIsIGIuc2VtdmVyLCBvcHRpb25zKVxuICByZXR1cm4gY29tcCA+IDAgPyBhXG4gICAgOiBjb21wIDwgMCA/IGJcbiAgICA6IGIub3BlcmF0b3IgPT09ICc+JyAmJiBhLm9wZXJhdG9yID09PSAnPj0nID8gYlxuICAgIDogYVxufVxuXG4vLyA8PTEuMi4zIGlzIGhpZ2hlciB0aGFuIDwxLjIuM1xuY29uc3QgbG93ZXJMVCA9IChhLCBiLCBvcHRpb25zKSA9PiB7XG4gIGlmICghYSlcbiAgICByZXR1cm4gYlxuICBjb25zdCBjb21wID0gY29tcGFyZShhLnNlbXZlciwgYi5zZW12ZXIsIG9wdGlvbnMpXG4gIHJldHVybiBjb21wIDwgMCA/IGFcbiAgICA6IGNvbXAgPiAwID8gYlxuICAgIDogYi5vcGVyYXRvciA9PT0gJzwnICYmIGEub3BlcmF0b3IgPT09ICc8PScgPyBiXG4gICAgOiBhXG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3Vic2V0XG4iLCIvLyBqdXN0IHByZS1sb2FkIGFsbCB0aGUgc3R1ZmYgdGhhdCBpbmRleC5qcyBsYXppbHkgZXhwb3J0c1xuY29uc3QgaW50ZXJuYWxSZSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvcmUnKVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJlOiBpbnRlcm5hbFJlLnJlLFxuICBzcmM6IGludGVybmFsUmUuc3JjLFxuICB0b2tlbnM6IGludGVybmFsUmUudCxcbiAgU0VNVkVSX1NQRUNfVkVSU0lPTjogcmVxdWlyZSgnLi9pbnRlcm5hbC9jb25zdGFudHMnKS5TRU1WRVJfU1BFQ19WRVJTSU9OLFxuICBTZW1WZXI6IHJlcXVpcmUoJy4vY2xhc3Nlcy9zZW12ZXInKSxcbiAgY29tcGFyZUlkZW50aWZpZXJzOiByZXF1aXJlKCcuL2ludGVybmFsL2lkZW50aWZpZXJzJykuY29tcGFyZUlkZW50aWZpZXJzLFxuICByY29tcGFyZUlkZW50aWZpZXJzOiByZXF1aXJlKCcuL2ludGVybmFsL2lkZW50aWZpZXJzJykucmNvbXBhcmVJZGVudGlmaWVycyxcbiAgcGFyc2U6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL3BhcnNlJyksXG4gIHZhbGlkOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy92YWxpZCcpLFxuICBjbGVhbjogcmVxdWlyZSgnLi9mdW5jdGlvbnMvY2xlYW4nKSxcbiAgaW5jOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9pbmMnKSxcbiAgZGlmZjogcmVxdWlyZSgnLi9mdW5jdGlvbnMvZGlmZicpLFxuICBtYWpvcjogcmVxdWlyZSgnLi9mdW5jdGlvbnMvbWFqb3InKSxcbiAgbWlub3I6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL21pbm9yJyksXG4gIHBhdGNoOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9wYXRjaCcpLFxuICBwcmVyZWxlYXNlOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9wcmVyZWxlYXNlJyksXG4gIGNvbXBhcmU6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL2NvbXBhcmUnKSxcbiAgcmNvbXBhcmU6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL3Jjb21wYXJlJyksXG4gIGNvbXBhcmVMb29zZTogcmVxdWlyZSgnLi9mdW5jdGlvbnMvY29tcGFyZS1sb29zZScpLFxuICBjb21wYXJlQnVpbGQ6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL2NvbXBhcmUtYnVpbGQnKSxcbiAgc29ydDogcmVxdWlyZSgnLi9mdW5jdGlvbnMvc29ydCcpLFxuICByc29ydDogcmVxdWlyZSgnLi9mdW5jdGlvbnMvcnNvcnQnKSxcbiAgZ3Q6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL2d0JyksXG4gIGx0OiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9sdCcpLFxuICBlcTogcmVxdWlyZSgnLi9mdW5jdGlvbnMvZXEnKSxcbiAgbmVxOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9uZXEnKSxcbiAgZ3RlOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9ndGUnKSxcbiAgbHRlOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9sdGUnKSxcbiAgY21wOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9jbXAnKSxcbiAgY29lcmNlOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9jb2VyY2UnKSxcbiAgQ29tcGFyYXRvcjogcmVxdWlyZSgnLi9jbGFzc2VzL2NvbXBhcmF0b3InKSxcbiAgUmFuZ2U6IHJlcXVpcmUoJy4vY2xhc3Nlcy9yYW5nZScpLFxuICBzYXRpc2ZpZXM6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL3NhdGlzZmllcycpLFxuICB0b0NvbXBhcmF0b3JzOiByZXF1aXJlKCcuL3Jhbmdlcy90by1jb21wYXJhdG9ycycpLFxuICBtYXhTYXRpc2Z5aW5nOiByZXF1aXJlKCcuL3Jhbmdlcy9tYXgtc2F0aXNmeWluZycpLFxuICBtaW5TYXRpc2Z5aW5nOiByZXF1aXJlKCcuL3Jhbmdlcy9taW4tc2F0aXNmeWluZycpLFxuICBtaW5WZXJzaW9uOiByZXF1aXJlKCcuL3Jhbmdlcy9taW4tdmVyc2lvbicpLFxuICB2YWxpZFJhbmdlOiByZXF1aXJlKCcuL3Jhbmdlcy92YWxpZCcpLFxuICBvdXRzaWRlOiByZXF1aXJlKCcuL3Jhbmdlcy9vdXRzaWRlJyksXG4gIGd0cjogcmVxdWlyZSgnLi9yYW5nZXMvZ3RyJyksXG4gIGx0cjogcmVxdWlyZSgnLi9yYW5nZXMvbHRyJyksXG4gIGludGVyc2VjdHM6IHJlcXVpcmUoJy4vcmFuZ2VzL2ludGVyc2VjdHMnKSxcbiAgc2ltcGxpZnlSYW5nZTogcmVxdWlyZSgnLi9yYW5nZXMvc2ltcGxpZnknKSxcbiAgc3Vic2V0OiByZXF1aXJlKCcuL3Jhbmdlcy9zdWJzZXQnKSxcbn1cbiIsIi8qKlxuICogTG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbi8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xudmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUocm9vdCwgJ0RhdGFWaWV3JyksXG4gICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBQcm9taXNlID0gZ2V0TmF0aXZlKHJvb3QsICdQcm9taXNlJyksXG4gICAgU2V0ID0gZ2V0TmF0aXZlKHJvb3QsICdTZXQnKSxcbiAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xudmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICB9XG4gIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzU2FtZVRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChzZWVuKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHRydWU7XG4gIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICB9XG4gIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gKi9cbnZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xudmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbi8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbmlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAqIGVxdWl2YWxlbnQuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIG9iamVjdCA9PT0gb3RoZXI7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzKTtcbiAqIC8vID0+IFtbXSwgW11dXG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzWzBdID09PSBhcnJheXNbMV0pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gc3R1YkFycmF5KCkge1xuICByZXR1cm4gW107XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0VxdWFsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZVRlbXBVcGRhdGVGaWxlID0gZXhwb3J0cy5Eb3dubG9hZGVkVXBkYXRlSGVscGVyID0gdm9pZCAwO1xuY29uc3QgY3J5cHRvXzEgPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xuY29uc3QgZnNfMSA9IHJlcXVpcmUoXCJmc1wiKTtcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IGlzRXF1YWwgPSByZXF1aXJlKFwibG9kYXNoLmlzZXF1YWxcIik7XG5jb25zdCBmc19leHRyYV8xID0gcmVxdWlyZShcImZzLWV4dHJhXCIpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuLyoqIEBwcml2YXRlICoqL1xuY2xhc3MgRG93bmxvYWRlZFVwZGF0ZUhlbHBlciB7XG4gICAgY29uc3RydWN0b3IoY2FjaGVEaXIpIHtcbiAgICAgICAgdGhpcy5jYWNoZURpciA9IGNhY2hlRGlyO1xuICAgICAgICB0aGlzLl9maWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFja2FnZUZpbGUgPSBudWxsO1xuICAgICAgICB0aGlzLnZlcnNpb25JbmZvID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWxlSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Rvd25sb2FkZWRGaWxlSW5mbyA9IG51bGw7XG4gICAgfVxuICAgIGdldCBkb3dubG9hZGVkRmlsZUluZm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kb3dubG9hZGVkRmlsZUluZm87XG4gICAgfVxuICAgIGdldCBmaWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsZTtcbiAgICB9XG4gICAgZ2V0IHBhY2thZ2VGaWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFja2FnZUZpbGU7XG4gICAgfVxuICAgIGdldCBjYWNoZURpckZvclBlbmRpbmdVcGRhdGUoKSB7XG4gICAgICAgIHJldHVybiBwYXRoLmpvaW4odGhpcy5jYWNoZURpciwgXCJwZW5kaW5nXCIpO1xuICAgIH1cbiAgICBhc3luYyB2YWxpZGF0ZURvd25sb2FkZWRQYXRoKHVwZGF0ZUZpbGUsIHVwZGF0ZUluZm8sIGZpbGVJbmZvLCBsb2dnZXIpIHtcbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbkluZm8gIT0gbnVsbCAmJiB0aGlzLmZpbGUgPT09IHVwZGF0ZUZpbGUgJiYgdGhpcy5maWxlSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgaGFzIGFscmVhZHkgYmVlbiBkb3dubG9hZGVkIGZyb20gdGhpcyBydW5uaW5nIGluc3RhbmNlXG4gICAgICAgICAgICAvLyBjaGVjayBoZXJlIG9ubHkgZXhpc3RlbmNlLCBub3QgY2hlY2tzdW1cbiAgICAgICAgICAgIGlmIChpc0VxdWFsKHRoaXMudmVyc2lvbkluZm8sIHVwZGF0ZUluZm8pICYmIGlzRXF1YWwodGhpcy5maWxlSW5mby5pbmZvLCBmaWxlSW5mby5pbmZvKSAmJiAoYXdhaXQgZnNfZXh0cmFfMS5wYXRoRXhpc3RzKHVwZGF0ZUZpbGUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVGaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIGhhcyBhbHJlYWR5IGJlZW4gZG93bmxvYWRlZCBmcm9tIHNvbWUgcHJldmlvdXMgYXBwIGxhdW5jaFxuICAgICAgICBjb25zdCBjYWNoZWRVcGRhdGVGaWxlID0gYXdhaXQgdGhpcy5nZXRWYWxpZENhY2hlZFVwZGF0ZUZpbGUoZmlsZUluZm8sIGxvZ2dlcik7XG4gICAgICAgIGlmIChjYWNoZWRVcGRhdGVGaWxlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuaW5mbyhgVXBkYXRlIGhhcyBhbHJlYWR5IGJlZW4gZG93bmxvYWRlZCB0byAke3VwZGF0ZUZpbGV9KS5gKTtcbiAgICAgICAgdGhpcy5fZmlsZSA9IGNhY2hlZFVwZGF0ZUZpbGU7XG4gICAgICAgIHJldHVybiBjYWNoZWRVcGRhdGVGaWxlO1xuICAgIH1cbiAgICBhc3luYyBzZXREb3dubG9hZGVkRmlsZShkb3dubG9hZGVkRmlsZSwgcGFja2FnZUZpbGUsIHZlcnNpb25JbmZvLCBmaWxlSW5mbywgdXBkYXRlRmlsZU5hbWUsIGlzU2F2ZUNhY2hlKSB7XG4gICAgICAgIHRoaXMuX2ZpbGUgPSBkb3dubG9hZGVkRmlsZTtcbiAgICAgICAgdGhpcy5fcGFja2FnZUZpbGUgPSBwYWNrYWdlRmlsZTtcbiAgICAgICAgdGhpcy52ZXJzaW9uSW5mbyA9IHZlcnNpb25JbmZvO1xuICAgICAgICB0aGlzLmZpbGVJbmZvID0gZmlsZUluZm87XG4gICAgICAgIHRoaXMuX2Rvd25sb2FkZWRGaWxlSW5mbyA9IHtcbiAgICAgICAgICAgIGZpbGVOYW1lOiB1cGRhdGVGaWxlTmFtZSxcbiAgICAgICAgICAgIHNoYTUxMjogZmlsZUluZm8uaW5mby5zaGE1MTIsXG4gICAgICAgICAgICBpc0FkbWluUmlnaHRzUmVxdWlyZWQ6IGZpbGVJbmZvLmluZm8uaXNBZG1pblJpZ2h0c1JlcXVpcmVkID09PSB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoaXNTYXZlQ2FjaGUpIHtcbiAgICAgICAgICAgIGF3YWl0IGZzX2V4dHJhXzEub3V0cHV0SnNvbih0aGlzLmdldFVwZGF0ZUluZm9GaWxlKCksIHRoaXMuX2Rvd25sb2FkZWRGaWxlSW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2ZpbGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYWNrYWdlRmlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMudmVyc2lvbkluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGVJbmZvID0gbnVsbDtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGVhbkNhY2hlRGlyRm9yUGVuZGluZ1VwZGF0ZSgpO1xuICAgIH1cbiAgICBhc3luYyBjbGVhbkNhY2hlRGlyRm9yUGVuZGluZ1VwZGF0ZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBzdGFsZSBkYXRhXG4gICAgICAgICAgICBhd2FpdCBmc19leHRyYV8xLmVtcHR5RGlyKHRoaXMuY2FjaGVEaXJGb3JQZW5kaW5nVXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoaWdub3JlKSB7XG4gICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFwidXBkYXRlLWluZm8uanNvblwiIHdoaWNoIGlzIGNyZWF0ZWQgaW4gdGhlIHVwZGF0ZSBjYWNoZSBkaXJlY3RvcnkncyBcInBlbmRpbmdcIiBzdWJmb2xkZXIgYWZ0ZXIgdGhlIGZpcnN0IHVwZGF0ZSBpcyBkb3dubG9hZGVkLiAgSWYgdGhlIHVwZGF0ZSBmaWxlIGRvZXMgbm90IGV4aXN0IHRoZW4gdGhlIGNhY2hlIGlzIGNsZWFyZWQgYW5kIHJlY3JlYXRlZC4gIElmIHRoZSB1cGRhdGUgZmlsZSBleGlzdHMgdGhlbiBpdHMgcHJvcGVydGllcyBhcmUgdmFsaWRhdGVkLlxuICAgICAqIEBwYXJhbSBmaWxlSW5mb1xuICAgICAqIEBwYXJhbSBsb2dnZXJcbiAgICAgKi9cbiAgICBhc3luYyBnZXRWYWxpZENhY2hlZFVwZGF0ZUZpbGUoZmlsZUluZm8sIGxvZ2dlcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUluZm9GaWxlUGF0aCA9IHRoaXMuZ2V0VXBkYXRlSW5mb0ZpbGUoKTtcbiAgICAgICAgY29uc3QgZG9lc1VwZGF0ZUluZm9GaWxlRXhpc3QgPSBhd2FpdCBmc19leHRyYV8xLnBhdGhFeGlzdHModXBkYXRlSW5mb0ZpbGVQYXRoKTtcbiAgICAgICAgaWYgKCFkb2VzVXBkYXRlSW5mb0ZpbGVFeGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNhY2hlZEluZm87XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWNoZWRJbmZvID0gYXdhaXQgZnNfZXh0cmFfMS5yZWFkSnNvbih1cGRhdGVJbmZvRmlsZVBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBgTm8gY2FjaGVkIHVwZGF0ZSBpbmZvIGF2YWlsYWJsZWA7XG4gICAgICAgICAgICBpZiAoZXJyb3IuY29kZSAhPT0gXCJFTk9FTlRcIikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xlYW5DYWNoZURpckZvclBlbmRpbmdVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9IGAgKGVycm9yIG9uIHJlYWQ6ICR7ZXJyb3IubWVzc2FnZX0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNDYWNoZWRJbmZvRmlsZU5hbWVWYWxpZCA9IChfYSA9IChjYWNoZWRJbmZvID09PSBudWxsIHx8IGNhY2hlZEluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhY2hlZEluZm8uZmlsZU5hbWUpICE9PSBudWxsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcbiAgICAgICAgaWYgKCFpc0NhY2hlZEluZm9GaWxlTmFtZVZhbGlkKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihgQ2FjaGVkIHVwZGF0ZSBpbmZvIGlzIGNvcnJ1cHRlZDogbm8gZmlsZU5hbWUsIGRpcmVjdG9yeSBmb3IgY2FjaGVkIHVwZGF0ZSB3aWxsIGJlIGNsZWFuZWRgKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xlYW5DYWNoZURpckZvclBlbmRpbmdVcGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxlSW5mby5pbmZvLnNoYTUxMiAhPT0gY2FjaGVkSW5mby5zaGE1MTIpIHtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGBDYWNoZWQgdXBkYXRlIHNoYTUxMiBjaGVja3N1bSBkb2Vzbid0IG1hdGNoIHRoZSBsYXRlc3QgYXZhaWxhYmxlIHVwZGF0ZS4gTmV3IHVwZGF0ZSBtdXN0IGJlIGRvd25sb2FkZWQuIENhY2hlZDogJHtjYWNoZWRJbmZvLnNoYTUxMn0sIGV4cGVjdGVkOiAke2ZpbGVJbmZvLmluZm8uc2hhNTEyfS4gRGlyZWN0b3J5IGZvciBjYWNoZWQgdXBkYXRlIHdpbGwgYmUgY2xlYW5lZGApO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGVhbkNhY2hlRGlyRm9yUGVuZGluZ1VwZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlRmlsZSA9IHBhdGguam9pbih0aGlzLmNhY2hlRGlyRm9yUGVuZGluZ1VwZGF0ZSwgY2FjaGVkSW5mby5maWxlTmFtZSk7XG4gICAgICAgIGlmICghKGF3YWl0IGZzX2V4dHJhXzEucGF0aEV4aXN0cyh1cGRhdGVGaWxlKSkpIHtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwiQ2FjaGVkIHVwZGF0ZSBmaWxlIGRvZXNuJ3QgZXhpc3RcIik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaGE1MTIgPSBhd2FpdCBoYXNoRmlsZSh1cGRhdGVGaWxlKTtcbiAgICAgICAgaWYgKGZpbGVJbmZvLmluZm8uc2hhNTEyICE9PSBzaGE1MTIpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGBTaGE1MTIgY2hlY2tzdW0gZG9lc24ndCBtYXRjaCB0aGUgbGF0ZXN0IGF2YWlsYWJsZSB1cGRhdGUuIE5ldyB1cGRhdGUgbXVzdCBiZSBkb3dubG9hZGVkLiBDYWNoZWQ6ICR7c2hhNTEyfSwgZXhwZWN0ZWQ6ICR7ZmlsZUluZm8uaW5mby5zaGE1MTJ9YCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNsZWFuQ2FjaGVEaXJGb3JQZW5kaW5nVXBkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kb3dubG9hZGVkRmlsZUluZm8gPSBjYWNoZWRJbmZvO1xuICAgICAgICByZXR1cm4gdXBkYXRlRmlsZTtcbiAgICB9XG4gICAgZ2V0VXBkYXRlSW5mb0ZpbGUoKSB7XG4gICAgICAgIHJldHVybiBwYXRoLmpvaW4odGhpcy5jYWNoZURpckZvclBlbmRpbmdVcGRhdGUsIFwidXBkYXRlLWluZm8uanNvblwiKTtcbiAgICB9XG59XG5leHBvcnRzLkRvd25sb2FkZWRVcGRhdGVIZWxwZXIgPSBEb3dubG9hZGVkVXBkYXRlSGVscGVyO1xuZnVuY3Rpb24gaGFzaEZpbGUoZmlsZSwgYWxnb3JpdGhtID0gXCJzaGE1MTJcIiwgZW5jb2RpbmcgPSBcImJhc2U2NFwiLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgaGFzaCA9IGNyeXB0b18xLmNyZWF0ZUhhc2goYWxnb3JpdGhtKTtcbiAgICAgICAgaGFzaC5vbihcImVycm9yXCIsIHJlamVjdCkuc2V0RW5jb2RpbmcoZW5jb2RpbmcpO1xuICAgICAgICBmc18xLmNyZWF0ZVJlYWRTdHJlYW0oZmlsZSwgeyAuLi5vcHRpb25zLCBoaWdoV2F0ZXJNYXJrOiAxMDI0ICogMTAyNCAvKiBiZXR0ZXIgdG8gdXNlIG1vcmUgbWVtb3J5IGJ1dCBoYXNoIGZhc3RlciAqLyB9KVxuICAgICAgICAgICAgLm9uKFwiZXJyb3JcIiwgcmVqZWN0KVxuICAgICAgICAgICAgLm9uKFwiZW5kXCIsICgpID0+IHtcbiAgICAgICAgICAgIGhhc2guZW5kKCk7XG4gICAgICAgICAgICByZXNvbHZlKGhhc2gucmVhZCgpKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5waXBlKGhhc2gsIHsgZW5kOiBmYWxzZSB9KTtcbiAgICB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRlbXBVcGRhdGVGaWxlKG5hbWUsIGNhY2hlRGlyLCBsb2cpIHtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZWxlY3Ryb24tdXNlcmxhbmQvZWxlY3Ryb24tYnVpbGRlci9wdWxsLzI0NzQjaXNzdWVjb21tZW50LTM2NjQ4MTkxMlxuICAgIGxldCBuYW1lQ291bnRlciA9IDA7XG4gICAgbGV0IHJlc3VsdCA9IHBhdGguam9pbihjYWNoZURpciwgbmFtZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGZzX2V4dHJhXzEudW5saW5rKHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5jb2RlID09PSBcIkVOT0VOVFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZy53YXJuKGBFcnJvciBvbiByZW1vdmUgdGVtcCB1cGRhdGUgZmlsZTogJHtlfWApO1xuICAgICAgICAgICAgcmVzdWx0ID0gcGF0aC5qb2luKGNhY2hlRGlyLCBgJHtuYW1lQ291bnRlcisrfS0ke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuY3JlYXRlVGVtcFVwZGF0ZUZpbGUgPSBjcmVhdGVUZW1wVXBkYXRlRmlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURvd25sb2FkZWRVcGRhdGVIZWxwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldEFwcENhY2hlRGlyID0gdm9pZCAwO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3Qgb3NfMSA9IHJlcXVpcmUoXCJvc1wiKTtcbmZ1bmN0aW9uIGdldEFwcENhY2hlRGlyKCkge1xuICAgIGNvbnN0IGhvbWVkaXIgPSBvc18xLmhvbWVkaXIoKTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZWxlY3Ryb24vZWxlY3Ryb24vaXNzdWVzLzE0MDQjaXNzdWVjb21tZW50LTE5NDM5MTI0N1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09IFwid2luMzJcIikge1xuICAgICAgICByZXN1bHQgPSBwcm9jZXNzLmVudltcIkxPQ0FMQVBQREFUQVwiXSB8fCBwYXRoLmpvaW4oaG9tZWRpciwgXCJBcHBEYXRhXCIsIFwiTG9jYWxcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09IFwiZGFyd2luXCIpIHtcbiAgICAgICAgcmVzdWx0ID0gcGF0aC5qb2luKGhvbWVkaXIsIFwiTGlicmFyeVwiLCBcIkFwcGxpY2F0aW9uIFN1cHBvcnRcIiwgXCJDYWNoZXNcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBwcm9jZXNzLmVudltcIlhER19DQUNIRV9IT01FXCJdIHx8IHBhdGguam9pbihob21lZGlyLCBcIi5jYWNoZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuZ2V0QXBwQ2FjaGVEaXIgPSBnZXRBcHBDYWNoZURpcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFwcEFkYXB0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVsZWN0cm9uQXBwQWRhcHRlciA9IHZvaWQgMDtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbmNvbnN0IEFwcEFkYXB0ZXJfMSA9IHJlcXVpcmUoXCIuL0FwcEFkYXB0ZXJcIik7XG5jbGFzcyBFbGVjdHJvbkFwcEFkYXB0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGFwcCA9IHJlcXVpcmUoXCJlbGVjdHJvblwiKS5hcHApIHtcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgfVxuICAgIHdoZW5SZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwLndoZW5SZWFkeSgpO1xuICAgIH1cbiAgICBnZXQgdmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwLmdldFZlcnNpb24oKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC5nZXROYW1lKCk7XG4gICAgfVxuICAgIGdldCBpc1BhY2thZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHAuaXNQYWNrYWdlZCA9PT0gdHJ1ZTtcbiAgICB9XG4gICAgZ2V0IGFwcFVwZGF0ZUNvbmZpZ1BhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzUGFja2FnZWQgPyBwYXRoLmpvaW4ocHJvY2Vzcy5yZXNvdXJjZXNQYXRoLCBcImFwcC11cGRhdGUueW1sXCIpIDogcGF0aC5qb2luKHRoaXMuYXBwLmdldEFwcFBhdGgoKSwgXCJkZXYtYXBwLXVwZGF0ZS55bWxcIik7XG4gICAgfVxuICAgIGdldCB1c2VyRGF0YVBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC5nZXRQYXRoKFwidXNlckRhdGFcIik7XG4gICAgfVxuICAgIGdldCBiYXNlQ2FjaGVQYXRoKCkge1xuICAgICAgICByZXR1cm4gQXBwQWRhcHRlcl8xLmdldEFwcENhY2hlRGlyKCk7XG4gICAgfVxuICAgIHF1aXQoKSB7XG4gICAgICAgIHRoaXMuYXBwLnF1aXQoKTtcbiAgICB9XG4gICAgb25RdWl0KGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5hcHAub25jZShcInF1aXRcIiwgKF8sIGV4aXRDb2RlKSA9PiBoYW5kbGVyKGV4aXRDb2RlKSk7XG4gICAgfVxufVxuZXhwb3J0cy5FbGVjdHJvbkFwcEFkYXB0ZXIgPSBFbGVjdHJvbkFwcEFkYXB0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbGVjdHJvbkFwcEFkYXB0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVsZWN0cm9uSHR0cEV4ZWN1dG9yID0gZXhwb3J0cy5nZXROZXRTZXNzaW9uID0gZXhwb3J0cy5ORVRfU0VTU0lPTl9OQU1FID0gdm9pZCAwO1xuY29uc3QgYnVpbGRlcl91dGlsX3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJidWlsZGVyLXV0aWwtcnVudGltZVwiKTtcbmV4cG9ydHMuTkVUX1NFU1NJT05fTkFNRSA9IFwiZWxlY3Ryb24tdXBkYXRlclwiO1xuZnVuY3Rpb24gZ2V0TmV0U2Vzc2lvbigpIHtcbiAgICByZXR1cm4gcmVxdWlyZShcImVsZWN0cm9uXCIpLnNlc3Npb24uZnJvbVBhcnRpdGlvbihleHBvcnRzLk5FVF9TRVNTSU9OX05BTUUsIHtcbiAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgIH0pO1xufVxuZXhwb3J0cy5nZXROZXRTZXNzaW9uID0gZ2V0TmV0U2Vzc2lvbjtcbmNsYXNzIEVsZWN0cm9uSHR0cEV4ZWN1dG9yIGV4dGVuZHMgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5IdHRwRXhlY3V0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHByb3h5TG9naW5DYWxsYmFjaykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnByb3h5TG9naW5DYWxsYmFjayA9IHByb3h5TG9naW5DYWxsYmFjaztcbiAgICAgICAgdGhpcy5jYWNoZWRTZXNzaW9uID0gbnVsbDtcbiAgICB9XG4gICAgYXN5bmMgZG93bmxvYWQodXJsLCBkZXN0aW5hdGlvbiwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gYXdhaXQgb3B0aW9ucy5jYW5jZWxsYXRpb25Ub2tlbi5jcmVhdGVQcm9taXNlKChyZXNvbHZlLCByZWplY3QsIG9uQ2FuY2VsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBcIm1hbnVhbFwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEuY29uZmlndXJlUmVxdWVzdFVybCh1cmwsIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgIGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEuY29uZmlndXJlUmVxdWVzdE9wdGlvbnMocmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5kb0Rvd25sb2FkKHJlcXVlc3RPcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBvbkNhbmNlbCxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXNwb25zZUhhbmRsZXI6IG51bGwsXG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNyZWF0ZVJlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gZml4IChub2RlIDcrKSBmb3IgbWFraW5nIGVsZWN0cm9uIHVwZGF0ZXIgd29yayB3aGVuIHVzaW5nIEFXUyBwcml2YXRlIGJ1Y2tldHMsIGNoZWNrIGlmIGhlYWRlcnMgY29udGFpbiBIb3N0IHByb3BlcnR5XG4gICAgICAgIGlmIChvcHRpb25zLmhlYWRlcnMgJiYgb3B0aW9ucy5oZWFkZXJzLkhvc3QpIHtcbiAgICAgICAgICAgIC8vIHNldCBob3N0IHZhbHVlIGZyb20gaGVhZGVycy5Ib3N0XG4gICAgICAgICAgICBvcHRpb25zLmhvc3QgPSBvcHRpb25zLmhlYWRlcnMuSG9zdDtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBoZWFkZXIgcHJvcGVydHkgJ0hvc3QnLCBpZiBub3QgcmVtb3ZlZCBjYXVzZXMgbmV0OjpFUlJfSU5WQUxJRF9BUkdVTUVOVCBleGNlcHRpb25cbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmhlYWRlcnMuSG9zdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkaWZmZXJlbnRpYWwgZG93bmxvYWRlciBjYW4gY2FsbCB0aGlzIG1ldGhvZCB2ZXJ5IG9mdGVuLCBzbywgYmV0dGVyIHRvIGNhY2hlIHNlc3Npb25cbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkU2Vzc2lvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlZFNlc3Npb24gPSBnZXROZXRTZXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoXCJlbGVjdHJvblwiKS5uZXQucmVxdWVzdCh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5jYWNoZWRTZXNzaW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVxdWVzdC5vbihcInJlc3BvbnNlXCIsIGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKHRoaXMucHJveHlMb2dpbkNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlcXVlc3Qub24oXCJsb2dpblwiLCB0aGlzLnByb3h5TG9naW5DYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxuICAgIGFkZFJlZGlyZWN0SGFuZGxlcnMocmVxdWVzdCwgb3B0aW9ucywgcmVqZWN0LCByZWRpcmVjdENvdW50LCBoYW5kbGVyKSB7XG4gICAgICAgIHJlcXVlc3Qub24oXCJyZWRpcmVjdFwiLCAoc3RhdHVzQ29kZSwgbWV0aG9kLCByZWRpcmVjdFVybCkgPT4ge1xuICAgICAgICAgICAgLy8gbm8gd2F5IHRvIG1vZGlmeSByZXF1ZXN0IG9wdGlvbnMsIGFib3J0IG9sZCBhbmQgbWFrZSBhIG5ldyBvbmVcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGVjdHJvbi9lbGVjdHJvbi9pc3N1ZXMvMTE1MDVcbiAgICAgICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgIGlmIChyZWRpcmVjdENvdW50ID4gdGhpcy5tYXhSZWRpcmVjdHMpIHtcbiAgICAgICAgICAgICAgICByZWplY3QodGhpcy5jcmVhdGVNYXhSZWRpcmVjdEVycm9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcihidWlsZGVyX3V0aWxfcnVudGltZV8xLkh0dHBFeGVjdXRvci5wcmVwYXJlUmVkaXJlY3RVcmxPcHRpb25zKHJlZGlyZWN0VXJsLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuRWxlY3Ryb25IdHRwRXhlY3V0b3IgPSBFbGVjdHJvbkh0dHBFeGVjdXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZWN0cm9uSHR0cEV4ZWN1dG9yLmpzLm1hcCIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBFc2NhcGVzIHRoZSBgUmVnRXhwYCBzcGVjaWFsIGNoYXJhY3RlcnMgXCJeXCIsIFwiJFwiLCBcIlxcXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsXG4gKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmVzY2FwZVJlZ0V4cCgnW2xvZGFzaF0oaHR0cHM6Ly9sb2Rhc2guY29tLyknKTtcbiAqIC8vID0+ICdcXFtsb2Rhc2hcXF1cXChodHRwczovL2xvZGFzaFxcLmNvbS9cXCknXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICA/IHN0cmluZy5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgOiBzdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXNjYXBlUmVnRXhwO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmJsb2NrbWFwRmlsZXMgPSBleHBvcnRzLmdldENoYW5uZWxGaWxlbmFtZSA9IGV4cG9ydHMubmV3VXJsRnJvbUJhc2UgPSBleHBvcnRzLm5ld0Jhc2VVcmwgPSB2b2lkIDA7XG4vLyBpZiBiYXNlVXJsIHBhdGggZG9lc24ndCBlbmRzIHdpdGggLywgdGhpcyBwYXRoIHdpbGwgYmUgbm90IHByZXBlbmRlZCB0byBwYXNzZWQgcGF0aG5hbWUgZm9yIG5ldyBVUkwoaW5wdXQsIGJhc2UpXG5jb25zdCB1cmxfMSA9IHJlcXVpcmUoXCJ1cmxcIik7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBlc2NhcGVSZWdFeHAgPSByZXF1aXJlKFwibG9kYXNoLmVzY2FwZXJlZ2V4cFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIG5ld0Jhc2VVcmwodXJsKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IHVybF8xLlVSTCh1cmwpO1xuICAgIGlmICghcmVzdWx0LnBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICByZXN1bHQucGF0aG5hbWUgKz0gXCIvXCI7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLm5ld0Jhc2VVcmwgPSBuZXdCYXNlVXJsO1xuLy8gYWRkUmFuZG9tUXVlcnlUb0F2b2lkQ2FjaGluZyBpcyBmYWxzZSBieSBkZWZhdWx0IGJlY2F1c2UgaW4gbW9zdCBjYXNlcyBVUkwgYWxyZWFkeSBjb250YWlucyB2ZXJzaW9uIG51bWJlcixcbi8vIHNvLCBpdCBtYWtlcyBzZW5zZSBvbmx5IGZvciBHZW5lcmljIFByb3ZpZGVyIGZvciBjaGFubmVsIGZpbGVzXG5mdW5jdGlvbiBuZXdVcmxGcm9tQmFzZShwYXRobmFtZSwgYmFzZVVybCwgYWRkUmFuZG9tUXVlcnlUb0F2b2lkQ2FjaGluZyA9IGZhbHNlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IHVybF8xLlVSTChwYXRobmFtZSwgYmFzZVVybCk7XG4gICAgLy8gc2VhcmNoIGlzIG5vdCBwcm9wYWdhdGVkIChzZWFyY2ggaXMgYW4gZW1wdHkgc3RyaW5nIGlmIG5vdCBzcGVjaWZpZWQpXG4gICAgY29uc3Qgc2VhcmNoID0gYmFzZVVybC5zZWFyY2g7XG4gICAgaWYgKHNlYXJjaCAhPSBudWxsICYmIHNlYXJjaC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgcmVzdWx0LnNlYXJjaCA9IHNlYXJjaDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYWRkUmFuZG9tUXVlcnlUb0F2b2lkQ2FjaGluZykge1xuICAgICAgICByZXN1bHQuc2VhcmNoID0gYG5vQ2FjaGU9JHtEYXRlLm5vdygpLnRvU3RyaW5nKDMyKX1gO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5uZXdVcmxGcm9tQmFzZSA9IG5ld1VybEZyb21CYXNlO1xuZnVuY3Rpb24gZ2V0Q2hhbm5lbEZpbGVuYW1lKGNoYW5uZWwpIHtcbiAgICByZXR1cm4gYCR7Y2hhbm5lbH0ueW1sYDtcbn1cbmV4cG9ydHMuZ2V0Q2hhbm5lbEZpbGVuYW1lID0gZ2V0Q2hhbm5lbEZpbGVuYW1lO1xuZnVuY3Rpb24gYmxvY2ttYXBGaWxlcyhiYXNlVXJsLCBvbGRWZXJzaW9uLCBuZXdWZXJzaW9uKSB7XG4gICAgY29uc3QgbmV3QmxvY2tNYXBVcmwgPSBuZXdVcmxGcm9tQmFzZShgJHtiYXNlVXJsLnBhdGhuYW1lfS5ibG9ja21hcGAsIGJhc2VVcmwpO1xuICAgIGNvbnN0IG9sZEJsb2NrTWFwVXJsID0gbmV3VXJsRnJvbUJhc2UoYCR7YmFzZVVybC5wYXRobmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKG5ld1ZlcnNpb24pLCBcImdcIiksIG9sZFZlcnNpb24pfS5ibG9ja21hcGAsIGJhc2VVcmwpO1xuICAgIHJldHVybiBbb2xkQmxvY2tNYXBVcmwsIG5ld0Jsb2NrTWFwVXJsXTtcbn1cbmV4cG9ydHMuYmxvY2ttYXBGaWxlcyA9IGJsb2NrbWFwRmlsZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXNvbHZlRmlsZXMgPSBleHBvcnRzLmdldEZpbGVMaXN0ID0gZXhwb3J0cy5wYXJzZVVwZGF0ZUluZm8gPSBleHBvcnRzLmZpbmRGaWxlID0gZXhwb3J0cy5Qcm92aWRlciA9IHZvaWQgMDtcbmNvbnN0IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEgPSByZXF1aXJlKFwiYnVpbGRlci11dGlsLXJ1bnRpbWVcIik7XG5jb25zdCBqc195YW1sXzEgPSByZXF1aXJlKFwianMteWFtbFwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xuY2xhc3MgUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKHJ1bnRpbWVPcHRpb25zKSB7XG4gICAgICAgIHRoaXMucnVudGltZU9wdGlvbnMgPSBydW50aW1lT3B0aW9ucztcbiAgICAgICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuZXhlY3V0b3IgPSBydW50aW1lT3B0aW9ucy5leGVjdXRvcjtcbiAgICB9XG4gICAgZ2V0IGlzVXNlTXVsdGlwbGVSYW5nZVJlcXVlc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bnRpbWVPcHRpb25zLmlzVXNlTXVsdGlwbGVSYW5nZVJlcXVlc3QgIT09IGZhbHNlO1xuICAgIH1cbiAgICBnZXRDaGFubmVsRmlsZVByZWZpeCgpIHtcbiAgICAgICAgaWYgKHRoaXMucnVudGltZU9wdGlvbnMucGxhdGZvcm0gPT09IFwibGludXhcIikge1xuICAgICAgICAgICAgY29uc3QgYXJjaCA9IHByb2Nlc3MuZW52W1wiVEVTVF9VUERBVEVSX0FSQ0hcIl0gfHwgcHJvY2Vzcy5hcmNoO1xuICAgICAgICAgICAgY29uc3QgYXJjaFN1ZmZpeCA9IGFyY2ggPT09IFwieDY0XCIgPyBcIlwiIDogYC0ke2FyY2h9YDtcbiAgICAgICAgICAgIHJldHVybiBcIi1saW51eFwiICsgYXJjaFN1ZmZpeDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJ1bnRpbWVPcHRpb25zLnBsYXRmb3JtID09PSBcImRhcndpblwiID8gXCItbWFjXCIgOiBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGR1ZSB0byBoaXN0b3JpY2FsIHJlYXNvbnMgZm9yIHdpbmRvd3Mgd2UgdXNlIGNoYW5uZWwgbmFtZSB3aXRob3V0IHBsYXRmb3JtIHNwZWNpZmllclxuICAgIGdldERlZmF1bHRDaGFubmVsTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VzdG9tQ2hhbm5lbE5hbWUoXCJsYXRlc3RcIik7XG4gICAgfVxuICAgIGdldEN1c3RvbUNoYW5uZWxOYW1lKGNoYW5uZWwpIHtcbiAgICAgICAgcmV0dXJuIGAke2NoYW5uZWx9JHt0aGlzLmdldENoYW5uZWxGaWxlUHJlZml4KCl9YDtcbiAgICB9XG4gICAgZ2V0IGZpbGVFeHRyYURvd25sb2FkSGVhZGVycygpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNldFJlcXVlc3RIZWFkZXJzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdEhlYWRlcnMgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIHBlcmZvcm0gQVBJIHJlcXVlc3Qgb25seSB0byByZXNvbHZlIHVwZGF0ZSBpbmZvLCBidXQgbm90IHRvIGRvd25sb2FkIHVwZGF0ZS5cbiAgICAgKi9cbiAgICBodHRwUmVxdWVzdCh1cmwsIGhlYWRlcnMsIGNhbmNlbGxhdGlvblRva2VuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dG9yLnJlcXVlc3QodGhpcy5jcmVhdGVSZXF1ZXN0T3B0aW9ucyh1cmwsIGhlYWRlcnMpLCBjYW5jZWxsYXRpb25Ub2tlbik7XG4gICAgfVxuICAgIGNyZWF0ZVJlcXVlc3RPcHRpb25zKHVybCwgaGVhZGVycykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMucmVxdWVzdEhlYWRlcnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGhlYWRlcnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5oZWFkZXJzID0gaGVhZGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5oZWFkZXJzID0gaGVhZGVycyA9PSBudWxsID8gdGhpcy5yZXF1ZXN0SGVhZGVycyA6IHsgLi4udGhpcy5yZXF1ZXN0SGVhZGVycywgLi4uaGVhZGVycyB9O1xuICAgICAgICB9XG4gICAgICAgIGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEuY29uZmlndXJlUmVxdWVzdFVybCh1cmwsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0cy5Qcm92aWRlciA9IFByb3ZpZGVyO1xuZnVuY3Rpb24gZmluZEZpbGUoZmlsZXMsIGV4dGVuc2lvbiwgbm90KSB7XG4gICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBidWlsZGVyX3V0aWxfcnVudGltZV8xLm5ld0Vycm9yKFwiTm8gZmlsZXMgcHJvdmlkZWRcIiwgXCJFUlJfVVBEQVRFUl9OT19GSUxFU19QUk9WSURFRFwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gZmlsZXMuZmluZChpdCA9PiBpdC51cmwucGF0aG5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChgLiR7ZXh0ZW5zaW9ufWApKTtcbiAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSBpZiAobm90ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZpbGVzWzBdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpbGVzLmZpbmQoZmlsZUluZm8gPT4gIW5vdC5zb21lKGV4dCA9PiBmaWxlSW5mby51cmwucGF0aG5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChgLiR7ZXh0fWApKSk7XG4gICAgfVxufVxuZXhwb3J0cy5maW5kRmlsZSA9IGZpbmRGaWxlO1xuZnVuY3Rpb24gcGFyc2VVcGRhdGVJbmZvKHJhd0RhdGEsIGNoYW5uZWxGaWxlLCBjaGFubmVsRmlsZVVybCkge1xuICAgIGlmIChyYXdEYXRhID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5uZXdFcnJvcihgQ2Fubm90IHBhcnNlIHVwZGF0ZSBpbmZvIGZyb20gJHtjaGFubmVsRmlsZX0gaW4gdGhlIGxhdGVzdCByZWxlYXNlIGFydGlmYWN0cyAoJHtjaGFubmVsRmlsZVVybH0pOiByYXdEYXRhOiBudWxsYCwgXCJFUlJfVVBEQVRFUl9JTlZBTElEX1VQREFURV9JTkZPXCIpO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGpzX3lhbWxfMS5sb2FkKHJhd0RhdGEpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBidWlsZGVyX3V0aWxfcnVudGltZV8xLm5ld0Vycm9yKGBDYW5ub3QgcGFyc2UgdXBkYXRlIGluZm8gZnJvbSAke2NoYW5uZWxGaWxlfSBpbiB0aGUgbGF0ZXN0IHJlbGVhc2UgYXJ0aWZhY3RzICgke2NoYW5uZWxGaWxlVXJsfSk6ICR7ZS5zdGFjayB8fCBlLm1lc3NhZ2V9LCByYXdEYXRhOiAke3Jhd0RhdGF9YCwgXCJFUlJfVVBEQVRFUl9JTlZBTElEX1VQREFURV9JTkZPXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5wYXJzZVVwZGF0ZUluZm8gPSBwYXJzZVVwZGF0ZUluZm87XG5mdW5jdGlvbiBnZXRGaWxlTGlzdCh1cGRhdGVJbmZvKSB7XG4gICAgY29uc3QgZmlsZXMgPSB1cGRhdGVJbmZvLmZpbGVzO1xuICAgIGlmIChmaWxlcyAhPSBudWxsICYmIGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGZpbGVzO1xuICAgIH1cbiAgICAvLyBub2luc3BlY3Rpb24gSlNEZXByZWNhdGVkU3ltYm9sc1xuICAgIGlmICh1cGRhdGVJbmZvLnBhdGggIT0gbnVsbCkge1xuICAgICAgICAvLyBub2luc3BlY3Rpb24gSlNEZXByZWNhdGVkU3ltYm9sc1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVybDogdXBkYXRlSW5mby5wYXRoLFxuICAgICAgICAgICAgICAgIHNoYTI6IHVwZGF0ZUluZm8uc2hhMixcbiAgICAgICAgICAgICAgICBzaGE1MTI6IHVwZGF0ZUluZm8uc2hhNTEyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYE5vIGZpbGVzIHByb3ZpZGVkOiAke2J1aWxkZXJfdXRpbF9ydW50aW1lXzEuc2FmZVN0cmluZ2lmeUpzb24odXBkYXRlSW5mbyl9YCwgXCJFUlJfVVBEQVRFUl9OT19GSUxFU19QUk9WSURFRFwiKTtcbiAgICB9XG59XG5leHBvcnRzLmdldEZpbGVMaXN0ID0gZ2V0RmlsZUxpc3Q7XG5mdW5jdGlvbiByZXNvbHZlRmlsZXModXBkYXRlSW5mbywgYmFzZVVybCwgcGF0aFRyYW5zZm9ybWVyID0gKHApID0+IHApIHtcbiAgICBjb25zdCBmaWxlcyA9IGdldEZpbGVMaXN0KHVwZGF0ZUluZm8pO1xuICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVzLm1hcChmaWxlSW5mbyA9PiB7XG4gICAgICAgIGlmIChmaWxlSW5mby5zaGEyID09IG51bGwgJiYgZmlsZUluZm8uc2hhNTEyID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYFVwZGF0ZSBpbmZvIGRvZXNuJ3QgY29udGFpbiBub3Igc2hhMjU2IG5laXRoZXIgc2hhNTEyIGNoZWNrc3VtOiAke2J1aWxkZXJfdXRpbF9ydW50aW1lXzEuc2FmZVN0cmluZ2lmeUpzb24oZmlsZUluZm8pfWAsIFwiRVJSX1VQREFURVJfTk9fQ0hFQ0tTVU1cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVybDogdXRpbF8xLm5ld1VybEZyb21CYXNlKHBhdGhUcmFuc2Zvcm1lcihmaWxlSW5mby51cmwpLCBiYXNlVXJsKSxcbiAgICAgICAgICAgIGluZm86IGZpbGVJbmZvLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHBhY2thZ2VzID0gdXBkYXRlSW5mby5wYWNrYWdlcztcbiAgICBjb25zdCBwYWNrYWdlSW5mbyA9IHBhY2thZ2VzID09IG51bGwgPyBudWxsIDogcGFja2FnZXNbcHJvY2Vzcy5hcmNoXSB8fCBwYWNrYWdlcy5pYTMyO1xuICAgIGlmIChwYWNrYWdlSW5mbyAhPSBudWxsKSB7XG4gICAgICAgIDtcbiAgICAgICAgcmVzdWx0WzBdLnBhY2thZ2VJbmZvID0ge1xuICAgICAgICAgICAgLi4ucGFja2FnZUluZm8sXG4gICAgICAgICAgICBwYXRoOiB1dGlsXzEubmV3VXJsRnJvbUJhc2UocGF0aFRyYW5zZm9ybWVyKHBhY2thZ2VJbmZvLnBhdGgpLCBiYXNlVXJsKS5ocmVmLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5yZXNvbHZlRmlsZXMgPSByZXNvbHZlRmlsZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm92aWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR2VuZXJpY1Byb3ZpZGVyID0gdm9pZCAwO1xuY29uc3QgYnVpbGRlcl91dGlsX3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJidWlsZGVyLXV0aWwtcnVudGltZVwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xuY29uc3QgUHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL1Byb3ZpZGVyXCIpO1xuY2xhc3MgR2VuZXJpY1Byb3ZpZGVyIGV4dGVuZHMgUHJvdmlkZXJfMS5Qcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbiwgdXBkYXRlciwgcnVudGltZU9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIocnVudGltZU9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSB1dGlsXzEubmV3QmFzZVVybCh0aGlzLmNvbmZpZ3VyYXRpb24udXJsKTtcbiAgICB9XG4gICAgZ2V0IGNoYW5uZWwoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMudXBkYXRlci5jaGFubmVsIHx8IHRoaXMuY29uZmlndXJhdGlvbi5jaGFubmVsO1xuICAgICAgICByZXR1cm4gcmVzdWx0ID09IG51bGwgPyB0aGlzLmdldERlZmF1bHRDaGFubmVsTmFtZSgpIDogdGhpcy5nZXRDdXN0b21DaGFubmVsTmFtZShyZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBnZXRMYXRlc3RWZXJzaW9uKCkge1xuICAgICAgICBjb25zdCBjaGFubmVsRmlsZSA9IHV0aWxfMS5nZXRDaGFubmVsRmlsZW5hbWUodGhpcy5jaGFubmVsKTtcbiAgICAgICAgY29uc3QgY2hhbm5lbFVybCA9IHV0aWxfMS5uZXdVcmxGcm9tQmFzZShjaGFubmVsRmlsZSwgdGhpcy5iYXNlVXJsLCB0aGlzLnVwZGF0ZXIuaXNBZGROb0NhY2hlUXVlcnkpO1xuICAgICAgICBmb3IgKGxldCBhdHRlbXB0TnVtYmVyID0gMDs7IGF0dGVtcHROdW1iZXIrKykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvdmlkZXJfMS5wYXJzZVVwZGF0ZUluZm8oYXdhaXQgdGhpcy5odHRwUmVxdWVzdChjaGFubmVsVXJsKSwgY2hhbm5lbEZpbGUsIGNoYW5uZWxVcmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEuSHR0cEVycm9yICYmIGUuc3RhdHVzQ29kZSA9PT0gNDA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYENhbm5vdCBmaW5kIGNoYW5uZWwgXCIke2NoYW5uZWxGaWxlfVwiIHVwZGF0ZSBpbmZvOiAke2Uuc3RhY2sgfHwgZS5tZXNzYWdlfWAsIFwiRVJSX1VQREFURVJfQ0hBTk5FTF9GSUxFX05PVF9GT1VORFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZS5jb2RlID09PSBcIkVDT05OUkVGVVNFRFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0TnVtYmVyIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCAqIGF0dGVtcHROdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlc29sdmVGaWxlcyh1cGRhdGVJbmZvKSB7XG4gICAgICAgIHJldHVybiBQcm92aWRlcl8xLnJlc29sdmVGaWxlcyh1cGRhdGVJbmZvLCB0aGlzLmJhc2VVcmwpO1xuICAgIH1cbn1cbmV4cG9ydHMuR2VuZXJpY1Byb3ZpZGVyID0gR2VuZXJpY1Byb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VuZXJpY1Byb3ZpZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CaW50cmF5Q2xpZW50ID0gdm9pZCAwO1xuY29uc3QgaHR0cEV4ZWN1dG9yXzEgPSByZXF1aXJlKFwiLi9odHRwRXhlY3V0b3JcIik7XG5jbGFzcyBCaW50cmF5Q2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBodHRwRXhlY3V0b3IsIGNhbmNlbGxhdGlvblRva2VuLCBhcGlLZXkpIHtcbiAgICAgICAgdGhpcy5odHRwRXhlY3V0b3IgPSBodHRwRXhlY3V0b3I7XG4gICAgICAgIHRoaXMuY2FuY2VsbGF0aW9uVG9rZW4gPSBjYW5jZWxsYXRpb25Ub2tlbjtcbiAgICAgICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLm93bmVyID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm93bmVyIGlzIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucGFja2FnZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYWNrYWdlIGlzIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXBvID0gb3B0aW9ucy5yZXBvIHx8IFwiZ2VuZXJpY1wiO1xuICAgICAgICB0aGlzLnBhY2thZ2VOYW1lID0gb3B0aW9ucy5wYWNrYWdlO1xuICAgICAgICB0aGlzLm93bmVyID0gb3B0aW9ucy5vd25lcjtcbiAgICAgICAgdGhpcy51c2VyID0gb3B0aW9ucy51c2VyIHx8IG9wdGlvbnMub3duZXI7XG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gb3B0aW9ucy5jb21wb25lbnQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5kaXN0cmlidXRpb24gPSBvcHRpb25zLmRpc3RyaWJ1dGlvbiB8fCBcInN0YWJsZVwiO1xuICAgICAgICB0aGlzLmF1dGggPSBhcGlLZXkgPT0gbnVsbCA/IG51bGwgOiBgQmFzaWMgJHtCdWZmZXIuZnJvbShgJHt0aGlzLnVzZXJ9OiR7YXBpS2V5fWApLnRvU3RyaW5nKFwiYmFzZTY0XCIpfWA7XG4gICAgICAgIHRoaXMuYmFzZVBhdGggPSBgL3BhY2thZ2VzLyR7dGhpcy5vd25lcn0vJHt0aGlzLnJlcG99LyR7dGhpcy5wYWNrYWdlTmFtZX1gO1xuICAgIH1cbiAgICBzZXRSZXF1ZXN0SGVhZGVycyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJlcXVlc3RIZWFkZXJzID0gdmFsdWU7XG4gICAgfVxuICAgIGJpbnRyYXlSZXF1ZXN0KHBhdGgsIGF1dGgsIGRhdGEgPSBudWxsLCBjYW5jZWxsYXRpb25Ub2tlbiwgbWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBodHRwRXhlY3V0b3JfMS5wYXJzZUpzb24odGhpcy5odHRwRXhlY3V0b3IucmVxdWVzdChodHRwRXhlY3V0b3JfMS5jb25maWd1cmVSZXF1ZXN0T3B0aW9ucyh7IGhvc3RuYW1lOiBcImFwaS5iaW50cmF5LmNvbVwiLCBwYXRoLCBoZWFkZXJzOiB0aGlzLnJlcXVlc3RIZWFkZXJzIHx8IHVuZGVmaW5lZCB9LCBhdXRoLCBtZXRob2QpLCBjYW5jZWxsYXRpb25Ub2tlbiwgZGF0YSkpO1xuICAgIH1cbiAgICBnZXRWZXJzaW9uKHZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmludHJheVJlcXVlc3QoYCR7dGhpcy5iYXNlUGF0aH0vdmVyc2lvbnMvJHt2ZXJzaW9ufWAsIHRoaXMuYXV0aCwgbnVsbCwgdGhpcy5jYW5jZWxsYXRpb25Ub2tlbik7XG4gICAgfVxuICAgIGdldFZlcnNpb25GaWxlcyh2ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpbnRyYXlSZXF1ZXN0KGAke3RoaXMuYmFzZVBhdGh9L3ZlcnNpb25zLyR7dmVyc2lvbn0vZmlsZXNgLCB0aGlzLmF1dGgsIG51bGwsIHRoaXMuY2FuY2VsbGF0aW9uVG9rZW4pO1xuICAgIH1cbiAgICBjcmVhdGVWZXJzaW9uKHZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmludHJheVJlcXVlc3QoYCR7dGhpcy5iYXNlUGF0aH0vdmVyc2lvbnNgLCB0aGlzLmF1dGgsIHtcbiAgICAgICAgICAgIG5hbWU6IHZlcnNpb24sXG4gICAgICAgIH0sIHRoaXMuY2FuY2VsbGF0aW9uVG9rZW4pO1xuICAgIH1cbiAgICBkZWxldGVWZXJzaW9uKHZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmludHJheVJlcXVlc3QoYCR7dGhpcy5iYXNlUGF0aH0vdmVyc2lvbnMvJHt2ZXJzaW9ufWAsIHRoaXMuYXV0aCwgbnVsbCwgdGhpcy5jYW5jZWxsYXRpb25Ub2tlbiwgXCJERUxFVEVcIik7XG4gICAgfVxufVxuZXhwb3J0cy5CaW50cmF5Q2xpZW50ID0gQmludHJheUNsaWVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpbnRyYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJpbnRyYXlQcm92aWRlciA9IHZvaWQgMDtcbmNvbnN0IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEgPSByZXF1aXJlKFwiYnVpbGRlci11dGlsLXJ1bnRpbWVcIik7XG5jb25zdCBiaW50cmF5XzEgPSByZXF1aXJlKFwiYnVpbGRlci11dGlsLXJ1bnRpbWUvb3V0L2JpbnRyYXlcIik7XG5jb25zdCB1cmxfMSA9IHJlcXVpcmUoXCJ1cmxcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vdXRpbFwiKTtcbmNvbnN0IFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9Qcm92aWRlclwiKTtcbmNsYXNzIEJpbnRyYXlQcm92aWRlciBleHRlbmRzIFByb3ZpZGVyXzEuUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24sIHJ1bnRpbWVPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHJ1bnRpbWVPcHRpb25zKTtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgYmludHJheV8xLkJpbnRyYXlDbGllbnQoY29uZmlndXJhdGlvbiwgcnVudGltZU9wdGlvbnMuZXhlY3V0b3IsIG5ldyBidWlsZGVyX3V0aWxfcnVudGltZV8xLkNhbmNlbGxhdGlvblRva2VuKCkpO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSB1dGlsXzEubmV3QmFzZVVybChgaHR0cHM6Ly9kbC5iaW50cmF5LmNvbS8ke3RoaXMuY2xpZW50Lm93bmVyfS8ke3RoaXMuY2xpZW50LnJlcG99YCk7XG4gICAgfVxuICAgIHNldFJlcXVlc3RIZWFkZXJzKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyLnNldFJlcXVlc3RIZWFkZXJzKHZhbHVlKTtcbiAgICAgICAgdGhpcy5jbGllbnQuc2V0UmVxdWVzdEhlYWRlcnModmFsdWUpO1xuICAgIH1cbiAgICBhc3luYyBnZXRMYXRlc3RWZXJzaW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldFZlcnNpb24oXCJfbGF0ZXN0XCIpO1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbEZpbGVuYW1lID0gdXRpbF8xLmdldENoYW5uZWxGaWxlbmFtZSh0aGlzLmdldERlZmF1bHRDaGFubmVsTmFtZSgpKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0VmVyc2lvbkZpbGVzKGRhdGEubmFtZSk7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRmlsZSA9IGZpbGVzLmZpbmQoaXQgPT4gaXQubmFtZS5lbmRzV2l0aChgXyR7Y2hhbm5lbEZpbGVuYW1lfWApIHx8IGl0Lm5hbWUuZW5kc1dpdGgoYC0ke2NoYW5uZWxGaWxlbmFtZX1gKSk7XG4gICAgICAgICAgICBpZiAoY2hhbm5lbEZpbGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIG5vaW5zcGVjdGlvbiBFeGNlcHRpb25DYXVnaHRMb2NhbGx5SlNcbiAgICAgICAgICAgICAgICB0aHJvdyBidWlsZGVyX3V0aWxfcnVudGltZV8xLm5ld0Vycm9yKGBDYW5ub3QgZmluZCBjaGFubmVsIGZpbGUgXCIke2NoYW5uZWxGaWxlbmFtZX1cIiwgZXhpc3RpbmcgZmlsZXM6XFxuJHtmaWxlcy5tYXAoaXQgPT4gSlNPTi5zdHJpbmdpZnkoaXQsIG51bGwsIDIpKS5qb2luKFwiLFxcblwiKX1gLCBcIkVSUl9VUERBVEVSX0NIQU5ORUxfRklMRV9OT1RfRk9VTkRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRmlsZVVybCA9IG5ldyB1cmxfMS5VUkwoYGh0dHBzOi8vZGwuYmludHJheS5jb20vJHt0aGlzLmNsaWVudC5vd25lcn0vJHt0aGlzLmNsaWVudC5yZXBvfS8ke2NoYW5uZWxGaWxlLm5hbWV9YCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvdmlkZXJfMS5wYXJzZVVwZGF0ZUluZm8oYXdhaXQgdGhpcy5odHRwUmVxdWVzdChjaGFubmVsRmlsZVVybCksIGNoYW5uZWxGaWxlbmFtZSwgY2hhbm5lbEZpbGVVcmwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoXCJzdGF0dXNDb2RlXCIgaW4gZSAmJiBlLnN0YXR1c0NvZGUgPT09IDQwNCkge1xuICAgICAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYE5vIGxhdGVzdCB2ZXJzaW9uLCBwbGVhc2UgZW5zdXJlIHRoYXQgdXNlciwgcGFja2FnZSBhbmQgcmVwb3NpdG9yeSBjb3JyZWN0bHkgY29uZmlndXJlZC4gT3IgYXQgbGVhc3Qgb25lIHZlcnNpb24gaXMgcHVibGlzaGVkLiAke2Uuc3RhY2sgfHwgZS5tZXNzYWdlfWAsIFwiRVJSX1VQREFURVJfTEFURVNUX1ZFUlNJT05fTk9UX0ZPVU5EXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNvbHZlRmlsZXModXBkYXRlSW5mbykge1xuICAgICAgICByZXR1cm4gUHJvdmlkZXJfMS5yZXNvbHZlRmlsZXModXBkYXRlSW5mbywgdGhpcy5iYXNlVXJsKTtcbiAgICB9XG59XG5leHBvcnRzLkJpbnRyYXlQcm92aWRlciA9IEJpbnRyYXlQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpbnRyYXlQcm92aWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQml0YnVja2V0UHJvdmlkZXIgPSB2b2lkIDA7XG5jb25zdCBidWlsZGVyX3V0aWxfcnVudGltZV8xID0gcmVxdWlyZShcImJ1aWxkZXItdXRpbC1ydW50aW1lXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uL3V0aWxcIik7XG5jb25zdCBQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vUHJvdmlkZXJcIik7XG5jbGFzcyBCaXRidWNrZXRQcm92aWRlciBleHRlbmRzIFByb3ZpZGVyXzEuUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24sIHVwZGF0ZXIsIHJ1bnRpbWVPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIC4uLnJ1bnRpbWVPcHRpb25zLFxuICAgICAgICAgICAgaXNVc2VNdWx0aXBsZVJhbmdlUmVxdWVzdDogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyO1xuICAgICAgICBjb25zdCB7IG93bmVyLCBzbHVnIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSB1dGlsXzEubmV3QmFzZVVybChgaHR0cHM6Ly9hcGkuYml0YnVja2V0Lm9yZy8yLjAvcmVwb3NpdG9yaWVzLyR7b3duZXJ9LyR7c2x1Z30vZG93bmxvYWRzYCk7XG4gICAgfVxuICAgIGdldCBjaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVyLmNoYW5uZWwgfHwgdGhpcy5jb25maWd1cmF0aW9uLmNoYW5uZWwgfHwgXCJsYXRlc3RcIjtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TGF0ZXN0VmVyc2lvbigpIHtcbiAgICAgICAgY29uc3QgY2FuY2VsbGF0aW9uVG9rZW4gPSBuZXcgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5DYW5jZWxsYXRpb25Ub2tlbigpO1xuICAgICAgICBjb25zdCBjaGFubmVsRmlsZSA9IHV0aWxfMS5nZXRDaGFubmVsRmlsZW5hbWUodGhpcy5nZXRDdXN0b21DaGFubmVsTmFtZSh0aGlzLmNoYW5uZWwpKTtcbiAgICAgICAgY29uc3QgY2hhbm5lbFVybCA9IHV0aWxfMS5uZXdVcmxGcm9tQmFzZShjaGFubmVsRmlsZSwgdGhpcy5iYXNlVXJsLCB0aGlzLnVwZGF0ZXIuaXNBZGROb0NhY2hlUXVlcnkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlSW5mbyA9IGF3YWl0IHRoaXMuaHR0cFJlcXVlc3QoY2hhbm5lbFVybCwgdW5kZWZpbmVkLCBjYW5jZWxsYXRpb25Ub2tlbik7XG4gICAgICAgICAgICByZXR1cm4gUHJvdmlkZXJfMS5wYXJzZVVwZGF0ZUluZm8odXBkYXRlSW5mbywgY2hhbm5lbEZpbGUsIGNoYW5uZWxVcmwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBidWlsZGVyX3V0aWxfcnVudGltZV8xLm5ld0Vycm9yKGBVbmFibGUgdG8gZmluZCBsYXRlc3QgdmVyc2lvbiBvbiAke3RoaXMudG9TdHJpbmcoKX0sIHBsZWFzZSBlbnN1cmUgcmVsZWFzZSBleGlzdHM6ICR7ZS5zdGFjayB8fCBlLm1lc3NhZ2V9YCwgXCJFUlJfVVBEQVRFUl9MQVRFU1RfVkVSU0lPTl9OT1RfRk9VTkRcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzb2x2ZUZpbGVzKHVwZGF0ZUluZm8pIHtcbiAgICAgICAgcmV0dXJuIFByb3ZpZGVyXzEucmVzb2x2ZUZpbGVzKHVwZGF0ZUluZm8sIHRoaXMuYmFzZVVybCk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCB7IG93bmVyLCBzbHVnIH0gPSB0aGlzLmNvbmZpZ3VyYXRpb247XG4gICAgICAgIHJldHVybiBgQml0YnVja2V0IChvd25lcjogJHtvd25lcn0sIHNsdWc6ICR7c2x1Z30sIGNoYW5uZWw6ICR7dGhpcy5jaGFubmVsfSlgO1xuICAgIH1cbn1cbmV4cG9ydHMuQml0YnVja2V0UHJvdmlkZXIgPSBCaXRidWNrZXRQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdGJ1Y2tldFByb3ZpZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21wdXRlUmVsZWFzZU5vdGVzID0gZXhwb3J0cy5HaXRIdWJQcm92aWRlciA9IGV4cG9ydHMuQmFzZUdpdEh1YlByb3ZpZGVyID0gdm9pZCAwO1xuY29uc3QgYnVpbGRlcl91dGlsX3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJidWlsZGVyLXV0aWwtcnVudGltZVwiKTtcbmNvbnN0IHNlbXZlciA9IHJlcXVpcmUoXCJzZW12ZXJcIik7XG5jb25zdCB1cmxfMSA9IHJlcXVpcmUoXCJ1cmxcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vdXRpbFwiKTtcbmNvbnN0IFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9Qcm92aWRlclwiKTtcbmNvbnN0IGhyZWZSZWdFeHAgPSAvXFwvdGFnXFwvKFteL10rKSQvO1xuY2xhc3MgQmFzZUdpdEh1YlByb3ZpZGVyIGV4dGVuZHMgUHJvdmlkZXJfMS5Qcm92aWRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgZGVmYXVsdEhvc3QsIHJ1bnRpbWVPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIC4uLnJ1bnRpbWVPcHRpb25zLFxuICAgICAgICAgICAgLyogYmVjYXVzZSBHaXRIaWIgdXNlcyBTMyAqL1xuICAgICAgICAgICAgaXNVc2VNdWx0aXBsZVJhbmdlUmVxdWVzdDogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSB1dGlsXzEubmV3QmFzZVVybChidWlsZGVyX3V0aWxfcnVudGltZV8xLmdpdGh1YlVybChvcHRpb25zLCBkZWZhdWx0SG9zdCkpO1xuICAgICAgICBjb25zdCBhcGlIb3N0ID0gZGVmYXVsdEhvc3QgPT09IFwiZ2l0aHViLmNvbVwiID8gXCJhcGkuZ2l0aHViLmNvbVwiIDogZGVmYXVsdEhvc3Q7XG4gICAgICAgIHRoaXMuYmFzZUFwaVVybCA9IHV0aWxfMS5uZXdCYXNlVXJsKGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEuZ2l0aHViVXJsKG9wdGlvbnMsIGFwaUhvc3QpKTtcbiAgICB9XG4gICAgY29tcHV0ZUdpdGh1YkJhc2VQYXRoKHJlc3VsdCkge1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZWxlY3Ryb24tdXNlcmxhbmQvZWxlY3Ryb24tYnVpbGRlci9pc3N1ZXMvMTkwMyNpc3N1ZWNvbW1lbnQtMzIwODgxMjExXG4gICAgICAgIGNvbnN0IGhvc3QgPSB0aGlzLm9wdGlvbnMuaG9zdDtcbiAgICAgICAgcmV0dXJuIGhvc3QgIT0gbnVsbCAmJiBob3N0ICE9PSBcImdpdGh1Yi5jb21cIiAmJiBob3N0ICE9PSBcImFwaS5naXRodWIuY29tXCIgPyBgL2FwaS92MyR7cmVzdWx0fWAgOiByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0cy5CYXNlR2l0SHViUHJvdmlkZXIgPSBCYXNlR2l0SHViUHJvdmlkZXI7XG5jbGFzcyBHaXRIdWJQcm92aWRlciBleHRlbmRzIEJhc2VHaXRIdWJQcm92aWRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgdXBkYXRlciwgcnVudGltZU9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucywgXCJnaXRodWIuY29tXCIsIHJ1bnRpbWVPcHRpb25zKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlcjtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TGF0ZXN0VmVyc2lvbigpIHtcbiAgICAgICAgY29uc3QgY2FuY2VsbGF0aW9uVG9rZW4gPSBuZXcgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5DYW5jZWxsYXRpb25Ub2tlbigpO1xuICAgICAgICBjb25zdCBmZWVkWG1sID0gKGF3YWl0IHRoaXMuaHR0cFJlcXVlc3QodXRpbF8xLm5ld1VybEZyb21CYXNlKGAke3RoaXMuYmFzZVBhdGh9LmF0b21gLCB0aGlzLmJhc2VVcmwpLCB7XG4gICAgICAgICAgICBhY2NlcHQ6IFwiYXBwbGljYXRpb24veG1sLCBhcHBsaWNhdGlvbi9hdG9tK3htbCwgdGV4dC94bWwsICovKlwiLFxuICAgICAgICB9LCBjYW5jZWxsYXRpb25Ub2tlbikpO1xuICAgICAgICBjb25zdCBmZWVkID0gYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5wYXJzZVhtbChmZWVkWG1sKTtcbiAgICAgICAgLy8gbm9pbnNwZWN0aW9uIFR5cGVTY3JpcHRWYWxpZGF0ZUpTVHlwZXNcbiAgICAgICAgbGV0IGxhdGVzdFJlbGVhc2UgPSBmZWVkLmVsZW1lbnQoXCJlbnRyeVwiLCBmYWxzZSwgYE5vIHB1Ymxpc2hlZCB2ZXJzaW9ucyBvbiBHaXRIdWJgKTtcbiAgICAgICAgbGV0IHRhZztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZXIuYWxsb3dQcmVyZWxlYXNlKSB7XG4gICAgICAgICAgICAgICAgLy8gbm9pbnNwZWN0aW9uIFR5cGVTY3JpcHRWYWxpZGF0ZUpTVHlwZXNcbiAgICAgICAgICAgICAgICB0YWcgPSBocmVmUmVnRXhwLmV4ZWMobGF0ZXN0UmVsZWFzZS5lbGVtZW50KFwibGlua1wiKS5hdHRyaWJ1dGUoXCJocmVmXCIpKVsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhZyA9IGF3YWl0IHRoaXMuZ2V0TGF0ZXN0VGFnTmFtZShjYW5jZWxsYXRpb25Ub2tlbik7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGZlZWQuZ2V0RWxlbWVudHMoXCJlbnRyeVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBub2luc3BlY3Rpb24gVHlwZVNjcmlwdFZhbGlkYXRlSlNUeXBlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHJlZlJlZ0V4cC5leGVjKGVsZW1lbnQuZWxlbWVudChcImxpbmtcIikuYXR0cmlidXRlKFwiaHJlZlwiKSlbMV0gPT09IHRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0UmVsZWFzZSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5uZXdFcnJvcihgQ2Fubm90IHBhcnNlIHJlbGVhc2VzIGZlZWQ6ICR7ZS5zdGFjayB8fCBlLm1lc3NhZ2V9LFxcblhNTDpcXG4ke2ZlZWRYbWx9YCwgXCJFUlJfVVBEQVRFUl9JTlZBTElEX1JFTEVBU0VfRkVFRFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYE5vIHB1Ymxpc2hlZCB2ZXJzaW9ucyBvbiBHaXRIdWJgLCBcIkVSUl9VUERBVEVSX05PX1BVQkxJU0hFRF9WRVJTSU9OU1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFubmVsRmlsZSA9IHV0aWxfMS5nZXRDaGFubmVsRmlsZW5hbWUodGhpcy5nZXREZWZhdWx0Q2hhbm5lbE5hbWUoKSk7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxGaWxlVXJsID0gdXRpbF8xLm5ld1VybEZyb21CYXNlKHRoaXMuZ2V0QmFzZURvd25sb2FkUGF0aCh0YWcsIGNoYW5uZWxGaWxlKSwgdGhpcy5iYXNlVXJsKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RPcHRpb25zKGNoYW5uZWxGaWxlVXJsKTtcbiAgICAgICAgbGV0IHJhd0RhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByYXdEYXRhID0gKGF3YWl0IHRoaXMuZXhlY3V0b3IucmVxdWVzdChyZXF1ZXN0T3B0aW9ucywgY2FuY2VsbGF0aW9uVG9rZW4pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnVwZGF0ZXIuYWxsb3dQcmVyZWxlYXNlICYmIGUgaW5zdGFuY2VvZiBidWlsZGVyX3V0aWxfcnVudGltZV8xLkh0dHBFcnJvciAmJiBlLnN0YXR1c0NvZGUgPT09IDQwNCkge1xuICAgICAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYENhbm5vdCBmaW5kICR7Y2hhbm5lbEZpbGV9IGluIHRoZSBsYXRlc3QgcmVsZWFzZSBhcnRpZmFjdHMgKCR7Y2hhbm5lbEZpbGVVcmx9KTogJHtlLnN0YWNrIHx8IGUubWVzc2FnZX1gLCBcIkVSUl9VUERBVEVSX0NIQU5ORUxfRklMRV9OT1RfRk9VTkRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFByb3ZpZGVyXzEucGFyc2VVcGRhdGVJbmZvKHJhd0RhdGEsIGNoYW5uZWxGaWxlLCBjaGFubmVsRmlsZVVybCk7XG4gICAgICAgIGlmIChyZXN1bHQucmVsZWFzZU5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0LnJlbGVhc2VOYW1lID0gbGF0ZXN0UmVsZWFzZS5lbGVtZW50VmFsdWVPckVtcHR5KFwidGl0bGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5yZWxlYXNlTm90ZXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0LnJlbGVhc2VOb3RlcyA9IGNvbXB1dGVSZWxlYXNlTm90ZXModGhpcy51cGRhdGVyLmN1cnJlbnRWZXJzaW9uLCB0aGlzLnVwZGF0ZXIuZnVsbENoYW5nZWxvZywgZmVlZCwgbGF0ZXN0UmVsZWFzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRhZzogdGFnLFxuICAgICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRMYXRlc3RUYWdOYW1lKGNhbmNlbGxhdGlvblRva2VuKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIC8vIGRvIG5vdCB1c2UgQVBJIGZvciBHaXRIdWIgdG8gYXZvaWQgbGltaXQsIG9ubHkgZm9yIGN1c3RvbSBob3N0IG9yIEdpdEh1YiBFbnRlcnByaXNlXG4gICAgICAgIGNvbnN0IHVybCA9IG9wdGlvbnMuaG9zdCA9PSBudWxsIHx8IG9wdGlvbnMuaG9zdCA9PT0gXCJnaXRodWIuY29tXCJcbiAgICAgICAgICAgID8gdXRpbF8xLm5ld1VybEZyb21CYXNlKGAke3RoaXMuYmFzZVBhdGh9L2xhdGVzdGAsIHRoaXMuYmFzZVVybClcbiAgICAgICAgICAgIDogbmV3IHVybF8xLlVSTChgJHt0aGlzLmNvbXB1dGVHaXRodWJCYXNlUGF0aChgL3JlcG9zLyR7b3B0aW9ucy5vd25lcn0vJHtvcHRpb25zLnJlcG99L3JlbGVhc2VzYCl9L2xhdGVzdGAsIHRoaXMuYmFzZUFwaVVybCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByYXdEYXRhID0gYXdhaXQgdGhpcy5odHRwUmVxdWVzdCh1cmwsIHsgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LCBjYW5jZWxsYXRpb25Ub2tlbik7XG4gICAgICAgICAgICBpZiAocmF3RGF0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZWxlYXNlSW5mbyA9IEpTT04ucGFyc2UocmF3RGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gcmVsZWFzZUluZm8udGFnX25hbWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYFVuYWJsZSB0byBmaW5kIGxhdGVzdCB2ZXJzaW9uIG9uIEdpdEh1YiAoJHt1cmx9KSwgcGxlYXNlIGVuc3VyZSBhIHByb2R1Y3Rpb24gcmVsZWFzZSBleGlzdHM6ICR7ZS5zdGFjayB8fCBlLm1lc3NhZ2V9YCwgXCJFUlJfVVBEQVRFUl9MQVRFU1RfVkVSU0lPTl9OT1RfRk9VTkRcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGJhc2VQYXRoKCkge1xuICAgICAgICByZXR1cm4gYC8ke3RoaXMub3B0aW9ucy5vd25lcn0vJHt0aGlzLm9wdGlvbnMucmVwb30vcmVsZWFzZXNgO1xuICAgIH1cbiAgICByZXNvbHZlRmlsZXModXBkYXRlSW5mbykge1xuICAgICAgICAvLyBzdGlsbCByZXBsYWNlIHNwYWNlIHRvIC0gZHVlIHRvIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgcmV0dXJuIFByb3ZpZGVyXzEucmVzb2x2ZUZpbGVzKHVwZGF0ZUluZm8sIHRoaXMuYmFzZVVybCwgcCA9PiB0aGlzLmdldEJhc2VEb3dubG9hZFBhdGgodXBkYXRlSW5mby50YWcsIHAucmVwbGFjZSgvIC9nLCBcIi1cIikpKTtcbiAgICB9XG4gICAgZ2V0QmFzZURvd25sb2FkUGF0aCh0YWcsIGZpbGVOYW1lKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmJhc2VQYXRofS9kb3dubG9hZC8ke3RhZ30vJHtmaWxlTmFtZX1gO1xuICAgIH1cbn1cbmV4cG9ydHMuR2l0SHViUHJvdmlkZXIgPSBHaXRIdWJQcm92aWRlcjtcbmZ1bmN0aW9uIGdldE5vdGVWYWx1ZShwYXJlbnQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBwYXJlbnQuZWxlbWVudFZhbHVlT3JFbXB0eShcImNvbnRlbnRcIik7XG4gICAgLy8gR2l0SHViIHJlcG9ydHMgZW1wdHkgbm90ZXMgYXMgPGNvbnRlbnQ+Tm8gY29udGVudC48L2NvbnRlbnQ+XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gXCJObyBjb250ZW50LlwiID8gXCJcIiA6IHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVSZWxlYXNlTm90ZXMoY3VycmVudFZlcnNpb24sIGlzRnVsbENoYW5nZWxvZywgZmVlZCwgbGF0ZXN0UmVsZWFzZSkge1xuICAgIGlmICghaXNGdWxsQ2hhbmdlbG9nKSB7XG4gICAgICAgIHJldHVybiBnZXROb3RlVmFsdWUobGF0ZXN0UmVsZWFzZSk7XG4gICAgfVxuICAgIGNvbnN0IHJlbGVhc2VOb3RlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVsZWFzZSBvZiBmZWVkLmdldEVsZW1lbnRzKFwiZW50cnlcIikpIHtcbiAgICAgICAgLy8gbm9pbnNwZWN0aW9uIFR5cGVTY3JpcHRWYWxpZGF0ZUpTVHlwZXNcbiAgICAgICAgY29uc3QgdmVyc2lvblJlbGVhc2UgPSAvXFwvdGFnXFwvdj8oW14vXSspJC8uZXhlYyhyZWxlYXNlLmVsZW1lbnQoXCJsaW5rXCIpLmF0dHJpYnV0ZShcImhyZWZcIikpWzFdO1xuICAgICAgICBpZiAoc2VtdmVyLmx0KGN1cnJlbnRWZXJzaW9uLCB2ZXJzaW9uUmVsZWFzZSkpIHtcbiAgICAgICAgICAgIHJlbGVhc2VOb3Rlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uUmVsZWFzZSxcbiAgICAgICAgICAgICAgICBub3RlOiBnZXROb3RlVmFsdWUocmVsZWFzZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVsZWFzZU5vdGVzLnNvcnQoKGEsIGIpID0+IHNlbXZlci5yY29tcGFyZShhLnZlcnNpb24sIGIudmVyc2lvbikpO1xufVxuZXhwb3J0cy5jb21wdXRlUmVsZWFzZU5vdGVzID0gY29tcHV0ZVJlbGVhc2VOb3Rlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdpdEh1YlByb3ZpZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5LZXlnZW5Qcm92aWRlciA9IHZvaWQgMDtcbmNvbnN0IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEgPSByZXF1aXJlKFwiYnVpbGRlci11dGlsLXJ1bnRpbWVcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vdXRpbFwiKTtcbmNvbnN0IFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9Qcm92aWRlclwiKTtcbmNsYXNzIEtleWdlblByb3ZpZGVyIGV4dGVuZHMgUHJvdmlkZXJfMS5Qcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbiwgdXBkYXRlciwgcnVudGltZU9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgLi4ucnVudGltZU9wdGlvbnMsXG4gICAgICAgICAgICBpc1VzZU11bHRpcGxlUmFuZ2VSZXF1ZXN0OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXI7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9IHV0aWxfMS5uZXdCYXNlVXJsKGBodHRwczovL2FwaS5rZXlnZW4uc2gvdjEvYWNjb3VudHMvJHt0aGlzLmNvbmZpZ3VyYXRpb24uYWNjb3VudH0vYXJ0aWZhY3RzYCk7XG4gICAgfVxuICAgIGdldCBjaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVyLmNoYW5uZWwgfHwgdGhpcy5jb25maWd1cmF0aW9uLmNoYW5uZWwgfHwgXCJzdGFibGVcIjtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TGF0ZXN0VmVyc2lvbigpIHtcbiAgICAgICAgY29uc3QgY2FuY2VsbGF0aW9uVG9rZW4gPSBuZXcgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5DYW5jZWxsYXRpb25Ub2tlbigpO1xuICAgICAgICBjb25zdCBjaGFubmVsRmlsZSA9IHV0aWxfMS5nZXRDaGFubmVsRmlsZW5hbWUodGhpcy5nZXRDdXN0b21DaGFubmVsTmFtZSh0aGlzLmNoYW5uZWwpKTtcbiAgICAgICAgY29uc3QgY2hhbm5lbFVybCA9IHV0aWxfMS5uZXdVcmxGcm9tQmFzZShjaGFubmVsRmlsZSwgdGhpcy5iYXNlVXJsLCB0aGlzLnVwZGF0ZXIuaXNBZGROb0NhY2hlUXVlcnkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlSW5mbyA9IGF3YWl0IHRoaXMuaHR0cFJlcXVlc3QoY2hhbm5lbFVybCwge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi92bmQuYXBpK2pzb25cIixcbiAgICAgICAgICAgIH0sIGNhbmNlbGxhdGlvblRva2VuKTtcbiAgICAgICAgICAgIHJldHVybiBQcm92aWRlcl8xLnBhcnNlVXBkYXRlSW5mbyh1cGRhdGVJbmZvLCBjaGFubmVsRmlsZSwgY2hhbm5lbFVybCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYFVuYWJsZSB0byBmaW5kIGxhdGVzdCB2ZXJzaW9uIG9uICR7dGhpcy50b1N0cmluZygpfSwgcGxlYXNlIGVuc3VyZSByZWxlYXNlIGV4aXN0czogJHtlLnN0YWNrIHx8IGUubWVzc2FnZX1gLCBcIkVSUl9VUERBVEVSX0xBVEVTVF9WRVJTSU9OX05PVF9GT1VORFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNvbHZlRmlsZXModXBkYXRlSW5mbykge1xuICAgICAgICByZXR1cm4gUHJvdmlkZXJfMS5yZXNvbHZlRmlsZXModXBkYXRlSW5mbywgdGhpcy5iYXNlVXJsKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IHsgYWNjb3VudCwgcHJvZHVjdCwgcGxhdGZvcm0gfSA9IHRoaXMuY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIGBLZXlnZW4gKGFjY291bnQ6ICR7YWNjb3VudH0sIHByb2R1Y3Q6ICR7cHJvZHVjdH0sIHBsYXRmb3JtOiAke3BsYXRmb3JtfSwgY2hhbm5lbDogJHt0aGlzLmNoYW5uZWx9KWA7XG4gICAgfVxufVxuZXhwb3J0cy5LZXlnZW5Qcm92aWRlciA9IEtleWdlblByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2V5Z2VuUHJvdmlkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlByaXZhdGVHaXRIdWJQcm92aWRlciA9IHZvaWQgMDtcbmNvbnN0IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEgPSByZXF1aXJlKFwiYnVpbGRlci11dGlsLXJ1bnRpbWVcIik7XG5jb25zdCBqc195YW1sXzEgPSByZXF1aXJlKFwianMteWFtbFwiKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbmNvbnN0IHVybF8xID0gcmVxdWlyZShcInVybFwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xuY29uc3QgR2l0SHViUHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL0dpdEh1YlByb3ZpZGVyXCIpO1xuY29uc3QgUHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL1Byb3ZpZGVyXCIpO1xuY2xhc3MgUHJpdmF0ZUdpdEh1YlByb3ZpZGVyIGV4dGVuZHMgR2l0SHViUHJvdmlkZXJfMS5CYXNlR2l0SHViUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHVwZGF0ZXIsIHRva2VuLCBydW50aW1lT3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zLCBcImFwaS5naXRodWIuY29tXCIsIHJ1bnRpbWVPcHRpb25zKTtcbiAgICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlcjtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIH1cbiAgICBjcmVhdGVSZXF1ZXN0T3B0aW9ucyh1cmwsIGhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3VwZXIuY3JlYXRlUmVxdWVzdE9wdGlvbnModXJsLCBoZWFkZXJzKTtcbiAgICAgICAgcmVzdWx0LnJlZGlyZWN0ID0gXCJtYW51YWxcIjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TGF0ZXN0VmVyc2lvbigpIHtcbiAgICAgICAgY29uc3QgY2FuY2VsbGF0aW9uVG9rZW4gPSBuZXcgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5DYW5jZWxsYXRpb25Ub2tlbigpO1xuICAgICAgICBjb25zdCBjaGFubmVsRmlsZSA9IHV0aWxfMS5nZXRDaGFubmVsRmlsZW5hbWUodGhpcy5nZXREZWZhdWx0Q2hhbm5lbE5hbWUoKSk7XG4gICAgICAgIGNvbnN0IHJlbGVhc2VJbmZvID0gYXdhaXQgdGhpcy5nZXRMYXRlc3RWZXJzaW9uSW5mbyhjYW5jZWxsYXRpb25Ub2tlbik7XG4gICAgICAgIGNvbnN0IGFzc2V0ID0gcmVsZWFzZUluZm8uYXNzZXRzLmZpbmQoaXQgPT4gaXQubmFtZSA9PT0gY2hhbm5lbEZpbGUpO1xuICAgICAgICBpZiAoYXNzZXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaHRtbF91cmwgbXVzdCBiZSBhbHdheXMsIGJ1dCBqdXN0IHRvIGJlIHN1cmVcbiAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYENhbm5vdCBmaW5kICR7Y2hhbm5lbEZpbGV9IGluIHRoZSByZWxlYXNlICR7cmVsZWFzZUluZm8uaHRtbF91cmwgfHwgcmVsZWFzZUluZm8ubmFtZX1gLCBcIkVSUl9VUERBVEVSX0NIQU5ORUxfRklMRV9OT1RfRk9VTkRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJsID0gbmV3IHVybF8xLlVSTChhc3NldC51cmwpO1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0ganNfeWFtbF8xLmxvYWQoKGF3YWl0IHRoaXMuaHR0cFJlcXVlc3QodXJsLCB0aGlzLmNvbmZpZ3VyZUhlYWRlcnMoXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIiksIGNhbmNlbGxhdGlvblRva2VuKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEuSHR0cEVycm9yICYmIGUuc3RhdHVzQ29kZSA9PT0gNDA0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5uZXdFcnJvcihgQ2Fubm90IGZpbmQgJHtjaGFubmVsRmlsZX0gaW4gdGhlIGxhdGVzdCByZWxlYXNlIGFydGlmYWN0cyAoJHt1cmx9KTogJHtlLnN0YWNrIHx8IGUubWVzc2FnZX1gLCBcIkVSUl9VUERBVEVSX0NIQU5ORUxfRklMRV9OT1RfRk9VTkRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgcmVzdWx0LmFzc2V0cyA9IHJlbGVhc2VJbmZvLmFzc2V0cztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZ2V0IGZpbGVFeHRyYURvd25sb2FkSGVhZGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlSGVhZGVycyhcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1mdW5jdGlvbi1yZXR1cm4tdHlwZVxuICAgIGNvbmZpZ3VyZUhlYWRlcnMoYWNjZXB0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2NlcHQsXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uOiBgdG9rZW4gJHt0aGlzLnRva2VufWAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGdldExhdGVzdFZlcnNpb25JbmZvKGNhbmNlbGxhdGlvblRva2VuKSB7XG4gICAgICAgIGNvbnN0IGFsbG93UHJlcmVsZWFzZSA9IHRoaXMudXBkYXRlci5hbGxvd1ByZXJlbGVhc2U7XG4gICAgICAgIGxldCBiYXNlUGF0aCA9IHRoaXMuYmFzZVBhdGg7XG4gICAgICAgIGlmICghYWxsb3dQcmVyZWxlYXNlKSB7XG4gICAgICAgICAgICBiYXNlUGF0aCA9IGAke2Jhc2VQYXRofS9sYXRlc3RgO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVybCA9IHV0aWxfMS5uZXdVcmxGcm9tQmFzZShiYXNlUGF0aCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBKU09OLnBhcnNlKChhd2FpdCB0aGlzLmh0dHBSZXF1ZXN0KHVybCwgdGhpcy5jb25maWd1cmVIZWFkZXJzKFwiYXBwbGljYXRpb24vdm5kLmdpdGh1Yi52Mytqc29uXCIpLCBjYW5jZWxsYXRpb25Ub2tlbikpKTtcbiAgICAgICAgICAgIGlmIChhbGxvd1ByZXJlbGVhc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbi5maW5kKGl0ID0+IGl0LnByZXJlbGVhc2UpIHx8IHZlcnNpb25bMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5uZXdFcnJvcihgVW5hYmxlIHRvIGZpbmQgbGF0ZXN0IHZlcnNpb24gb24gR2l0SHViICgke3VybH0pLCBwbGVhc2UgZW5zdXJlIGEgcHJvZHVjdGlvbiByZWxlYXNlIGV4aXN0czogJHtlLnN0YWNrIHx8IGUubWVzc2FnZX1gLCBcIkVSUl9VUERBVEVSX0xBVEVTVF9WRVJTSU9OX05PVF9GT1VORFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgYmFzZVBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVHaXRodWJCYXNlUGF0aChgL3JlcG9zLyR7dGhpcy5vcHRpb25zLm93bmVyfS8ke3RoaXMub3B0aW9ucy5yZXBvfS9yZWxlYXNlc2ApO1xuICAgIH1cbiAgICByZXNvbHZlRmlsZXModXBkYXRlSW5mbykge1xuICAgICAgICByZXR1cm4gUHJvdmlkZXJfMS5nZXRGaWxlTGlzdCh1cGRhdGVJbmZvKS5tYXAoaXQgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHBhdGgucG9zaXguYmFzZW5hbWUoaXQudXJsKS5yZXBsYWNlKC8gL2csIFwiLVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGFzc2V0ID0gdXBkYXRlSW5mby5hc3NldHMuZmluZChpdCA9PiBpdCAhPSBudWxsICYmIGl0Lm5hbWUgPT09IG5hbWUpO1xuICAgICAgICAgICAgaWYgKGFzc2V0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBidWlsZGVyX3V0aWxfcnVudGltZV8xLm5ld0Vycm9yKGBDYW5ub3QgZmluZCBhc3NldCBcIiR7bmFtZX1cIiBpbjogJHtKU09OLnN0cmluZ2lmeSh1cGRhdGVJbmZvLmFzc2V0cywgbnVsbCwgMil9YCwgXCJFUlJfVVBEQVRFUl9BU1NFVF9OT1RfRk9VTkRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogbmV3IHVybF8xLlVSTChhc3NldC51cmwpLFxuICAgICAgICAgICAgICAgIGluZm86IGl0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5Qcml2YXRlR2l0SHViUHJvdmlkZXIgPSBQcml2YXRlR2l0SHViUHJvdmlkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcml2YXRlR2l0SHViUHJvdmlkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUNsaWVudCA9IGV4cG9ydHMuaXNVcmxQcm9iYWJseVN1cHBvcnRNdWx0aVJhbmdlUmVxdWVzdHMgPSB2b2lkIDA7XG5jb25zdCBidWlsZGVyX3V0aWxfcnVudGltZV8xID0gcmVxdWlyZShcImJ1aWxkZXItdXRpbC1ydW50aW1lXCIpO1xuY29uc3QgQmludHJheVByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9wcm92aWRlcnMvQmludHJheVByb3ZpZGVyXCIpO1xuY29uc3QgQml0YnVja2V0UHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL3Byb3ZpZGVycy9CaXRidWNrZXRQcm92aWRlclwiKTtcbmNvbnN0IEdlbmVyaWNQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vcHJvdmlkZXJzL0dlbmVyaWNQcm92aWRlclwiKTtcbmNvbnN0IEdpdEh1YlByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9wcm92aWRlcnMvR2l0SHViUHJvdmlkZXJcIik7XG5jb25zdCBLZXlnZW5Qcm92aWRlcl8xID0gcmVxdWlyZShcIi4vcHJvdmlkZXJzL0tleWdlblByb3ZpZGVyXCIpO1xuY29uc3QgUHJpdmF0ZUdpdEh1YlByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9wcm92aWRlcnMvUHJpdmF0ZUdpdEh1YlByb3ZpZGVyXCIpO1xuZnVuY3Rpb24gaXNVcmxQcm9iYWJseVN1cHBvcnRNdWx0aVJhbmdlUmVxdWVzdHModXJsKSB7XG4gICAgcmV0dXJuICF1cmwuaW5jbHVkZXMoXCJzMy5hbWF6b25hd3MuY29tXCIpO1xufVxuZXhwb3J0cy5pc1VybFByb2JhYmx5U3VwcG9ydE11bHRpUmFuZ2VSZXF1ZXN0cyA9IGlzVXJsUHJvYmFibHlTdXBwb3J0TXVsdGlSYW5nZVJlcXVlc3RzO1xuZnVuY3Rpb24gY3JlYXRlQ2xpZW50KGRhdGEsIHVwZGF0ZXIsIHJ1bnRpbWVPcHRpb25zKSB7XG4gICAgLy8gbm9pbnNwZWN0aW9uIFN1c3BpY2lvdXNUeXBlT2ZHdWFyZFxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBidWlsZGVyX3V0aWxfcnVudGltZV8xLm5ld0Vycm9yKFwiUGxlYXNlIHBhc3MgUHVibGlzaENvbmZpZ3VyYXRpb24gb2JqZWN0XCIsIFwiRVJSX1VQREFURVJfSU5WQUxJRF9QUk9WSURFUl9DT05GSUdVUkFUSU9OXCIpO1xuICAgIH1cbiAgICBjb25zdCBwcm92aWRlciA9IGRhdGEucHJvdmlkZXI7XG4gICAgc3dpdGNoIChwcm92aWRlcikge1xuICAgICAgICBjYXNlIFwiZ2l0aHViXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IGdpdGh1Yk9wdGlvbnMgPSBkYXRhO1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSAoZ2l0aHViT3B0aW9ucy5wcml2YXRlID8gcHJvY2Vzcy5lbnZbXCJHSF9UT0tFTlwiXSB8fCBwcm9jZXNzLmVudltcIkdJVEhVQl9UT0tFTlwiXSA6IG51bGwpIHx8IGdpdGh1Yk9wdGlvbnMudG9rZW47XG4gICAgICAgICAgICBpZiAodG9rZW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR2l0SHViUHJvdmlkZXJfMS5HaXRIdWJQcm92aWRlcihnaXRodWJPcHRpb25zLCB1cGRhdGVyLCBydW50aW1lT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByaXZhdGVHaXRIdWJQcm92aWRlcl8xLlByaXZhdGVHaXRIdWJQcm92aWRlcihnaXRodWJPcHRpb25zLCB1cGRhdGVyLCB0b2tlbiwgcnVudGltZU9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJiaXRidWNrZXRcIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQml0YnVja2V0UHJvdmlkZXJfMS5CaXRidWNrZXRQcm92aWRlcihkYXRhLCB1cGRhdGVyLCBydW50aW1lT3B0aW9ucyk7XG4gICAgICAgIGNhc2UgXCJrZXlnZW5cIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgS2V5Z2VuUHJvdmlkZXJfMS5LZXlnZW5Qcm92aWRlcihkYXRhLCB1cGRhdGVyLCBydW50aW1lT3B0aW9ucyk7XG4gICAgICAgIGNhc2UgXCJzM1wiOlxuICAgICAgICBjYXNlIFwic3BhY2VzXCI6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEdlbmVyaWNQcm92aWRlcl8xLkdlbmVyaWNQcm92aWRlcih7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IFwiZ2VuZXJpY1wiLFxuICAgICAgICAgICAgICAgIHVybDogYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5nZXRTM0xpa2VQcm92aWRlckJhc2VVcmwoZGF0YSksXG4gICAgICAgICAgICAgICAgY2hhbm5lbDogZGF0YS5jaGFubmVsIHx8IG51bGwsXG4gICAgICAgICAgICB9LCB1cGRhdGVyLCB7XG4gICAgICAgICAgICAgICAgLi4ucnVudGltZU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pbmlvL21pbmlvL2lzc3Vlcy81Mjg1I2lzc3VlY29tbWVudC0zNTA0Mjg5NTVcbiAgICAgICAgICAgICAgICBpc1VzZU11bHRpcGxlUmFuZ2VSZXF1ZXN0OiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBjYXNlIFwiZ2VuZXJpY1wiOiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gZGF0YTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY1Byb3ZpZGVyXzEuR2VuZXJpY1Byb3ZpZGVyKG9wdGlvbnMsIHVwZGF0ZXIsIHtcbiAgICAgICAgICAgICAgICAuLi5ydW50aW1lT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBpc1VzZU11bHRpcGxlUmFuZ2VSZXF1ZXN0OiBvcHRpb25zLnVzZU11bHRpcGxlUmFuZ2VSZXF1ZXN0ICE9PSBmYWxzZSAmJiBpc1VybFByb2JhYmx5U3VwcG9ydE11bHRpUmFuZ2VSZXF1ZXN0cyhvcHRpb25zLnVybCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiYmludHJheVwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCaW50cmF5UHJvdmlkZXJfMS5CaW50cmF5UHJvdmlkZXIoZGF0YSwgcnVudGltZU9wdGlvbnMpO1xuICAgICAgICBjYXNlIFwiY3VzdG9tXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBkYXRhO1xuICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3IgPSBvcHRpb25zLnVwZGF0ZVByb3ZpZGVyO1xuICAgICAgICAgICAgaWYgKCFjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoXCJDdXN0b20gcHJvdmlkZXIgbm90IHNwZWNpZmllZFwiLCBcIkVSUl9VUERBVEVSX0lOVkFMSURfUFJPVklERVJfQ09ORklHVVJBVElPTlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgY29uc3RydWN0b3Iob3B0aW9ucywgdXBkYXRlciwgcnVudGltZU9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBidWlsZGVyX3V0aWxfcnVudGltZV8xLm5ld0Vycm9yKGBVbnN1cHBvcnRlZCBwcm92aWRlcjogJHtwcm92aWRlcn1gLCBcIkVSUl9VUERBVEVSX1VOU1VQUE9SVEVEX1BST1ZJREVSXCIpO1xuICAgIH1cbn1cbmV4cG9ydHMuY3JlYXRlQ2xpZW50ID0gY3JlYXRlQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdmlkZXJGYWN0b3J5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Ob09wTG9nZ2VyID0gZXhwb3J0cy5BcHBVcGRhdGVyID0gdm9pZCAwO1xuY29uc3QgYnVpbGRlcl91dGlsX3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJidWlsZGVyLXV0aWwtcnVudGltZVwiKTtcbmNvbnN0IGNyeXB0b18xID0gcmVxdWlyZShcImNyeXB0b1wiKTtcbmNvbnN0IGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbmNvbnN0IGZzX2V4dHJhXzEgPSByZXF1aXJlKFwiZnMtZXh0cmFcIik7XG5jb25zdCBwcm9taXNlc18xID0gcmVxdWlyZShcImZzL3Byb21pc2VzXCIpO1xuY29uc3QganNfeWFtbF8xID0gcmVxdWlyZShcImpzLXlhbWxcIik7XG5jb25zdCBsYXp5X3ZhbF8xID0gcmVxdWlyZShcImxhenktdmFsXCIpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3Qgc2VtdmVyXzEgPSByZXF1aXJlKFwic2VtdmVyXCIpO1xuY29uc3QgRG93bmxvYWRlZFVwZGF0ZUhlbHBlcl8xID0gcmVxdWlyZShcIi4vRG93bmxvYWRlZFVwZGF0ZUhlbHBlclwiKTtcbmNvbnN0IEVsZWN0cm9uQXBwQWRhcHRlcl8xID0gcmVxdWlyZShcIi4vRWxlY3Ryb25BcHBBZGFwdGVyXCIpO1xuY29uc3QgZWxlY3Ryb25IdHRwRXhlY3V0b3JfMSA9IHJlcXVpcmUoXCIuL2VsZWN0cm9uSHR0cEV4ZWN1dG9yXCIpO1xuY29uc3QgR2VuZXJpY1Byb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9wcm92aWRlcnMvR2VuZXJpY1Byb3ZpZGVyXCIpO1xuY29uc3QgbWFpbl8xID0gcmVxdWlyZShcIi4vbWFpblwiKTtcbmNvbnN0IHByb3ZpZGVyRmFjdG9yeV8xID0gcmVxdWlyZShcIi4vcHJvdmlkZXJGYWN0b3J5XCIpO1xuY2xhc3MgQXBwVXBkYXRlciBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgYXBwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgZG93bmxvYWQgYW4gdXBkYXRlIHdoZW4gaXQgaXMgZm91bmQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9Eb3dubG9hZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgaW5zdGFsbCBhIGRvd25sb2FkZWQgdXBkYXRlIG9uIGFwcCBxdWl0IChpZiBgcXVpdEFuZEluc3RhbGxgIHdhcyBub3QgY2FsbGVkIGJlZm9yZSkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9JbnN0YWxsT25BcHBRdWl0ID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqICpHaXRIdWIgcHJvdmlkZXIgb25seS4qIFdoZXRoZXIgdG8gYWxsb3cgdXBkYXRlIHRvIHByZS1yZWxlYXNlIHZlcnNpb25zLiBEZWZhdWx0cyB0byBgdHJ1ZWAgaWYgYXBwbGljYXRpb24gdmVyc2lvbiBjb250YWlucyBwcmVyZWxlYXNlIGNvbXBvbmVudHMgKGUuZy4gYDAuMTIuMS1hbHBoYS4xYCwgaGVyZSBgYWxwaGFgIGlzIGEgcHJlcmVsZWFzZSBjb21wb25lbnQpLCBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgYHRydWVgLCBkb3duZ3JhZGUgd2lsbCBiZSBhbGxvd2VkIChgYWxsb3dEb3duZ3JhZGVgIHdpbGwgYmUgc2V0IHRvIGB0cnVlYCkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFsbG93UHJlcmVsZWFzZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogKkdpdEh1YiBwcm92aWRlciBvbmx5LiogR2V0IGFsbCByZWxlYXNlIG5vdGVzIChmcm9tIGN1cnJlbnQgdmVyc2lvbiB0byBsYXRlc3QpLCBub3QganVzdCB0aGUgbGF0ZXN0LlxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mdWxsQ2hhbmdlbG9nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRvIGFsbG93IHZlcnNpb24gZG93bmdyYWRlICh3aGVuIGEgdXNlciBmcm9tIHRoZSBiZXRhIGNoYW5uZWwgd2FudHMgdG8gZ28gYmFjayB0byB0aGUgc3RhYmxlIGNoYW5uZWwpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUYWtlbiBpbiBhY2NvdW50IG9ubHkgaWYgY2hhbm5lbCBkaWZmZXJzIChwcmUtcmVsZWFzZSB2ZXJzaW9uIGNvbXBvbmVudCBpbiB0ZXJtcyBvZiBzZW1hbnRpYyB2ZXJzaW9uaW5nKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxsb3dEb3duZ3JhZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2hhbm5lbCA9IG51bGw7XG4gICAgICAgIHRoaXMuZG93bmxvYWRlZFVwZGF0ZUhlbHBlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAgVGhlIHJlcXVlc3QgaGVhZGVycy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVxdWVzdEhlYWRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2dnZXIgPSBjb25zb2xlO1xuICAgICAgICAvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgdHlwZSBzYWZldHkgeW91IGNhbiB1c2Ugc2lnbmFscywgZS5nLiBgYXV0b1VwZGF0ZXIuc2lnbmFscy51cGRhdGVEb3dubG9hZGVkKCgpID0+IHt9KWAgaW5zdGVhZCBvZiBgYXV0b1VwZGF0ZXIub24oJ3VwZGF0ZS1hdmFpbGFibGUnLCAoKSA9PiB7fSlgXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpZ25hbHMgPSBuZXcgbWFpbl8xLlVwZGF0ZXJTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2FwcFVwZGF0ZUNvbmZpZ1BhdGggPSBudWxsO1xuICAgICAgICB0aGlzLmNsaWVudFByb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YWdpbmdVc2VySWRQcm9taXNlID0gbmV3IGxhenlfdmFsXzEuTGF6eSgoKSA9PiB0aGlzLmdldE9yQ3JlYXRlU3RhZ2luZ1VzZXJJZCgpKTtcbiAgICAgICAgLy8gcHVibGljLCBhbGxvdyB0byByZWFkIG9sZCBjb25maWcgZm9yIGFueW9uZVxuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuY29uZmlnT25EaXNrID0gbmV3IGxhenlfdmFsXzEuTGF6eSgoKSA9PiB0aGlzLmxvYWRVcGRhdGVDb25maWcoKSk7XG4gICAgICAgIHRoaXMuY2hlY2tGb3JVcGRhdGVzUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMudXBkYXRlSW5mb0FuZFByb3ZpZGVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGVzdE9ubHlPcHRpb25zID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbihcImVycm9yXCIsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmVycm9yKGBFcnJvcjogJHtlcnJvci5zdGFjayB8fCBlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFwcCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFwcCA9IG5ldyBFbGVjdHJvbkFwcEFkYXB0ZXJfMS5FbGVjdHJvbkFwcEFkYXB0ZXIoKTtcbiAgICAgICAgICAgIHRoaXMuaHR0cEV4ZWN1dG9yID0gbmV3IGVsZWN0cm9uSHR0cEV4ZWN1dG9yXzEuRWxlY3Ryb25IdHRwRXhlY3V0b3IoKGF1dGhJbmZvLCBjYWxsYmFjaykgPT4gdGhpcy5lbWl0KFwibG9naW5cIiwgYXV0aEluZm8sIGNhbGxiYWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAgICAgICAgIHRoaXMuaHR0cEV4ZWN1dG9yID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50VmVyc2lvblN0cmluZyA9IHRoaXMuYXBwLnZlcnNpb247XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWZXJzaW9uID0gc2VtdmVyXzEucGFyc2UoY3VycmVudFZlcnNpb25TdHJpbmcpO1xuICAgICAgICBpZiAoY3VycmVudFZlcnNpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5uZXdFcnJvcihgQXBwIHZlcnNpb24gaXMgbm90IGEgdmFsaWQgc2VtdmVyIHZlcnNpb246IFwiJHtjdXJyZW50VmVyc2lvblN0cmluZ31cImAsIFwiRVJSX1VQREFURVJfSU5WQUxJRF9WRVJTSU9OXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFZlcnNpb24gPSBjdXJyZW50VmVyc2lvbjtcbiAgICAgICAgdGhpcy5hbGxvd1ByZXJlbGVhc2UgPSBoYXNQcmVyZWxlYXNlQ29tcG9uZW50cyhjdXJyZW50VmVyc2lvbik7XG4gICAgICAgIGlmIChvcHRpb25zICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RmVlZFVSTChvcHRpb25zKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gXCJzdHJpbmdcIiAmJiBvcHRpb25zLnJlcXVlc3RIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IG9wdGlvbnMucmVxdWVzdEhlYWRlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1cGRhdGUgY2hhbm5lbC4gTm90IGFwcGxpY2FibGUgZm9yIEdpdEh1Yi4gRG9lc24ndCByZXR1cm4gYGNoYW5uZWxgIGZyb20gdGhlIHVwZGF0ZSBjb25maWd1cmF0aW9uLCBvbmx5IGlmIHdhcyBwcmV2aW91c2x5IHNldC5cbiAgICAgKi9cbiAgICBnZXQgY2hhbm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5uZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdXBkYXRlIGNoYW5uZWwuIE5vdCBhcHBsaWNhYmxlIGZvciBHaXRIdWIuIE92ZXJyaWRlcyBgY2hhbm5lbGAgaW4gdGhlIHVwZGF0ZSBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogYGFsbG93RG93bmdyYWRlYCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgc2V0IHRvIGB0cnVlYC4gSWYgdGhpcyBiZWhhdmlvciBpcyBub3Qgc3VpdGFibGUgZm9yIHlvdSwgc2ltcGxlIHNldCBgYWxsb3dEb3duZ3JhZGVgIGV4cGxpY2l0bHkgYWZ0ZXIuXG4gICAgICovXG4gICAgc2V0IGNoYW5uZWwodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5uZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbm9pbnNwZWN0aW9uIFN1c3BpY2lvdXNUeXBlT2ZHdWFyZFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYENoYW5uZWwgbXVzdCBiZSBhIHN0cmluZywgYnV0IGdvdDogJHt2YWx1ZX1gLCBcIkVSUl9VUERBVEVSX0lOVkFMSURfQ0hBTk5FTFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoYENoYW5uZWwgbXVzdCBiZSBub3QgYW4gZW1wdHkgc3RyaW5nYCwgXCJFUlJfVVBEQVRFUl9JTlZBTElEX0NIQU5ORUxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hhbm5lbCA9IHZhbHVlO1xuICAgICAgICB0aGlzLmFsbG93RG93bmdyYWRlID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogIFNob3J0Y3V0IGZvciBleHBsaWNpdGx5IGFkZGluZyBhdXRoIHRva2VucyB0byByZXF1ZXN0IGhlYWRlcnNcbiAgICAgKi9cbiAgICBhZGRBdXRoSGVhZGVyKHRva2VuKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdEhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnJlcXVlc3RIZWFkZXJzLCB7XG4gICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0b2tlbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIG5vaW5zcGVjdGlvbiBKU01ldGhvZENhbkJlU3RhdGljLEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuICAgIGdldCBuZXRTZXNzaW9uKCkge1xuICAgICAgICByZXR1cm4gZWxlY3Ryb25IdHRwRXhlY3V0b3JfMS5nZXROZXRTZXNzaW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsb2dnZXIuIFlvdSBjYW4gcGFzcyBbZWxlY3Ryb24tbG9nXShodHRwczovL2dpdGh1Yi5jb20vbWVnYWhlcnR6L2VsZWN0cm9uLWxvZyksIFt3aW5zdG9uXShodHRwczovL2dpdGh1Yi5jb20vd2luc3RvbmpzL3dpbnN0b24pIG9yIGFub3RoZXIgbG9nZ2VyIHdpdGggdGhlIGZvbGxvd2luZyBpbnRlcmZhY2U6IGB7IGluZm8oKSwgd2FybigpLCBlcnJvcigpIH1gLlxuICAgICAqIFNldCBpdCB0byBgbnVsbGAgaWYgeW91IHdvdWxkIGxpa2UgdG8gZGlzYWJsZSBhIGxvZ2dpbmcgZmVhdHVyZS5cbiAgICAgKi9cbiAgICBnZXQgbG9nZ2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9nZ2VyO1xuICAgIH1cbiAgICBzZXQgbG9nZ2VyKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xvZ2dlciA9IHZhbHVlID09IG51bGwgPyBuZXcgTm9PcExvZ2dlcigpIDogdmFsdWU7XG4gICAgfVxuICAgIC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcbiAgICAvKipcbiAgICAgKiB0ZXN0IG9ubHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNldCB1cGRhdGVDb25maWdQYXRoKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY2xpZW50UHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FwcFVwZGF0ZUNvbmZpZ1BhdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5jb25maWdPbkRpc2sgPSBuZXcgbGF6eV92YWxfMS5MYXp5KCgpID0+IHRoaXMubG9hZFVwZGF0ZUNvbmZpZygpKTtcbiAgICB9XG4gICAgLy9ub2luc3BlY3Rpb24gSlNNZXRob2RDYW5CZVN0YXRpYyxKU1VudXNlZEdsb2JhbFN5bWJvbHNcbiAgICBnZXRGZWVkVVJMKCkge1xuICAgICAgICByZXR1cm4gXCJEZXByZWNhdGVkLiBEbyBub3QgdXNlIGl0LlwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgdXBkYXRlIHByb3ZpZGVyLiBJZiB2YWx1ZSBpcyBgc3RyaW5nYCwgW0dlbmVyaWNTZXJ2ZXJPcHRpb25zXSgvY29uZmlndXJhdGlvbi9wdWJsaXNoI2dlbmVyaWNzZXJ2ZXJvcHRpb25zKSB3aWxsIGJlIHNldCB3aXRoIHZhbHVlIGFzIGB1cmxgLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIElmIHlvdSB3YW50IHRvIG92ZXJyaWRlIGNvbmZpZ3VyYXRpb24gaW4gdGhlIGBhcHAtdXBkYXRlLnltbGAuXG4gICAgICovXG4gICAgc2V0RmVlZFVSTChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bnRpbWVPcHRpb25zID0gdGhpcy5jcmVhdGVQcm92aWRlclJ1bnRpbWVPcHRpb25zKCk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGVjdHJvbi11c2VybGFuZC9lbGVjdHJvbi1idWlsZGVyL2lzc3Vlcy8xMTA1XG4gICAgICAgIGxldCBwcm92aWRlcjtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBwcm92aWRlciA9IG5ldyBHZW5lcmljUHJvdmlkZXJfMS5HZW5lcmljUHJvdmlkZXIoeyBwcm92aWRlcjogXCJnZW5lcmljXCIsIHVybDogb3B0aW9ucyB9LCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgLi4ucnVudGltZU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaXNVc2VNdWx0aXBsZVJhbmdlUmVxdWVzdDogcHJvdmlkZXJGYWN0b3J5XzEuaXNVcmxQcm9iYWJseVN1cHBvcnRNdWx0aVJhbmdlUmVxdWVzdHMob3B0aW9ucyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb3ZpZGVyID0gcHJvdmlkZXJGYWN0b3J5XzEuY3JlYXRlQ2xpZW50KG9wdGlvbnMsIHRoaXMsIHJ1bnRpbWVPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsaWVudFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUocHJvdmlkZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBc2tzIHRoZSBzZXJ2ZXIgd2hldGhlciB0aGVyZSBpcyBhbiB1cGRhdGUuXG4gICAgICovXG4gICAgY2hlY2tGb3JVcGRhdGVzKCkge1xuICAgICAgICBsZXQgY2hlY2tGb3JVcGRhdGVzUHJvbWlzZSA9IHRoaXMuY2hlY2tGb3JVcGRhdGVzUHJvbWlzZTtcbiAgICAgICAgaWYgKGNoZWNrRm9yVXBkYXRlc1Byb21pc2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oXCJDaGVja2luZyBmb3IgdXBkYXRlIChhbHJlYWR5IGluIHByb2dyZXNzKVwiKTtcbiAgICAgICAgICAgIHJldHVybiBjaGVja0ZvclVwZGF0ZXNQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG51bGxpemVQcm9taXNlID0gKCkgPT4gKHRoaXMuY2hlY2tGb3JVcGRhdGVzUHJvbWlzZSA9IG51bGwpO1xuICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhcIkNoZWNraW5nIGZvciB1cGRhdGVcIik7XG4gICAgICAgIGNoZWNrRm9yVXBkYXRlc1Byb21pc2UgPSB0aGlzLmRvQ2hlY2tGb3JVcGRhdGVzKClcbiAgICAgICAgICAgIC50aGVuKGl0ID0+IHtcbiAgICAgICAgICAgIG51bGxpemVQcm9taXNlKCk7XG4gICAgICAgICAgICByZXR1cm4gaXQ7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBudWxsaXplUHJvbWlzZSgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgZSwgYENhbm5vdCBjaGVjayBmb3IgdXBkYXRlczogJHsoZS5zdGFjayB8fCBlKS50b1N0cmluZygpfWApO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hlY2tGb3JVcGRhdGVzUHJvbWlzZSA9IGNoZWNrRm9yVXBkYXRlc1Byb21pc2U7XG4gICAgICAgIHJldHVybiBjaGVja0ZvclVwZGF0ZXNQcm9taXNlO1xuICAgIH1cbiAgICBpc1VwZGF0ZXJBY3RpdmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5hcHAuaXNQYWNrYWdlZCkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oXCJTa2lwIGNoZWNrRm9yVXBkYXRlc0FuZE5vdGlmeSBiZWNhdXNlIGFwcGxpY2F0aW9uIGlzIG5vdCBwYWNrZWRcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcbiAgICBjaGVja0ZvclVwZGF0ZXNBbmROb3RpZnkoZG93bmxvYWROb3RpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVXBkYXRlckFjdGl2ZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrRm9yVXBkYXRlcygpLnRoZW4oaXQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZG93bmxvYWRQcm9taXNlID0gaXQuZG93bmxvYWRQcm9taXNlO1xuICAgICAgICAgICAgaWYgKGRvd25sb2FkUHJvbWlzZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xvZ2dlci5kZWJ1ZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5kZWJ1ZyhcImNoZWNrRm9yVXBkYXRlc0FuZE5vdGlmeSBjYWxsZWQsIGRvd25sb2FkUHJvbWlzZSBpcyBudWxsXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2b2lkIGRvd25sb2FkUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RpZmljYXRpb25Db250ZW50ID0gQXBwVXBkYXRlci5mb3JtYXREb3dubG9hZE5vdGlmaWNhdGlvbihpdC51cGRhdGVJbmZvLnZlcnNpb24sIHRoaXMuYXBwLm5hbWUsIGRvd25sb2FkTm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBuZXcgKHJlcXVpcmUoXCJlbGVjdHJvblwiKS5Ob3RpZmljYXRpb24pKG5vdGlmaWNhdGlvbkNvbnRlbnQpLnNob3coKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGl0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGZvcm1hdERvd25sb2FkTm90aWZpY2F0aW9uKHZlcnNpb24sIGFwcE5hbWUsIGRvd25sb2FkTm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGlmIChkb3dubG9hZE5vdGlmaWNhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICBkb3dubG9hZE5vdGlmaWNhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJBIG5ldyB1cGRhdGUgaXMgcmVhZHkgdG8gaW5zdGFsbFwiLFxuICAgICAgICAgICAgICAgIGJvZHk6IGB7YXBwTmFtZX0gdmVyc2lvbiB7dmVyc2lvbn0gaGFzIGJlZW4gZG93bmxvYWRlZCBhbmQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc3RhbGxlZCBvbiBleGl0YCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZG93bmxvYWROb3RpZmljYXRpb24gPSB7XG4gICAgICAgICAgICB0aXRsZTogZG93bmxvYWROb3RpZmljYXRpb24udGl0bGUucmVwbGFjZShcInthcHBOYW1lfVwiLCBhcHBOYW1lKS5yZXBsYWNlKFwie3ZlcnNpb259XCIsIHZlcnNpb24pLFxuICAgICAgICAgICAgYm9keTogZG93bmxvYWROb3RpZmljYXRpb24uYm9keS5yZXBsYWNlKFwie2FwcE5hbWV9XCIsIGFwcE5hbWUpLnJlcGxhY2UoXCJ7dmVyc2lvbn1cIiwgdmVyc2lvbiksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkb3dubG9hZE5vdGlmaWNhdGlvbjtcbiAgICB9XG4gICAgYXN5bmMgaXNTdGFnaW5nTWF0Y2godXBkYXRlSW5mbykge1xuICAgICAgICBjb25zdCByYXdTdGFnaW5nUGVyY2VudGFnZSA9IHVwZGF0ZUluZm8uc3RhZ2luZ1BlcmNlbnRhZ2U7XG4gICAgICAgIGxldCBzdGFnaW5nUGVyY2VudGFnZSA9IHJhd1N0YWdpbmdQZXJjZW50YWdlO1xuICAgICAgICBpZiAoc3RhZ2luZ1BlcmNlbnRhZ2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc3RhZ2luZ1BlcmNlbnRhZ2UgPSBwYXJzZUludChzdGFnaW5nUGVyY2VudGFnZSwgMTApO1xuICAgICAgICBpZiAoaXNOYU4oc3RhZ2luZ1BlcmNlbnRhZ2UpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIud2FybihgU3RhZ2luZyBwZXJjZW50YWdlIGlzIE5hTjogJHtyYXdTdGFnaW5nUGVyY2VudGFnZX1gKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnZlcnQgZnJvbSB1c2VyIDAtMTAwIHRvIGludGVybmFsIDAtMVxuICAgICAgICBzdGFnaW5nUGVyY2VudGFnZSA9IHN0YWdpbmdQZXJjZW50YWdlIC8gMTAwO1xuICAgICAgICBjb25zdCBzdGFnaW5nVXNlcklkID0gYXdhaXQgdGhpcy5zdGFnaW5nVXNlcklkUHJvbWlzZS52YWx1ZTtcbiAgICAgICAgY29uc3QgdmFsID0gYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5VVUlELnBhcnNlKHN0YWdpbmdVc2VySWQpLnJlYWRVSW50MzJCRSgxMik7XG4gICAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSB2YWwgLyAweGZmZmZmZmZmO1xuICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhgU3RhZ2luZyBwZXJjZW50YWdlOiAke3N0YWdpbmdQZXJjZW50YWdlfSwgcGVyY2VudGFnZTogJHtwZXJjZW50YWdlfSwgdXNlciBpZDogJHtzdGFnaW5nVXNlcklkfWApO1xuICAgICAgICByZXR1cm4gcGVyY2VudGFnZSA8IHN0YWdpbmdQZXJjZW50YWdlO1xuICAgIH1cbiAgICBjb21wdXRlRmluYWxIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICAgICAgaWYgKHRoaXMucmVxdWVzdEhlYWRlcnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihoZWFkZXJzLCB0aGlzLnJlcXVlc3RIZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICB9XG4gICAgYXN5bmMgaXNVcGRhdGVBdmFpbGFibGUodXBkYXRlSW5mbykge1xuICAgICAgICBjb25zdCBsYXRlc3RWZXJzaW9uID0gc2VtdmVyXzEucGFyc2UodXBkYXRlSW5mby52ZXJzaW9uKTtcbiAgICAgICAgaWYgKGxhdGVzdFZlcnNpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5uZXdFcnJvcihgVGhpcyBmaWxlIGNvdWxkIG5vdCBiZSBkb3dubG9hZGVkLCBvciB0aGUgbGF0ZXN0IHZlcnNpb24gKGZyb20gdXBkYXRlIHNlcnZlcikgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHNlbXZlciB2ZXJzaW9uOiBcIiR7dXBkYXRlSW5mby52ZXJzaW9ufVwiYCwgXCJFUlJfVVBEQVRFUl9JTlZBTElEX1ZFUlNJT05cIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFZlcnNpb24gPSB0aGlzLmN1cnJlbnRWZXJzaW9uO1xuICAgICAgICBpZiAoc2VtdmVyXzEuZXEobGF0ZXN0VmVyc2lvbiwgY3VycmVudFZlcnNpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNTdGFnaW5nTWF0Y2ggPSBhd2FpdCB0aGlzLmlzU3RhZ2luZ01hdGNoKHVwZGF0ZUluZm8pO1xuICAgICAgICBpZiAoIWlzU3RhZ2luZ01hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2VsZWN0cm9uLXVzZXJsYW5kL2VsZWN0cm9uLWJ1aWxkZXIvcHVsbC8zMTExI2lzc3VlY29tbWVudC00MDUwMzMyMjdcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2VsZWN0cm9uLXVzZXJsYW5kL2VsZWN0cm9uLWJ1aWxkZXIvcHVsbC8zMTExI2lzc3VlY29tbWVudC00MDUwMzA3OTdcbiAgICAgICAgY29uc3QgaXNMYXRlc3RWZXJzaW9uTmV3ZXIgPSBzZW12ZXJfMS5ndChsYXRlc3RWZXJzaW9uLCBjdXJyZW50VmVyc2lvbik7XG4gICAgICAgIGNvbnN0IGlzTGF0ZXN0VmVyc2lvbk9sZGVyID0gc2VtdmVyXzEubHQobGF0ZXN0VmVyc2lvbiwgY3VycmVudFZlcnNpb24pO1xuICAgICAgICBpZiAoaXNMYXRlc3RWZXJzaW9uTmV3ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFsbG93RG93bmdyYWRlICYmIGlzTGF0ZXN0VmVyc2lvbk9sZGVyO1xuICAgIH1cbiAgICBhc3luYyBnZXRVcGRhdGVJbmZvQW5kUHJvdmlkZXIoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLndoZW5SZWFkeSgpO1xuICAgICAgICBpZiAodGhpcy5jbGllbnRQcm9taXNlID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50UHJvbWlzZSA9IHRoaXMuY29uZmlnT25EaXNrLnZhbHVlLnRoZW4oaXQgPT4gcHJvdmlkZXJGYWN0b3J5XzEuY3JlYXRlQ2xpZW50KGl0LCB0aGlzLCB0aGlzLmNyZWF0ZVByb3ZpZGVyUnVudGltZU9wdGlvbnMoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMuY2xpZW50UHJvbWlzZTtcbiAgICAgICAgY29uc3Qgc3RhZ2luZ1VzZXJJZCA9IGF3YWl0IHRoaXMuc3RhZ2luZ1VzZXJJZFByb21pc2UudmFsdWU7XG4gICAgICAgIGNsaWVudC5zZXRSZXF1ZXN0SGVhZGVycyh0aGlzLmNvbXB1dGVGaW5hbEhlYWRlcnMoeyBcIngtdXNlci1zdGFnaW5nLWlkXCI6IHN0YWdpbmdVc2VySWQgfSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5mbzogYXdhaXQgY2xpZW50LmdldExhdGVzdFZlcnNpb24oKSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiBjbGllbnQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtZnVuY3Rpb24tcmV0dXJuLXR5cGVcbiAgICBjcmVhdGVQcm92aWRlclJ1bnRpbWVPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNVc2VNdWx0aXBsZVJhbmdlUmVxdWVzdDogdHJ1ZSxcbiAgICAgICAgICAgIHBsYXRmb3JtOiB0aGlzLl90ZXN0T25seU9wdGlvbnMgPT0gbnVsbCA/IHByb2Nlc3MucGxhdGZvcm0gOiB0aGlzLl90ZXN0T25seU9wdGlvbnMucGxhdGZvcm0sXG4gICAgICAgICAgICBleGVjdXRvcjogdGhpcy5odHRwRXhlY3V0b3IsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGRvQ2hlY2tGb3JVcGRhdGVzKCkge1xuICAgICAgICB0aGlzLmVtaXQoXCJjaGVja2luZy1mb3ItdXBkYXRlXCIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdldFVwZGF0ZUluZm9BbmRQcm92aWRlcigpO1xuICAgICAgICBjb25zdCB1cGRhdGVJbmZvID0gcmVzdWx0LmluZm87XG4gICAgICAgIGlmICghKGF3YWl0IHRoaXMuaXNVcGRhdGVBdmFpbGFibGUodXBkYXRlSW5mbykpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhgVXBkYXRlIGZvciB2ZXJzaW9uICR7dGhpcy5jdXJyZW50VmVyc2lvbn0gaXMgbm90IGF2YWlsYWJsZSAobGF0ZXN0IHZlcnNpb246ICR7dXBkYXRlSW5mby52ZXJzaW9ufSwgZG93bmdyYWRlIGlzICR7dGhpcy5hbGxvd0Rvd25ncmFkZSA/IFwiYWxsb3dlZFwiIDogXCJkaXNhbGxvd2VkXCJ9KS5gKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcInVwZGF0ZS1ub3QtYXZhaWxhYmxlXCIsIHVwZGF0ZUluZm8pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uSW5mbzogdXBkYXRlSW5mbyxcbiAgICAgICAgICAgICAgICB1cGRhdGVJbmZvLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUluZm9BbmRQcm92aWRlciA9IHJlc3VsdDtcbiAgICAgICAgdGhpcy5vblVwZGF0ZUF2YWlsYWJsZSh1cGRhdGVJbmZvKTtcbiAgICAgICAgY29uc3QgY2FuY2VsbGF0aW9uVG9rZW4gPSBuZXcgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5DYW5jZWxsYXRpb25Ub2tlbigpO1xuICAgICAgICAvL25vaW5zcGVjdGlvbiBFUzZNaXNzaW5nQXdhaXRcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlcnNpb25JbmZvOiB1cGRhdGVJbmZvLFxuICAgICAgICAgICAgdXBkYXRlSW5mbyxcbiAgICAgICAgICAgIGNhbmNlbGxhdGlvblRva2VuLFxuICAgICAgICAgICAgZG93bmxvYWRQcm9taXNlOiB0aGlzLmF1dG9Eb3dubG9hZCA/IHRoaXMuZG93bmxvYWRVcGRhdGUoY2FuY2VsbGF0aW9uVG9rZW4pIDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgb25VcGRhdGVBdmFpbGFibGUodXBkYXRlSW5mbykge1xuICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhgRm91bmQgdmVyc2lvbiAke3VwZGF0ZUluZm8udmVyc2lvbn0gKHVybDogJHtidWlsZGVyX3V0aWxfcnVudGltZV8xLmFzQXJyYXkodXBkYXRlSW5mby5maWxlcylcbiAgICAgICAgICAgIC5tYXAoaXQgPT4gaXQudXJsKVxuICAgICAgICAgICAgLmpvaW4oXCIsIFwiKX0pYCk7XG4gICAgICAgIHRoaXMuZW1pdChcInVwZGF0ZS1hdmFpbGFibGVcIiwgdXBkYXRlSW5mbyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IGRvd25sb2FkaW5nIHVwZGF0ZSBtYW51YWxseS4gWW91IGNhbiB1c2UgdGhpcyBtZXRob2QgaWYgYGF1dG9Eb3dubG9hZGAgb3B0aW9uIGlzIHNldCB0byBgZmFsc2VgLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IFBhdGggdG8gZG93bmxvYWRlZCBmaWxlLlxuICAgICAqL1xuICAgIGRvd25sb2FkVXBkYXRlKGNhbmNlbGxhdGlvblRva2VuID0gbmV3IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEuQ2FuY2VsbGF0aW9uVG9rZW4oKSkge1xuICAgICAgICBjb25zdCB1cGRhdGVJbmZvQW5kUHJvdmlkZXIgPSB0aGlzLnVwZGF0ZUluZm9BbmRQcm92aWRlcjtcbiAgICAgICAgaWYgKHVwZGF0ZUluZm9BbmRQcm92aWRlciA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcIlBsZWFzZSBjaGVjayB1cGRhdGUgZmlyc3RcIik7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhgRG93bmxvYWRpbmcgdXBkYXRlIGZyb20gJHtidWlsZGVyX3V0aWxfcnVudGltZV8xLmFzQXJyYXkodXBkYXRlSW5mb0FuZFByb3ZpZGVyLmluZm8uZmlsZXMpXG4gICAgICAgICAgICAubWFwKGl0ID0+IGl0LnVybClcbiAgICAgICAgICAgIC5qb2luKFwiLCBcIil9YCk7XG4gICAgICAgIGNvbnN0IGVycm9ySGFuZGxlciA9IChlKSA9PiB7XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZWxlY3Ryb24tdXNlcmxhbmQvZWxlY3Ryb24tYnVpbGRlci9pc3N1ZXMvMTE1MCNpc3N1ZWNvbW1lbnQtNDM2ODkxMTU5XG4gICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5DYW5jZWxsYXRpb25FcnJvcikpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChuZXN0ZWRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIud2FybihgQ2Fubm90IGRpc3BhdGNoIGVycm9yIGV2ZW50OiAke25lc3RlZEVycm9yLnN0YWNrIHx8IG5lc3RlZEVycm9yfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG9Eb3dubG9hZFVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgdXBkYXRlSW5mb0FuZFByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzOiB0aGlzLmNvbXB1dGVSZXF1ZXN0SGVhZGVycyh1cGRhdGVJbmZvQW5kUHJvdmlkZXIucHJvdmlkZXIpLFxuICAgICAgICAgICAgICAgIGNhbmNlbGxhdGlvblRva2VuLFxuICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JIYW5kbGVyKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvckhhbmRsZXIoZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3BhdGNoRXJyb3IoZSkge1xuICAgICAgICB0aGlzLmVtaXQoXCJlcnJvclwiLCBlLCAoZS5zdGFjayB8fCBlKS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgZGlzcGF0Y2hVcGRhdGVEb3dubG9hZGVkKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZW1pdChtYWluXzEuVVBEQVRFX0RPV05MT0FERUQsIGV2ZW50KTtcbiAgICB9XG4gICAgYXN5bmMgbG9hZFVwZGF0ZUNvbmZpZygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FwcFVwZGF0ZUNvbmZpZ1BhdGggPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYXBwVXBkYXRlQ29uZmlnUGF0aCA9IHRoaXMuYXBwLmFwcFVwZGF0ZUNvbmZpZ1BhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpzX3lhbWxfMS5sb2FkKGF3YWl0IHByb21pc2VzXzEucmVhZEZpbGUodGhpcy5fYXBwVXBkYXRlQ29uZmlnUGF0aCwgXCJ1dGYtOFwiKSk7XG4gICAgfVxuICAgIGNvbXB1dGVSZXF1ZXN0SGVhZGVycyhwcm92aWRlcikge1xuICAgICAgICBjb25zdCBmaWxlRXh0cmFEb3dubG9hZEhlYWRlcnMgPSBwcm92aWRlci5maWxlRXh0cmFEb3dubG9hZEhlYWRlcnM7XG4gICAgICAgIGlmIChmaWxlRXh0cmFEb3dubG9hZEhlYWRlcnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSB0aGlzLnJlcXVlc3RIZWFkZXJzO1xuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3RIZWFkZXJzID09IG51bGxcbiAgICAgICAgICAgICAgICA/IGZpbGVFeHRyYURvd25sb2FkSGVhZGVyc1xuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAuLi5maWxlRXh0cmFEb3dubG9hZEhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIC4uLnJlcXVlc3RIZWFkZXJzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZUZpbmFsSGVhZGVycyh7IGFjY2VwdDogXCIqLypcIiB9KTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0T3JDcmVhdGVTdGFnaW5nVXNlcklkKCkge1xuICAgICAgICBjb25zdCBmaWxlID0gcGF0aC5qb2luKHRoaXMuYXBwLnVzZXJEYXRhUGF0aCwgXCIudXBkYXRlcklkXCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBhd2FpdCBwcm9taXNlc18xLnJlYWRGaWxlKGZpbGUsIFwidXRmLThcIik7XG4gICAgICAgICAgICBpZiAoYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5VVUlELmNoZWNrKGlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci53YXJuKGBTdGFnaW5nIHVzZXIgaWQgZmlsZSBleGlzdHMsIGJ1dCBjb250ZW50IHdhcyBpbnZhbGlkOiAke2lkfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5jb2RlICE9PSBcIkVOT0VOVFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLndhcm4oYENvdWxkbid0IHJlYWQgc3RhZ2luZyB1c2VyIElELCBjcmVhdGluZyBhIGJsYW5rIG9uZTogJHtlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlkID0gYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5VVUlELnY1KGNyeXB0b18xLnJhbmRvbUJ5dGVzKDQwOTYpLCBidWlsZGVyX3V0aWxfcnVudGltZV8xLlVVSUQuT0lEKTtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oYEdlbmVyYXRlZCBuZXcgc3RhZ2luZyB1c2VyIElEOiAke2lkfWApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgZnNfZXh0cmFfMS5vdXRwdXRGaWxlKGZpbGUsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLndhcm4oYENvdWxkbid0IHdyaXRlIG91dCBzdGFnaW5nIHVzZXIgSUQ6ICR7ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBnZXQgaXNBZGROb0NhY2hlUXVlcnkoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLnJlcXVlc3RIZWFkZXJzO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZWxlY3Ryb24tdXNlcmxhbmQvZWxlY3Ryb24tYnVpbGRlci9pc3N1ZXMvMzAyMVxuICAgICAgICBpZiAoaGVhZGVycyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAocyA9PT0gXCJhdXRob3JpemF0aW9uXCIgfHwgcyA9PT0gXCJwcml2YXRlLXRva2VuXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFzeW5jIGdldE9yQ3JlYXRlRG93bmxvYWRIZWxwZXIoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmRvd25sb2FkZWRVcGRhdGVIZWxwZXI7XG4gICAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZGlyTmFtZSA9IChhd2FpdCB0aGlzLmNvbmZpZ09uRGlzay52YWx1ZSkudXBkYXRlckNhY2hlRGlyTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMuX2xvZ2dlcjtcbiAgICAgICAgICAgIGlmIChkaXJOYW1lID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJ1cGRhdGVyQ2FjaGVEaXJOYW1lIGlzIG5vdCBzcGVjaWZpZWQgaW4gYXBwLXVwZGF0ZS55bWwgV2FzIGFwcCBidWlsZCB1c2luZyBhdCBsZWFzdCBlbGVjdHJvbi1idWlsZGVyIDIwLjM0LjA/XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FjaGVEaXIgPSBwYXRoLmpvaW4odGhpcy5hcHAuYmFzZUNhY2hlUGF0aCwgZGlyTmFtZSB8fCB0aGlzLmFwcC5uYW1lKTtcbiAgICAgICAgICAgIGlmIChsb2dnZXIuZGVidWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgdXBkYXRlciBjYWNoZSBkaXI6ICR7Y2FjaGVEaXJ9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgRG93bmxvYWRlZFVwZGF0ZUhlbHBlcl8xLkRvd25sb2FkZWRVcGRhdGVIZWxwZXIoY2FjaGVEaXIpO1xuICAgICAgICAgICAgdGhpcy5kb3dubG9hZGVkVXBkYXRlSGVscGVyID0gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIGV4ZWN1dGVEb3dubG9hZCh0YXNrT3B0aW9ucykge1xuICAgICAgICBjb25zdCBmaWxlSW5mbyA9IHRhc2tPcHRpb25zLmZpbGVJbmZvO1xuICAgICAgICBjb25zdCBkb3dubG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0YXNrT3B0aW9ucy5kb3dubG9hZFVwZGF0ZU9wdGlvbnMucmVxdWVzdEhlYWRlcnMsXG4gICAgICAgICAgICBjYW5jZWxsYXRpb25Ub2tlbjogdGFza09wdGlvbnMuZG93bmxvYWRVcGRhdGVPcHRpb25zLmNhbmNlbGxhdGlvblRva2VuLFxuICAgICAgICAgICAgc2hhMjogZmlsZUluZm8uaW5mby5zaGEyLFxuICAgICAgICAgICAgc2hhNTEyOiBmaWxlSW5mby5pbmZvLnNoYTUxMixcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJDb3VudChtYWluXzEuRE9XTkxPQURfUFJPR1JFU1MpID4gMCkge1xuICAgICAgICAgICAgZG93bmxvYWRPcHRpb25zLm9uUHJvZ3Jlc3MgPSBpdCA9PiB0aGlzLmVtaXQobWFpbl8xLkRPV05MT0FEX1BST0dSRVNTLCBpdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlSW5mbyA9IHRhc2tPcHRpb25zLmRvd25sb2FkVXBkYXRlT3B0aW9ucy51cGRhdGVJbmZvQW5kUHJvdmlkZXIuaW5mbztcbiAgICAgICAgY29uc3QgdmVyc2lvbiA9IHVwZGF0ZUluZm8udmVyc2lvbjtcbiAgICAgICAgY29uc3QgcGFja2FnZUluZm8gPSBmaWxlSW5mby5wYWNrYWdlSW5mbztcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2FjaGVVcGRhdGVGaWxlTmFtZSgpIHtcbiAgICAgICAgICAgIC8vIE5vZGVKUyBVUkwgZG9lc24ndCBkZWNvZGUgYXV0b21hdGljYWxseVxuICAgICAgICAgICAgY29uc3QgdXJsUGF0aCA9IGRlY29kZVVSSUNvbXBvbmVudCh0YXNrT3B0aW9ucy5maWxlSW5mby51cmwucGF0aG5hbWUpO1xuICAgICAgICAgICAgaWYgKHVybFBhdGguZW5kc1dpdGgoYC4ke3Rhc2tPcHRpb25zLmZpbGVFeHRlbnNpb259YCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aC5wb3NpeC5iYXNlbmFtZSh1cmxQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHVybCBsaWtlIC9sYXRlc3QsIGdlbmVyYXRlIG5hbWVcbiAgICAgICAgICAgICAgICByZXR1cm4gYHVwZGF0ZS4ke3Rhc2tPcHRpb25zLmZpbGVFeHRlbnNpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkb3dubG9hZGVkVXBkYXRlSGVscGVyID0gYXdhaXQgdGhpcy5nZXRPckNyZWF0ZURvd25sb2FkSGVscGVyKCk7XG4gICAgICAgIGNvbnN0IGNhY2hlRGlyID0gZG93bmxvYWRlZFVwZGF0ZUhlbHBlci5jYWNoZURpckZvclBlbmRpbmdVcGRhdGU7XG4gICAgICAgIGF3YWl0IHByb21pc2VzXzEubWtkaXIoY2FjaGVEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCB1cGRhdGVGaWxlTmFtZSA9IGdldENhY2hlVXBkYXRlRmlsZU5hbWUoKTtcbiAgICAgICAgbGV0IHVwZGF0ZUZpbGUgPSBwYXRoLmpvaW4oY2FjaGVEaXIsIHVwZGF0ZUZpbGVOYW1lKTtcbiAgICAgICAgY29uc3QgcGFja2FnZUZpbGUgPSBwYWNrYWdlSW5mbyA9PSBudWxsID8gbnVsbCA6IHBhdGguam9pbihjYWNoZURpciwgYHBhY2thZ2UtJHt2ZXJzaW9ufSR7cGF0aC5leHRuYW1lKHBhY2thZ2VJbmZvLnBhdGgpIHx8IFwiLjd6XCJ9YCk7XG4gICAgICAgIGNvbnN0IGRvbmUgPSBhc3luYyAoaXNTYXZlQ2FjaGUpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGRvd25sb2FkZWRVcGRhdGVIZWxwZXIuc2V0RG93bmxvYWRlZEZpbGUodXBkYXRlRmlsZSwgcGFja2FnZUZpbGUsIHVwZGF0ZUluZm8sIGZpbGVJbmZvLCB1cGRhdGVGaWxlTmFtZSwgaXNTYXZlQ2FjaGUpO1xuICAgICAgICAgICAgYXdhaXQgdGFza09wdGlvbnMuZG9uZSh7XG4gICAgICAgICAgICAgICAgLi4udXBkYXRlSW5mbyxcbiAgICAgICAgICAgICAgICBkb3dubG9hZGVkRmlsZTogdXBkYXRlRmlsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhY2thZ2VGaWxlID09IG51bGwgPyBbdXBkYXRlRmlsZV0gOiBbdXBkYXRlRmlsZSwgcGFja2FnZUZpbGVdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBsb2cgPSB0aGlzLl9sb2dnZXI7XG4gICAgICAgIGNvbnN0IGNhY2hlZFVwZGF0ZUZpbGUgPSBhd2FpdCBkb3dubG9hZGVkVXBkYXRlSGVscGVyLnZhbGlkYXRlRG93bmxvYWRlZFBhdGgodXBkYXRlRmlsZSwgdXBkYXRlSW5mbywgZmlsZUluZm8sIGxvZyk7XG4gICAgICAgIGlmIChjYWNoZWRVcGRhdGVGaWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHVwZGF0ZUZpbGUgPSBjYWNoZWRVcGRhdGVGaWxlO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGRvbmUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZUZpbGVJZkFueSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGRvd25sb2FkZWRVcGRhdGVIZWxwZXIuY2xlYXIoKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBwcm9taXNlc18xLnVubGluayh1cGRhdGVGaWxlKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdGVtcFVwZGF0ZUZpbGUgPSBhd2FpdCBEb3dubG9hZGVkVXBkYXRlSGVscGVyXzEuY3JlYXRlVGVtcFVwZGF0ZUZpbGUoYHRlbXAtJHt1cGRhdGVGaWxlTmFtZX1gLCBjYWNoZURpciwgbG9nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRhc2tPcHRpb25zLnRhc2sodGVtcFVwZGF0ZUZpbGUsIGRvd25sb2FkT3B0aW9ucywgcGFja2FnZUZpbGUsIHJlbW92ZUZpbGVJZkFueSk7XG4gICAgICAgICAgICBhd2FpdCBwcm9taXNlc18xLnJlbmFtZSh0ZW1wVXBkYXRlRmlsZSwgdXBkYXRlRmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHJlbW92ZUZpbGVJZkFueSgpO1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBidWlsZGVyX3V0aWxfcnVudGltZV8xLkNhbmNlbGxhdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgbG9nLmluZm8oXCJjYW5jZWxsZWRcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwidXBkYXRlLWNhbmNlbGxlZFwiLCB1cGRhdGVJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgbG9nLmluZm8oYE5ldyB2ZXJzaW9uICR7dmVyc2lvbn0gaGFzIGJlZW4gZG93bmxvYWRlZCB0byAke3VwZGF0ZUZpbGV9YCk7XG4gICAgICAgIHJldHVybiBhd2FpdCBkb25lKHRydWUpO1xuICAgIH1cbn1cbmV4cG9ydHMuQXBwVXBkYXRlciA9IEFwcFVwZGF0ZXI7XG5mdW5jdGlvbiBoYXNQcmVyZWxlYXNlQ29tcG9uZW50cyh2ZXJzaW9uKSB7XG4gICAgY29uc3QgdmVyc2lvblByZXJlbGVhc2VDb21wb25lbnQgPSBzZW12ZXJfMS5wcmVyZWxlYXNlKHZlcnNpb24pO1xuICAgIHJldHVybiB2ZXJzaW9uUHJlcmVsZWFzZUNvbXBvbmVudCAhPSBudWxsICYmIHZlcnNpb25QcmVyZWxlYXNlQ29tcG9uZW50Lmxlbmd0aCA+IDA7XG59XG4vKiogQHByaXZhdGUgKi9cbmNsYXNzIE5vT3BMb2dnZXIge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBpbmZvKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICB3YXJuKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBlcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIC8vIGlnbm9yZVxuICAgIH1cbn1cbmV4cG9ydHMuTm9PcExvZ2dlciA9IE5vT3BMb2dnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcHBVcGRhdGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYXNlVXBkYXRlciA9IHZvaWQgMDtcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgQXBwVXBkYXRlcl8xID0gcmVxdWlyZShcIi4vQXBwVXBkYXRlclwiKTtcbmNsYXNzIEJhc2VVcGRhdGVyIGV4dGVuZHMgQXBwVXBkYXRlcl8xLkFwcFVwZGF0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGFwcCkge1xuICAgICAgICBzdXBlcihvcHRpb25zLCBhcHApO1xuICAgICAgICB0aGlzLnF1aXRBbmRJbnN0YWxsQ2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpdEhhbmRsZXJBZGRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBxdWl0QW5kSW5zdGFsbChpc1NpbGVudCA9IGZhbHNlLCBpc0ZvcmNlUnVuQWZ0ZXIgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhgSW5zdGFsbCBvbiBleHBsaWNpdCBxdWl0QW5kSW5zdGFsbGApO1xuICAgICAgICBjb25zdCBpc0luc3RhbGxlZCA9IHRoaXMuaW5zdGFsbChpc1NpbGVudCwgaXNTaWxlbnQgPyBpc0ZvcmNlUnVuQWZ0ZXIgOiB0cnVlKTtcbiAgICAgICAgaWYgKGlzSW5zdGFsbGVkKSB7XG4gICAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwLnF1aXQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5xdWl0QW5kSW5zdGFsbENhbGxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGV4ZWN1dGVEb3dubG9hZCh0YXNrT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gc3VwZXIuZXhlY3V0ZURvd25sb2FkKHtcbiAgICAgICAgICAgIC4uLnRhc2tPcHRpb25zLFxuICAgICAgICAgICAgZG9uZTogZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hVcGRhdGVEb3dubG9hZGVkKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFF1aXRIYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIG11c3QgYmUgc3luYyAoYmVjYXVzZSBxdWl0IGV2ZW4gaGFuZGxlciBpcyBub3QgYXN5bmMpXG4gICAgaW5zdGFsbChpc1NpbGVudCwgaXNGb3JjZVJ1bkFmdGVyKSB7XG4gICAgICAgIGlmICh0aGlzLnF1aXRBbmRJbnN0YWxsQ2FsbGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIud2FybihcImluc3RhbGwgY2FsbCBpZ25vcmVkOiBxdWl0QW5kSW5zdGFsbENhbGxlZCBpcyBzZXQgdG8gdHJ1ZVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkb3dubG9hZGVkVXBkYXRlSGVscGVyID0gdGhpcy5kb3dubG9hZGVkVXBkYXRlSGVscGVyO1xuICAgICAgICBjb25zdCBpbnN0YWxsZXJQYXRoID0gZG93bmxvYWRlZFVwZGF0ZUhlbHBlciA9PSBudWxsID8gbnVsbCA6IGRvd25sb2FkZWRVcGRhdGVIZWxwZXIuZmlsZTtcbiAgICAgICAgY29uc3QgZG93bmxvYWRlZEZpbGVJbmZvID0gZG93bmxvYWRlZFVwZGF0ZUhlbHBlciA9PSBudWxsID8gbnVsbCA6IGRvd25sb2FkZWRVcGRhdGVIZWxwZXIuZG93bmxvYWRlZEZpbGVJbmZvO1xuICAgICAgICBpZiAoaW5zdGFsbGVyUGF0aCA9PSBudWxsIHx8IGRvd25sb2FkZWRGaWxlSW5mbyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXJyb3IobmV3IEVycm9yKFwiTm8gdmFsaWQgdXBkYXRlIGF2YWlsYWJsZSwgY2FuJ3QgcXVpdCBhbmQgaW5zdGFsbFwiKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJldmVudCBjYWxsaW5nIHNldmVyYWwgdGltZXNcbiAgICAgICAgdGhpcy5xdWl0QW5kSW5zdGFsbENhbGxlZCA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgaW5zdGFsbFBhdGhSZXF1aXJlc0VsZXZhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09IFwid2luMzJcIikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rlc3RQYXRoID0gcGF0aC5qb2luKHBhdGguZGlybmFtZShwcm9jZXNzLmV4ZWNQYXRoKSwgYGFjY2Vzcy0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCl9LnRtcGApO1xuICAgICAgICAgICAgICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGFjY2Vzc1Rlc3RQYXRoLCBcIiBcIik7XG4gICAgICAgICAgICAgICAgICAgIGZzLnJtU3luYyhhY2Nlc3NUZXN0UGF0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWlyZSBhZG1pbiByaWdodHMgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbGxQYXRoUmVxdWlyZXNFbGV2YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKGBJbnN0YWxsOiBpc1NpbGVudDogJHtpc1NpbGVudH0sIGlzRm9yY2VSdW5BZnRlcjogJHtpc0ZvcmNlUnVuQWZ0ZXJ9LCBpbnN0YWxsUGF0aFJlcXVpcmVzRWxldmF0aW9uOiAke2luc3RhbGxQYXRoUmVxdWlyZXNFbGV2YXRpb259YCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kb0luc3RhbGwoe1xuICAgICAgICAgICAgICAgIGluc3RhbGxlclBhdGgsXG4gICAgICAgICAgICAgICAgaXNTaWxlbnQsXG4gICAgICAgICAgICAgICAgaXNGb3JjZVJ1bkFmdGVyLFxuICAgICAgICAgICAgICAgIGlzQWRtaW5SaWdodHNSZXF1aXJlZDogaW5zdGFsbFBhdGhSZXF1aXJlc0VsZXZhdGlvbiB8fCBkb3dubG9hZGVkRmlsZUluZm8uaXNBZG1pblJpZ2h0c1JlcXVpcmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFcnJvcihlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRRdWl0SGFuZGxlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucXVpdEhhbmRsZXJBZGRlZCB8fCAhdGhpcy5hdXRvSW5zdGFsbE9uQXBwUXVpdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucXVpdEhhbmRsZXJBZGRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYXBwLm9uUXVpdChleGl0Q29kZSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWl0QW5kSW5zdGFsbENhbGxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKFwiVXBkYXRlIGluc3RhbGxlciBoYXMgYWxyZWFkeSBiZWVuIHRyaWdnZXJlZC4gUXVpdHRpbmcgYXBwbGljYXRpb24uXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5hdXRvSW5zdGFsbE9uQXBwUXVpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKFwiVXBkYXRlIHdpbGwgbm90IGJlIGluc3RhbGxlZCBvbiBxdWl0IGJlY2F1c2UgYXV0b0luc3RhbGxPbkFwcFF1aXQgaXMgc2V0IHRvIGZhbHNlLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXhpdENvZGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhgVXBkYXRlIHdpbGwgYmUgbm90IGluc3RhbGxlZCBvbiBxdWl0IGJlY2F1c2UgYXBwbGljYXRpb24gaXMgcXVpdHRpbmcgd2l0aCBleGl0IGNvZGUgJHtleGl0Q29kZX1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhcIkF1dG8gaW5zdGFsbCB1cGRhdGUgb24gcXVpdFwiKTtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFsbCh0cnVlLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFzZVVwZGF0ZXIgPSBCYXNlVXBkYXRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VVcGRhdGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21wdXRlT3BlcmF0aW9ucyA9IGV4cG9ydHMuT3BlcmF0aW9uS2luZCA9IHZvaWQgMDtcbnZhciBPcGVyYXRpb25LaW5kO1xuKGZ1bmN0aW9uIChPcGVyYXRpb25LaW5kKSB7XG4gICAgT3BlcmF0aW9uS2luZFtPcGVyYXRpb25LaW5kW1wiQ09QWVwiXSA9IDBdID0gXCJDT1BZXCI7XG4gICAgT3BlcmF0aW9uS2luZFtPcGVyYXRpb25LaW5kW1wiRE9XTkxPQURcIl0gPSAxXSA9IFwiRE9XTkxPQURcIjtcbn0pKE9wZXJhdGlvbktpbmQgPSBleHBvcnRzLk9wZXJhdGlvbktpbmQgfHwgKGV4cG9ydHMuT3BlcmF0aW9uS2luZCA9IHt9KSk7XG5mdW5jdGlvbiBjb21wdXRlT3BlcmF0aW9ucyhvbGRCbG9ja01hcCwgbmV3QmxvY2tNYXAsIGxvZ2dlcikge1xuICAgIGNvbnN0IG5hbWVUb09sZEJsb2NrcyA9IGJ1aWxkQmxvY2tGaWxlTWFwKG9sZEJsb2NrTWFwLmZpbGVzKTtcbiAgICBjb25zdCBuYW1lVG9OZXdCbG9ja3MgPSBidWlsZEJsb2NrRmlsZU1hcChuZXdCbG9ja01hcC5maWxlcyk7XG4gICAgbGV0IGxhc3RPcGVyYXRpb24gPSBudWxsO1xuICAgIC8vIGZvciBub3cgb25seSBvbmUgZmlsZSBpcyBzdXBwb3J0ZWQgaW4gYmxvY2sgbWFwXG4gICAgY29uc3QgYmxvY2tNYXBGaWxlID0gbmV3QmxvY2tNYXAuZmlsZXNbMF07XG4gICAgY29uc3Qgb3BlcmF0aW9ucyA9IFtdO1xuICAgIGNvbnN0IG5hbWUgPSBibG9ja01hcEZpbGUubmFtZTtcbiAgICBjb25zdCBvbGRFbnRyeSA9IG5hbWVUb09sZEJsb2Nrcy5nZXQobmFtZSk7XG4gICAgaWYgKG9sZEVudHJ5ID09IG51bGwpIHtcbiAgICAgICAgLy8gbmV3IGZpbGUgKHVucmVhbGlzdGljIGNhc2UgZm9yIG5vdywgYmVjYXVzZSBpbiBhbnkgY2FzZSBib3RoIGJsb2NrbWFwIGNvbnRhaW4gdGhlIG9ubHkgZmlsZSBuYW1lZCBhcyBcImZpbGVcIilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBubyBmaWxlICR7bmFtZX0gaW4gb2xkIGJsb2NrbWFwYCk7XG4gICAgfVxuICAgIGNvbnN0IG5ld0ZpbGUgPSBuYW1lVG9OZXdCbG9ja3MuZ2V0KG5hbWUpO1xuICAgIGxldCBjaGFuZ2VkQmxvY2tDb3VudCA9IDA7XG4gICAgY29uc3QgeyBjaGVja3N1bVRvT2Zmc2V0OiBjaGVja3N1bVRvT2xkT2Zmc2V0LCBjaGVja3N1bVRvT2xkU2l6ZSB9ID0gYnVpbGRDaGVja3N1bU1hcChuYW1lVG9PbGRCbG9ja3MuZ2V0KG5hbWUpLCBvbGRFbnRyeS5vZmZzZXQsIGxvZ2dlcik7XG4gICAgbGV0IG5ld09mZnNldCA9IGJsb2NrTWFwRmlsZS5vZmZzZXQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdGaWxlLmNoZWNrc3Vtcy5sZW5ndGg7IG5ld09mZnNldCArPSBuZXdGaWxlLnNpemVzW2ldLCBpKyspIHtcbiAgICAgICAgY29uc3QgYmxvY2tTaXplID0gbmV3RmlsZS5zaXplc1tpXTtcbiAgICAgICAgY29uc3QgY2hlY2tzdW0gPSBuZXdGaWxlLmNoZWNrc3Vtc1tpXTtcbiAgICAgICAgbGV0IG9sZE9mZnNldCA9IGNoZWNrc3VtVG9PbGRPZmZzZXQuZ2V0KGNoZWNrc3VtKTtcbiAgICAgICAgaWYgKG9sZE9mZnNldCAhPSBudWxsICYmIGNoZWNrc3VtVG9PbGRTaXplLmdldChjaGVja3N1bSkgIT09IGJsb2NrU2l6ZSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oYENoZWNrc3VtIChcIiR7Y2hlY2tzdW19XCIpIG1hdGNoZXMsIGJ1dCBzaXplIGRpZmZlcnMgKG9sZDogJHtjaGVja3N1bVRvT2xkU2l6ZS5nZXQoY2hlY2tzdW0pfSwgbmV3OiAke2Jsb2NrU2l6ZX0pYCk7XG4gICAgICAgICAgICBvbGRPZmZzZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZE9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBkb3dubG9hZCBkYXRhIGZyb20gbmV3IGZpbGVcbiAgICAgICAgICAgIGNoYW5nZWRCbG9ja0NvdW50Kys7XG4gICAgICAgICAgICBpZiAobGFzdE9wZXJhdGlvbiAhPSBudWxsICYmIGxhc3RPcGVyYXRpb24ua2luZCA9PT0gT3BlcmF0aW9uS2luZC5ET1dOTE9BRCAmJiBsYXN0T3BlcmF0aW9uLmVuZCA9PT0gbmV3T2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgbGFzdE9wZXJhdGlvbi5lbmQgKz0gYmxvY2tTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFzdE9wZXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogT3BlcmF0aW9uS2luZC5ET1dOTE9BRCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG5ld09mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBuZXdPZmZzZXQgKyBibG9ja1NpemUsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9sZEJsb2NrczogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlQW5kQWRkKGxhc3RPcGVyYXRpb24sIG9wZXJhdGlvbnMsIGNoZWNrc3VtLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJldXNlIGRhdGEgZnJvbSBvbGQgZmlsZVxuICAgICAgICAgICAgaWYgKGxhc3RPcGVyYXRpb24gIT0gbnVsbCAmJiBsYXN0T3BlcmF0aW9uLmtpbmQgPT09IE9wZXJhdGlvbktpbmQuQ09QWSAmJiBsYXN0T3BlcmF0aW9uLmVuZCA9PT0gb2xkT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgbGFzdE9wZXJhdGlvbi5lbmQgKz0gYmxvY2tTaXplO1xuICAgICAgICAgICAgICAgIC8vIGxhc3RPcGVyYXRpb24ub2xkQmxvY2tzISEucHVzaChjaGVja3N1bSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhc3RPcGVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IE9wZXJhdGlvbktpbmQuQ09QWSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG9sZE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBvbGRPZmZzZXQgKyBibG9ja1NpemUsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9sZEJsb2NrczogW2NoZWNrc3VtXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVBbmRBZGQobGFzdE9wZXJhdGlvbiwgb3BlcmF0aW9ucywgY2hlY2tzdW0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjaGFuZ2VkQmxvY2tDb3VudCA+IDApIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oYEZpbGUke2Jsb2NrTWFwRmlsZS5uYW1lID09PSBcImZpbGVcIiA/IFwiXCIgOiBcIiBcIiArIGJsb2NrTWFwRmlsZS5uYW1lfSBoYXMgJHtjaGFuZ2VkQmxvY2tDb3VudH0gY2hhbmdlZCBibG9ja3NgKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wZXJhdGlvbnM7XG59XG5leHBvcnRzLmNvbXB1dGVPcGVyYXRpb25zID0gY29tcHV0ZU9wZXJhdGlvbnM7XG5jb25zdCBpc1ZhbGlkYXRlT3BlcmF0aW9uUmFuZ2UgPSBwcm9jZXNzLmVudltcIkRJRkZFUkVOVElBTF9ET1dOTE9BRF9QTEFOX0JVSUxERVJfVkFMSURBVEVfUkFOR0VTXCJdID09PSBcInRydWVcIjtcbmZ1bmN0aW9uIHZhbGlkYXRlQW5kQWRkKG9wZXJhdGlvbiwgb3BlcmF0aW9ucywgY2hlY2tzdW0sIGluZGV4KSB7XG4gICAgaWYgKGlzVmFsaWRhdGVPcGVyYXRpb25SYW5nZSAmJiBvcGVyYXRpb25zLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBjb25zdCBsYXN0T3BlcmF0aW9uID0gb3BlcmF0aW9uc1tvcGVyYXRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdE9wZXJhdGlvbi5raW5kID09PSBvcGVyYXRpb24ua2luZCAmJiBvcGVyYXRpb24uc3RhcnQgPCBsYXN0T3BlcmF0aW9uLmVuZCAmJiBvcGVyYXRpb24uc3RhcnQgPiBsYXN0T3BlcmF0aW9uLnN0YXJ0KSB7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSBbbGFzdE9wZXJhdGlvbi5zdGFydCwgbGFzdE9wZXJhdGlvbi5lbmQsIG9wZXJhdGlvbi5zdGFydCwgb3BlcmF0aW9uLmVuZF0ucmVkdWNlKChwLCB2KSA9PiAocCA8IHYgPyBwIDogdikpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvcGVyYXRpb24gKGJsb2NrIGluZGV4OiAke2luZGV4fSwgY2hlY2tzdW06ICR7Y2hlY2tzdW19LCBraW5kOiAke09wZXJhdGlvbktpbmRbb3BlcmF0aW9uLmtpbmRdfSkgb3ZlcmxhcHMgcHJldmlvdXMgb3BlcmF0aW9uIChjaGVja3N1bTogJHtjaGVja3N1bX0pOlxcbmAgK1xuICAgICAgICAgICAgICAgIGBhYnM6ICR7bGFzdE9wZXJhdGlvbi5zdGFydH0gdW50aWwgJHtsYXN0T3BlcmF0aW9uLmVuZH0gYW5kICR7b3BlcmF0aW9uLnN0YXJ0fSB1bnRpbCAke29wZXJhdGlvbi5lbmR9XFxuYCArXG4gICAgICAgICAgICAgICAgYHJlbDogJHtsYXN0T3BlcmF0aW9uLnN0YXJ0IC0gbWlufSB1bnRpbCAke2xhc3RPcGVyYXRpb24uZW5kIC0gbWlufSBhbmQgJHtvcGVyYXRpb24uc3RhcnQgLSBtaW59IHVudGlsICR7b3BlcmF0aW9uLmVuZCAtIG1pbn1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvcGVyYXRpb25zLnB1c2gob3BlcmF0aW9uKTtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtZnVuY3Rpb24tcmV0dXJuLXR5cGVcbmZ1bmN0aW9uIGJ1aWxkQ2hlY2tzdW1NYXAoZmlsZSwgZmlsZU9mZnNldCwgbG9nZ2VyKSB7XG4gICAgY29uc3QgY2hlY2tzdW1Ub09mZnNldCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBjaGVja3N1bVRvU2l6ZSA9IG5ldyBNYXAoKTtcbiAgICBsZXQgb2Zmc2V0ID0gZmlsZU9mZnNldDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGUuY2hlY2tzdW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrc3VtID0gZmlsZS5jaGVja3N1bXNbaV07XG4gICAgICAgIGNvbnN0IHNpemUgPSBmaWxlLnNpemVzW2ldO1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IGNoZWNrc3VtVG9TaXplLmdldChjaGVja3N1bSk7XG4gICAgICAgIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjaGVja3N1bVRvT2Zmc2V0LnNldChjaGVja3N1bSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIGNoZWNrc3VtVG9TaXplLnNldChjaGVja3N1bSwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobG9nZ2VyLmRlYnVnICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpemVFeHBsYW5hdGlvbiA9IGV4aXN0aW5nID09PSBzaXplID8gXCIoc2FtZSBzaXplKVwiIDogYChzaXplOiAke2V4aXN0aW5nfSwgdGhpcyBzaXplOiAke3NpemV9KWA7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoYCR7Y2hlY2tzdW19IGR1cGxpY2F0ZWQgaW4gYmxvY2ttYXAgJHtzaXplRXhwbGFuYXRpb259LCBpdCBkb2Vzbid0IGxlYWQgdG8gYnJva2VuIGRpZmZlcmVudGlhbCBkb3dubG9hZGVyLCBqdXN0IGNvcnJlc3BvbmRpbmcgYmxvY2sgd2lsbCBiZSBza2lwcGVkKWApO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCArPSBzaXplO1xuICAgIH1cbiAgICByZXR1cm4geyBjaGVja3N1bVRvT2Zmc2V0LCBjaGVja3N1bVRvT2xkU2l6ZTogY2hlY2tzdW1Ub1NpemUgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQmxvY2tGaWxlTWFwKGxpc3QpIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGxpc3QpIHtcbiAgICAgICAgcmVzdWx0LnNldChpdGVtLm5hbWUsIGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG93bmxvYWRQbGFuQnVpbGRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRGF0YVNwbGl0dGVyID0gZXhwb3J0cy5jb3B5RGF0YSA9IHZvaWQgMDtcbmNvbnN0IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEgPSByZXF1aXJlKFwiYnVpbGRlci11dGlsLXJ1bnRpbWVcIik7XG5jb25zdCBmc18xID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3Qgc3RyZWFtXzEgPSByZXF1aXJlKFwic3RyZWFtXCIpO1xuY29uc3QgZG93bmxvYWRQbGFuQnVpbGRlcl8xID0gcmVxdWlyZShcIi4vZG93bmxvYWRQbGFuQnVpbGRlclwiKTtcbmNvbnN0IERPVUJMRV9DUkxGID0gQnVmZmVyLmZyb20oXCJcXHJcXG5cXHJcXG5cIik7XG52YXIgUmVhZFN0YXRlO1xuKGZ1bmN0aW9uIChSZWFkU3RhdGUpIHtcbiAgICBSZWFkU3RhdGVbUmVhZFN0YXRlW1wiSU5JVFwiXSA9IDBdID0gXCJJTklUXCI7XG4gICAgUmVhZFN0YXRlW1JlYWRTdGF0ZVtcIkhFQURFUlwiXSA9IDFdID0gXCJIRUFERVJcIjtcbiAgICBSZWFkU3RhdGVbUmVhZFN0YXRlW1wiQk9EWVwiXSA9IDJdID0gXCJCT0RZXCI7XG59KShSZWFkU3RhdGUgfHwgKFJlYWRTdGF0ZSA9IHt9KSk7XG5mdW5jdGlvbiBjb3B5RGF0YSh0YXNrLCBvdXQsIG9sZEZpbGVGZCwgcmVqZWN0LCByZXNvbHZlKSB7XG4gICAgY29uc3QgcmVhZFN0cmVhbSA9IGZzXzEuY3JlYXRlUmVhZFN0cmVhbShcIlwiLCB7XG4gICAgICAgIGZkOiBvbGRGaWxlRmQsXG4gICAgICAgIGF1dG9DbG9zZTogZmFsc2UsXG4gICAgICAgIHN0YXJ0OiB0YXNrLnN0YXJ0LFxuICAgICAgICAvLyBlbmQgaXMgaW5jbHVzaXZlXG4gICAgICAgIGVuZDogdGFzay5lbmQgLSAxLFxuICAgIH0pO1xuICAgIHJlYWRTdHJlYW0ub24oXCJlcnJvclwiLCByZWplY3QpO1xuICAgIHJlYWRTdHJlYW0ub25jZShcImVuZFwiLCByZXNvbHZlKTtcbiAgICByZWFkU3RyZWFtLnBpcGUob3V0LCB7XG4gICAgICAgIGVuZDogZmFsc2UsXG4gICAgfSk7XG59XG5leHBvcnRzLmNvcHlEYXRhID0gY29weURhdGE7XG5jbGFzcyBEYXRhU3BsaXR0ZXIgZXh0ZW5kcyBzdHJlYW1fMS5Xcml0YWJsZSB7XG4gICAgY29uc3RydWN0b3Iob3V0LCBvcHRpb25zLCBwYXJ0SW5kZXhUb1Rhc2tJbmRleCwgYm91bmRhcnksIHBhcnRJbmRleFRvTGVuZ3RoLCBmaW5pc2hIYW5kbGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3V0ID0gb3V0O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnBhcnRJbmRleFRvVGFza0luZGV4ID0gcGFydEluZGV4VG9UYXNrSW5kZXg7XG4gICAgICAgIHRoaXMucGFydEluZGV4VG9MZW5ndGggPSBwYXJ0SW5kZXhUb0xlbmd0aDtcbiAgICAgICAgdGhpcy5maW5pc2hIYW5kbGVyID0gZmluaXNoSGFuZGxlcjtcbiAgICAgICAgdGhpcy5wYXJ0SW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5oZWFkZXJMaXN0QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWFkU3RhdGUgPSBSZWFkU3RhdGUuSU5JVDtcbiAgICAgICAgdGhpcy5pZ25vcmVCeXRlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnJlbWFpbmluZ1BhcnREYXRhQ291bnQgPSAwO1xuICAgICAgICB0aGlzLmFjdHVhbFBhcnRMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJvdW5kYXJ5TGVuZ3RoID0gYm91bmRhcnkubGVuZ3RoICsgNDsgLyogc2l6ZSBvZiBcXHJcXG4tLSAqL1xuICAgICAgICAvLyBmaXJzdCBjaHVuayBkb2Vzbid0IHN0YXJ0IHdpdGggXFxyXFxuXG4gICAgICAgIHRoaXMuaWdub3JlQnl0ZUNvdW50ID0gdGhpcy5ib3VuZGFyeUxlbmd0aCAtIDI7XG4gICAgfVxuICAgIGdldCBpc0ZpbmlzaGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0SW5kZXggPT09IHRoaXMucGFydEluZGV4VG9MZW5ndGgubGVuZ3RoO1xuICAgIH1cbiAgICAvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG4gICAgX3dyaXRlKGRhdGEsIGVuY29kaW5nLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5pc0ZpbmlzaGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBUcmFpbGluZyBpZ25vcmVkIGRhdGE6ICR7ZGF0YS5sZW5ndGh9IGJ5dGVzYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVEYXRhKGRhdGEpLnRoZW4oY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlRGF0YShjaHVuaykge1xuICAgICAgICBsZXQgc3RhcnQgPSAwO1xuICAgICAgICBpZiAodGhpcy5pZ25vcmVCeXRlQ291bnQgIT09IDAgJiYgdGhpcy5yZW1haW5pbmdQYXJ0RGF0YUNvdW50ICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBidWlsZGVyX3V0aWxfcnVudGltZV8xLm5ld0Vycm9yKFwiSW50ZXJuYWwgZXJyb3JcIiwgXCJFUlJfREFUQV9TUExJVFRFUl9CWVRFX0NPVU5UX01JU01BVENIXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlnbm9yZUJ5dGVDb3VudCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRvSWdub3JlID0gTWF0aC5taW4odGhpcy5pZ25vcmVCeXRlQ291bnQsIGNodW5rLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmlnbm9yZUJ5dGVDb3VudCAtPSB0b0lnbm9yZTtcbiAgICAgICAgICAgIHN0YXJ0ID0gdG9JZ25vcmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yZW1haW5pbmdQYXJ0RGF0YUNvdW50ID4gMCkge1xuICAgICAgICAgICAgY29uc3QgdG9SZWFkID0gTWF0aC5taW4odGhpcy5yZW1haW5pbmdQYXJ0RGF0YUNvdW50LCBjaHVuay5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdQYXJ0RGF0YUNvdW50IC09IHRvUmVhZDtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc1BhcnREYXRhKGNodW5rLCAwLCB0b1JlYWQpO1xuICAgICAgICAgICAgc3RhcnQgPSB0b1JlYWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ID09PSBjaHVuay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZWFkU3RhdGUgPT09IFJlYWRTdGF0ZS5IRUFERVIpIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlckxpc3RFbmQgPSB0aGlzLnNlYXJjaEhlYWRlckxpc3RFbmQoY2h1bmssIHN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChoZWFkZXJMaXN0RW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0ID0gaGVhZGVyTGlzdEVuZDtcbiAgICAgICAgICAgIHRoaXMucmVhZFN0YXRlID0gUmVhZFN0YXRlLkJPRFk7XG4gICAgICAgICAgICAvLyBoZWFkZXIgbGlzdCBpcyBpZ25vcmVkLCB3ZSBkb24ndCBuZWVkIGl0XG4gICAgICAgICAgICB0aGlzLmhlYWRlckxpc3RCdWZmZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkU3RhdGUgPT09IFJlYWRTdGF0ZS5CT0RZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkU3RhdGUgPSBSZWFkU3RhdGUuSU5JVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgbGV0IHRhc2tJbmRleCA9IHRoaXMucGFydEluZGV4VG9UYXNrSW5kZXguZ2V0KHRoaXMucGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAodGFza0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNGaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0luZGV4ID0gdGhpcy5vcHRpb25zLmVuZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEubmV3RXJyb3IoXCJ0YXNrSW5kZXggaXMgbnVsbFwiLCBcIkVSUl9EQVRBX1NQTElUVEVSX1RBU0tfSU5ERVhfSVNfTlVMTFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VGFza0luZGV4ID0gdGhpcy5wYXJ0SW5kZXggPT09IDAgPyB0aGlzLm9wdGlvbnMuc3RhcnQgOiB0aGlzLnBhcnRJbmRleFRvVGFza0luZGV4LmdldCh0aGlzLnBhcnRJbmRleCAtIDEpICsgMTsgLyogcHJldiBwYXJ0IGlzIGRvd25sb2FkLCBuZXh0IG1heWJlIGNvcHkgKi9cbiAgICAgICAgICAgICAgICBpZiAocHJldlRhc2tJbmRleCA8IHRhc2tJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvcHlFeGlzdGluZ0RhdGEocHJldlRhc2tJbmRleCwgdGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJldlRhc2tJbmRleCA+IHRhc2tJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBidWlsZGVyX3V0aWxfcnVudGltZV8xLm5ld0Vycm9yKFwicHJldlRhc2tJbmRleCBtdXN0IGJlIDwgdGFza0luZGV4XCIsIFwiRVJSX0RBVEFfU1BMSVRURVJfVEFTS19JTkRFWF9BU1NFUlRfRkFJTEVEXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25QYXJ0RW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5zZWFyY2hIZWFkZXJMaXN0RW5kKGNodW5rLCBzdGFydCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRTdGF0ZSA9IFJlYWRTdGF0ZS5IRUFERVI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXJ0TGVuZ3RoID0gdGhpcy5wYXJ0SW5kZXhUb0xlbmd0aFt0aGlzLnBhcnRJbmRleF07XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIHBhcnRMZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBlZmZlY3RpdmVFbmQgPSBNYXRoLm1pbihlbmQsIGNodW5rLmxlbmd0aCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2Nlc3NQYXJ0U3RhcnRlZChjaHVuaywgc3RhcnQsIGVmZmVjdGl2ZUVuZCk7XG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ1BhcnREYXRhQ291bnQgPSBwYXJ0TGVuZ3RoIC0gKGVmZmVjdGl2ZUVuZCAtIHN0YXJ0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ1BhcnREYXRhQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhcnQgPSBlbmQgKyB0aGlzLmJvdW5kYXJ5TGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHN0YXJ0ID49IGNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaWdub3JlQnl0ZUNvdW50ID0gdGhpcy5ib3VuZGFyeUxlbmd0aCAtIChjaHVuay5sZW5ndGggLSBlbmQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb3B5RXhpc3RpbmdEYXRhKGluZGV4LCBlbmQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHcgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSB0aGlzLm9wdGlvbnMudGFza3NbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLmtpbmQgIT09IGRvd25sb2FkUGxhbkJ1aWxkZXJfMS5PcGVyYXRpb25LaW5kLkNPUFkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlRhc2sga2luZCBtdXN0IGJlIENPUFlcIikpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvcHlEYXRhKHRhc2ssIHRoaXMub3V0LCB0aGlzLm9wdGlvbnMub2xkRmlsZUZkLCByZWplY3QsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgdygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHcoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlYXJjaEhlYWRlckxpc3RFbmQoY2h1bmssIHJlYWRPZmZzZXQpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyTGlzdEVuZCA9IGNodW5rLmluZGV4T2YoRE9VQkxFX0NSTEYsIHJlYWRPZmZzZXQpO1xuICAgICAgICBpZiAoaGVhZGVyTGlzdEVuZCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBoZWFkZXJMaXN0RW5kICsgRE9VQkxFX0NSTEYubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdCBhbGwgaGVhZGVycyBkYXRhIHdlcmUgcmVjZWl2ZWQsIHNhdmUgdG8gYnVmZmVyXG4gICAgICAgIGNvbnN0IHBhcnRpYWxDaHVuayA9IHJlYWRPZmZzZXQgPT09IDAgPyBjaHVuayA6IGNodW5rLnNsaWNlKHJlYWRPZmZzZXQpO1xuICAgICAgICBpZiAodGhpcy5oZWFkZXJMaXN0QnVmZmVyID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyTGlzdEJ1ZmZlciA9IHBhcnRpYWxDaHVuaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyTGlzdEJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuaGVhZGVyTGlzdEJ1ZmZlciwgcGFydGlhbENodW5rXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBvblBhcnRFbmQoKSB7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkTGVuZ3RoID0gdGhpcy5wYXJ0SW5kZXhUb0xlbmd0aFt0aGlzLnBhcnRJbmRleCAtIDFdO1xuICAgICAgICBpZiAodGhpcy5hY3R1YWxQYXJ0TGVuZ3RoICE9PSBleHBlY3RlZExlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5uZXdFcnJvcihgRXhwZWN0ZWQgbGVuZ3RoOiAke2V4cGVjdGVkTGVuZ3RofSBkaWZmZXJzIGZyb20gYWN0dWFsOiAke3RoaXMuYWN0dWFsUGFydExlbmd0aH1gLCBcIkVSUl9EQVRBX1NQTElUVEVSX0xFTkdUSF9NSVNNQVRDSFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdHVhbFBhcnRMZW5ndGggPSAwO1xuICAgIH1cbiAgICBwcm9jZXNzUGFydFN0YXJ0ZWQoZGF0YSwgc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAodGhpcy5wYXJ0SW5kZXggIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMub25QYXJ0RW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1BhcnREYXRhKGRhdGEsIHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgICBwcm9jZXNzUGFydERhdGEoZGF0YSwgc3RhcnQsIGVuZCkge1xuICAgICAgICB0aGlzLmFjdHVhbFBhcnRMZW5ndGggKz0gZW5kIC0gc3RhcnQ7XG4gICAgICAgIGNvbnN0IG91dCA9IHRoaXMub3V0O1xuICAgICAgICBpZiAob3V0LndyaXRlKHN0YXJ0ID09PSAwICYmIGRhdGEubGVuZ3RoID09PSBlbmQgPyBkYXRhIDogZGF0YS5zbGljZShzdGFydCwgZW5kKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgb3V0Lm9uKFwiZXJyb3JcIiwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICBvdXQub25jZShcImRyYWluXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkRhdGFTcGxpdHRlciA9IERhdGFTcGxpdHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURhdGFTcGxpdHRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY2hlY2tJc1Jhbmdlc1N1cHBvcnRlZCA9IGV4cG9ydHMuZXhlY3V0ZVRhc2tzVXNpbmdNdWx0aXBsZVJhbmdlUmVxdWVzdHMgPSB2b2lkIDA7XG5jb25zdCBidWlsZGVyX3V0aWxfcnVudGltZV8xID0gcmVxdWlyZShcImJ1aWxkZXItdXRpbC1ydW50aW1lXCIpO1xuY29uc3QgRGF0YVNwbGl0dGVyXzEgPSByZXF1aXJlKFwiLi9EYXRhU3BsaXR0ZXJcIik7XG5jb25zdCBkb3dubG9hZFBsYW5CdWlsZGVyXzEgPSByZXF1aXJlKFwiLi9kb3dubG9hZFBsYW5CdWlsZGVyXCIpO1xuZnVuY3Rpb24gZXhlY3V0ZVRhc2tzVXNpbmdNdWx0aXBsZVJhbmdlUmVxdWVzdHMoZGlmZmVyZW50aWFsRG93bmxvYWRlciwgdGFza3MsIG91dCwgb2xkRmlsZUZkLCByZWplY3QpIHtcbiAgICBjb25zdCB3ID0gKHRhc2tPZmZzZXQpID0+IHtcbiAgICAgICAgaWYgKHRhc2tPZmZzZXQgPj0gdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoZGlmZmVyZW50aWFsRG93bmxvYWRlci5maWxlTWV0YWRhdGFCdWZmZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG91dC53cml0ZShkaWZmZXJlbnRpYWxEb3dubG9hZGVyLmZpbGVNZXRhZGF0YUJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQuZW5kKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dE9mZnNldCA9IHRhc2tPZmZzZXQgKyAxMDAwO1xuICAgICAgICBkb0V4ZWN1dGVUYXNrcyhkaWZmZXJlbnRpYWxEb3dubG9hZGVyLCB7XG4gICAgICAgICAgICB0YXNrcyxcbiAgICAgICAgICAgIHN0YXJ0OiB0YXNrT2Zmc2V0LFxuICAgICAgICAgICAgZW5kOiBNYXRoLm1pbih0YXNrcy5sZW5ndGgsIG5leHRPZmZzZXQpLFxuICAgICAgICAgICAgb2xkRmlsZUZkLFxuICAgICAgICB9LCBvdXQsICgpID0+IHcobmV4dE9mZnNldCksIHJlamVjdCk7XG4gICAgfTtcbiAgICByZXR1cm4gdztcbn1cbmV4cG9ydHMuZXhlY3V0ZVRhc2tzVXNpbmdNdWx0aXBsZVJhbmdlUmVxdWVzdHMgPSBleGVjdXRlVGFza3NVc2luZ011bHRpcGxlUmFuZ2VSZXF1ZXN0cztcbmZ1bmN0aW9uIGRvRXhlY3V0ZVRhc2tzKGRpZmZlcmVudGlhbERvd25sb2FkZXIsIG9wdGlvbnMsIG91dCwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbGV0IHJhbmdlcyA9IFwiYnl0ZXM9XCI7XG4gICAgbGV0IHBhcnRDb3VudCA9IDA7XG4gICAgY29uc3QgcGFydEluZGV4VG9UYXNrSW5kZXggPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcGFydEluZGV4VG9MZW5ndGggPSBbXTtcbiAgICBmb3IgKGxldCBpID0gb3B0aW9ucy5zdGFydDsgaSA8IG9wdGlvbnMuZW5kOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGFzayA9IG9wdGlvbnMudGFza3NbaV07XG4gICAgICAgIGlmICh0YXNrLmtpbmQgPT09IGRvd25sb2FkUGxhbkJ1aWxkZXJfMS5PcGVyYXRpb25LaW5kLkRPV05MT0FEKSB7XG4gICAgICAgICAgICByYW5nZXMgKz0gYCR7dGFzay5zdGFydH0tJHt0YXNrLmVuZCAtIDF9LCBgO1xuICAgICAgICAgICAgcGFydEluZGV4VG9UYXNrSW5kZXguc2V0KHBhcnRDb3VudCwgaSk7XG4gICAgICAgICAgICBwYXJ0Q291bnQrKztcbiAgICAgICAgICAgIHBhcnRJbmRleFRvTGVuZ3RoLnB1c2godGFzay5lbmQgLSB0YXNrLnN0YXJ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFydENvdW50IDw9IDEpIHtcbiAgICAgICAgLy8gdGhlIG9ubHkgcmVtb3RlIHJhbmdlIC0gY29weVxuICAgICAgICBjb25zdCB3ID0gKGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gb3B0aW9ucy5lbmQpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGFzayA9IG9wdGlvbnMudGFza3NbaW5kZXgrK107XG4gICAgICAgICAgICBpZiAodGFzay5raW5kID09PSBkb3dubG9hZFBsYW5CdWlsZGVyXzEuT3BlcmF0aW9uS2luZC5DT1BZKSB7XG4gICAgICAgICAgICAgICAgRGF0YVNwbGl0dGVyXzEuY29weURhdGEodGFzaywgb3V0LCBvcHRpb25zLm9sZEZpbGVGZCwgcmVqZWN0LCAoKSA9PiB3KGluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IGRpZmZlcmVudGlhbERvd25sb2FkZXIuY3JlYXRlUmVxdWVzdE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzLlJhbmdlID0gYGJ5dGVzPSR7dGFzay5zdGFydH0tJHt0YXNrLmVuZCAtIDF9YDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gZGlmZmVyZW50aWFsRG93bmxvYWRlci5odHRwRXhlY3V0b3IuY3JlYXRlUmVxdWVzdChyZXF1ZXN0T3B0aW9ucywgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrSXNSYW5nZXNTdXBwb3J0ZWQocmVzcG9uc2UsIHJlamVjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5waXBlKG91dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLm9uY2UoXCJlbmRcIiwgKCkgPT4gdyhpbmRleCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRpZmZlcmVudGlhbERvd25sb2FkZXIuaHR0cEV4ZWN1dG9yLmFkZEVycm9yQW5kVGltZW91dEhhbmRsZXJzKHJlcXVlc3QsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5lbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdyhvcHRpb25zLnN0YXJ0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IGRpZmZlcmVudGlhbERvd25sb2FkZXIuY3JlYXRlUmVxdWVzdE9wdGlvbnMoKTtcbiAgICByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzLlJhbmdlID0gcmFuZ2VzLnN1YnN0cmluZygwLCByYW5nZXMubGVuZ3RoIC0gMik7XG4gICAgY29uc3QgcmVxdWVzdCA9IGRpZmZlcmVudGlhbERvd25sb2FkZXIuaHR0cEV4ZWN1dG9yLmNyZWF0ZVJlcXVlc3QocmVxdWVzdE9wdGlvbnMsIHJlc3BvbnNlID0+IHtcbiAgICAgICAgaWYgKCFjaGVja0lzUmFuZ2VzU3VwcG9ydGVkKHJlc3BvbnNlLCByZWplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSBidWlsZGVyX3V0aWxfcnVudGltZV8xLnNhZmVHZXRIZWFkZXIocmVzcG9uc2UsIFwiY29udGVudC10eXBlXCIpO1xuICAgICAgICBjb25zdCBtID0gL15tdWx0aXBhcnRcXC8uKz8oPzo7IGJvdW5kYXJ5PSg/Oig/OlwiKC4rKVwiKXwoPzooW15cXHNdKykpKSkkL2kuZXhlYyhjb250ZW50VHlwZSk7XG4gICAgICAgIGlmIChtID09IG51bGwpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYENvbnRlbnQtVHlwZSBcIm11bHRpcGFydC9ieXRlcmFuZ2VzXCIgaXMgZXhwZWN0ZWQsIGJ1dCBnb3QgXCIke2NvbnRlbnRUeXBlfVwiYCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpY2VyID0gbmV3IERhdGFTcGxpdHRlcl8xLkRhdGFTcGxpdHRlcihvdXQsIG9wdGlvbnMsIHBhcnRJbmRleFRvVGFza0luZGV4LCBtWzFdIHx8IG1bMl0sIHBhcnRJbmRleFRvTGVuZ3RoLCByZXNvbHZlKTtcbiAgICAgICAgZGljZXIub24oXCJlcnJvclwiLCByZWplY3QpO1xuICAgICAgICByZXNwb25zZS5waXBlKGRpY2VyKTtcbiAgICAgICAgcmVzcG9uc2Uub24oXCJlbmRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJSZXNwb25zZSBlbmRzIHdpdGhvdXQgY2FsbGluZyBhbnkgaGFuZGxlcnNcIikpO1xuICAgICAgICAgICAgfSwgMTAwMDApO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBkaWZmZXJlbnRpYWxEb3dubG9hZGVyLmh0dHBFeGVjdXRvci5hZGRFcnJvckFuZFRpbWVvdXRIYW5kbGVycyhyZXF1ZXN0LCByZWplY3QpO1xuICAgIHJlcXVlc3QuZW5kKCk7XG59XG5mdW5jdGlvbiBjaGVja0lzUmFuZ2VzU3VwcG9ydGVkKHJlc3BvbnNlLCByZWplY3QpIHtcbiAgICAvLyBFbGVjdHJvbiBuZXQgaGFuZGxlcyByZWRpcmVjdHMgYXV0b21hdGljYWxseSwgb3VyIE5vZGVKUyB0ZXN0IHNlcnZlciBkb2Vzbid0IHVzZSByZWRpcmVjdHMgLSBzbywgd2UgZG9uJ3QgY2hlY2sgM3h4IGNvZGVzLlxuICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID49IDQwMCkge1xuICAgICAgICByZWplY3QoYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5jcmVhdGVIdHRwRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSAhPT0gMjA2KSB7XG4gICAgICAgIGNvbnN0IGFjY2VwdFJhbmdlcyA9IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEuc2FmZUdldEhlYWRlcihyZXNwb25zZSwgXCJhY2NlcHQtcmFuZ2VzXCIpO1xuICAgICAgICBpZiAoYWNjZXB0UmFuZ2VzID09IG51bGwgfHwgYWNjZXB0UmFuZ2VzID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgU2VydmVyIGRvZXNuJ3Qgc3VwcG9ydCBBY2NlcHQtUmFuZ2VzIChyZXNwb25zZSBjb2RlICR7cmVzcG9uc2Uuc3RhdHVzQ29kZX0pYCkpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5jaGVja0lzUmFuZ2VzU3VwcG9ydGVkID0gY2hlY2tJc1Jhbmdlc1N1cHBvcnRlZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW11bHRpcGxlUmFuZ2VEb3dubG9hZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qcm9ncmVzc0RpZmZlcmVudGlhbERvd25sb2FkQ2FsbGJhY2tUcmFuc2Zvcm0gPSB2b2lkIDA7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG52YXIgT3BlcmF0aW9uS2luZDtcbihmdW5jdGlvbiAoT3BlcmF0aW9uS2luZCkge1xuICAgIE9wZXJhdGlvbktpbmRbT3BlcmF0aW9uS2luZFtcIkNPUFlcIl0gPSAwXSA9IFwiQ09QWVwiO1xuICAgIE9wZXJhdGlvbktpbmRbT3BlcmF0aW9uS2luZFtcIkRPV05MT0FEXCJdID0gMV0gPSBcIkRPV05MT0FEXCI7XG59KShPcGVyYXRpb25LaW5kIHx8IChPcGVyYXRpb25LaW5kID0ge30pKTtcbmNsYXNzIFByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRDYWxsYmFja1RyYW5zZm9ybSBleHRlbmRzIHN0cmVhbV8xLlRyYW5zZm9ybSB7XG4gICAgY29uc3RydWN0b3IocHJvZ3Jlc3NEaWZmZXJlbnRpYWxEb3dubG9hZEluZm8sIGNhbmNlbGxhdGlvblRva2VuLCBvblByb2dyZXNzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3NEaWZmZXJlbnRpYWxEb3dubG9hZEluZm8gPSBwcm9ncmVzc0RpZmZlcmVudGlhbERvd25sb2FkSW5mbztcbiAgICAgICAgdGhpcy5jYW5jZWxsYXRpb25Ub2tlbiA9IGNhbmNlbGxhdGlvblRva2VuO1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBvblByb2dyZXNzO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy50cmFuc2ZlcnJlZCA9IDA7XG4gICAgICAgIHRoaXMuZGVsdGEgPSAwO1xuICAgICAgICB0aGlzLmV4cGVjdGVkQnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UeXBlID0gT3BlcmF0aW9uS2luZC5DT1BZO1xuICAgICAgICB0aGlzLm5leHRVcGRhdGUgPSB0aGlzLnN0YXJ0ICsgMTAwMDtcbiAgICB9XG4gICAgX3RyYW5zZm9ybShjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbmNlbGxhdGlvblRva2VuLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKFwiY2FuY2VsbGVkXCIpLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEb24ndCBzZW5kIHByb2dyZXNzIHVwZGF0ZSB3aGVuIGNvcHlpbmcgZnJvbSBkaXNrXG4gICAgICAgIGlmICh0aGlzLm9wZXJhdGlvblR5cGUgPT0gT3BlcmF0aW9uS2luZC5DT1BZKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBjaHVuayk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFuc2ZlcnJlZCArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgIHRoaXMuZGVsdGEgKz0gY2h1bmsubGVuZ3RoO1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAobm93ID49IHRoaXMubmV4dFVwZGF0ZSAmJlxuICAgICAgICAgICAgdGhpcy50cmFuc2ZlcnJlZCAhPT0gdGhpcy5leHBlY3RlZEJ5dGVzIC8qIHdpbGwgYmUgZW1pdHRlZCBieSBlbmRSYW5nZURvd25sb2FkKCkgKi8gJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNmZXJyZWQgIT09IHRoaXMucHJvZ3Jlc3NEaWZmZXJlbnRpYWxEb3dubG9hZEluZm8uZ3JhbmRUb3RhbCAvKiB3aWxsIGJlIGVtaXR0ZWQgb24gX2ZsdXNoICovKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRVcGRhdGUgPSBub3cgKyAxMDAwO1xuICAgICAgICAgICAgdGhpcy5vblByb2dyZXNzKHtcbiAgICAgICAgICAgICAgICB0b3RhbDogdGhpcy5wcm9ncmVzc0RpZmZlcmVudGlhbERvd25sb2FkSW5mby5ncmFuZFRvdGFsLFxuICAgICAgICAgICAgICAgIGRlbHRhOiB0aGlzLmRlbHRhLFxuICAgICAgICAgICAgICAgIHRyYW5zZmVycmVkOiB0aGlzLnRyYW5zZmVycmVkLFxuICAgICAgICAgICAgICAgIHBlcmNlbnQ6ICh0aGlzLnRyYW5zZmVycmVkIC8gdGhpcy5wcm9ncmVzc0RpZmZlcmVudGlhbERvd25sb2FkSW5mby5ncmFuZFRvdGFsKSAqIDEwMCxcbiAgICAgICAgICAgICAgICBieXRlc1BlclNlY29uZDogTWF0aC5yb3VuZCh0aGlzLnRyYW5zZmVycmVkIC8gKChub3cgLSB0aGlzLnN0YXJ0KSAvIDEwMDApKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5kZWx0YSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sobnVsbCwgY2h1bmspO1xuICAgIH1cbiAgICBiZWdpbkZpbGVDb3B5KCkge1xuICAgICAgICB0aGlzLm9wZXJhdGlvblR5cGUgPSBPcGVyYXRpb25LaW5kLkNPUFk7XG4gICAgfVxuICAgIGJlZ2luUmFuZ2VEb3dubG9hZCgpIHtcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UeXBlID0gT3BlcmF0aW9uS2luZC5ET1dOTE9BRDtcbiAgICAgICAgdGhpcy5leHBlY3RlZEJ5dGVzICs9IHRoaXMucHJvZ3Jlc3NEaWZmZXJlbnRpYWxEb3dubG9hZEluZm8uZXhwZWN0ZWRCeXRlQ291bnRzW3RoaXMuaW5kZXgrK107XG4gICAgfVxuICAgIGVuZFJhbmdlRG93bmxvYWQoKSB7XG4gICAgICAgIC8vIF9mbHVzaCgpIHdpbGwgZG9vdXIgZmluYWwgMTAwJVxuICAgICAgICBpZiAodGhpcy50cmFuc2ZlcnJlZCAhPT0gdGhpcy5wcm9ncmVzc0RpZmZlcmVudGlhbERvd25sb2FkSW5mby5ncmFuZFRvdGFsKSB7XG4gICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3Moe1xuICAgICAgICAgICAgICAgIHRvdGFsOiB0aGlzLnByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRJbmZvLmdyYW5kVG90YWwsXG4gICAgICAgICAgICAgICAgZGVsdGE6IHRoaXMuZGVsdGEsXG4gICAgICAgICAgICAgICAgdHJhbnNmZXJyZWQ6IHRoaXMudHJhbnNmZXJyZWQsXG4gICAgICAgICAgICAgICAgcGVyY2VudDogKHRoaXMudHJhbnNmZXJyZWQgLyB0aGlzLnByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRJbmZvLmdyYW5kVG90YWwpICogMTAwLFxuICAgICAgICAgICAgICAgIGJ5dGVzUGVyU2Vjb25kOiBNYXRoLnJvdW5kKHRoaXMudHJhbnNmZXJyZWQgLyAoKERhdGUubm93KCkgLSB0aGlzLnN0YXJ0KSAvIDEwMDApKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENhbGxlZCB3aGVuIHdlIGFyZSAxMDAlIGRvbmUgd2l0aCB0aGUgY29ubmVjdGlvbi9kb3dubG9hZFxuICAgIF9mbHVzaChjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxsYXRpb25Ub2tlbi5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcihcImNhbmNlbGxlZFwiKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vblByb2dyZXNzKHtcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzLnByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRJbmZvLmdyYW5kVG90YWwsXG4gICAgICAgICAgICBkZWx0YTogdGhpcy5kZWx0YSxcbiAgICAgICAgICAgIHRyYW5zZmVycmVkOiB0aGlzLnRyYW5zZmVycmVkLFxuICAgICAgICAgICAgcGVyY2VudDogMTAwLFxuICAgICAgICAgICAgYnl0ZXNQZXJTZWNvbmQ6IE1hdGgucm91bmQodGhpcy50cmFuc2ZlcnJlZCAvICgoRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnQpIC8gMTAwMCkpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWx0YSA9IDA7XG4gICAgICAgIHRoaXMudHJhbnNmZXJyZWQgPSAwO1xuICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICB9XG59XG5leHBvcnRzLlByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRDYWxsYmFja1RyYW5zZm9ybSA9IFByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRDYWxsYmFja1RyYW5zZm9ybTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRDYWxsYmFja1RyYW5zZm9ybS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRGlmZmVyZW50aWFsRG93bmxvYWRlciA9IHZvaWQgMDtcbmNvbnN0IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEgPSByZXF1aXJlKFwiYnVpbGRlci11dGlsLXJ1bnRpbWVcIik7XG5jb25zdCBmc19leHRyYV8xID0gcmVxdWlyZShcImZzLWV4dHJhXCIpO1xuY29uc3QgZnNfMSA9IHJlcXVpcmUoXCJmc1wiKTtcbmNvbnN0IERhdGFTcGxpdHRlcl8xID0gcmVxdWlyZShcIi4vRGF0YVNwbGl0dGVyXCIpO1xuY29uc3QgdXJsXzEgPSByZXF1aXJlKFwidXJsXCIpO1xuY29uc3QgZG93bmxvYWRQbGFuQnVpbGRlcl8xID0gcmVxdWlyZShcIi4vZG93bmxvYWRQbGFuQnVpbGRlclwiKTtcbmNvbnN0IG11bHRpcGxlUmFuZ2VEb3dubG9hZGVyXzEgPSByZXF1aXJlKFwiLi9tdWx0aXBsZVJhbmdlRG93bmxvYWRlclwiKTtcbmNvbnN0IFByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRDYWxsYmFja1RyYW5zZm9ybV8xID0gcmVxdWlyZShcIi4vUHJvZ3Jlc3NEaWZmZXJlbnRpYWxEb3dubG9hZENhbGxiYWNrVHJhbnNmb3JtXCIpO1xuY2xhc3MgRGlmZmVyZW50aWFsRG93bmxvYWRlciB7XG4gICAgLy8gbm9pbnNwZWN0aW9uIFR5cGVTY3JpcHRBYnN0cmFjdENsYXNzQ29uc3RydWN0b3JDYW5CZU1hZGVQcm90ZWN0ZWRcbiAgICBjb25zdHJ1Y3RvcihibG9ja0F3YXJlRmlsZUluZm8sIGh0dHBFeGVjdXRvciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmJsb2NrQXdhcmVGaWxlSW5mbyA9IGJsb2NrQXdhcmVGaWxlSW5mbztcbiAgICAgICAgdGhpcy5odHRwRXhlY3V0b3IgPSBodHRwRXhlY3V0b3I7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuZmlsZU1ldGFkYXRhQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBvcHRpb25zLmxvZ2dlcjtcbiAgICB9XG4gICAgY3JlYXRlUmVxdWVzdE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLm9wdGlvbnMucmVxdWVzdEhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYWNjZXB0OiBcIiovKlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5jb25maWd1cmVSZXF1ZXN0VXJsKHRoaXMub3B0aW9ucy5uZXdVcmwsIHJlc3VsdCk7XG4gICAgICAgIC8vIHVzZXItYWdlbnQsIGNhY2hlLWNvbnRyb2wgYW5kIG90aGVyIGNvbW1vbiBvcHRpb25zXG4gICAgICAgIGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEuY29uZmlndXJlUmVxdWVzdE9wdGlvbnMocmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZG9Eb3dubG9hZChvbGRCbG9ja01hcCwgbmV3QmxvY2tNYXApIHtcbiAgICAgICAgLy8gd2UgZG9uJ3QgY2hlY2sgb3RoZXIgbWV0YWRhdGEgbGlrZSBjb21wcmVzc2lvbk1ldGhvZCAtIGdlbmVyaWMgY2hlY2sgdGhhdCBpdCBpcyBtYWtlIHNlbnNlIHRvIGRpZmZlcmVudGlhbGx5IHVwZGF0ZSBpcyBzdWl0YWJsZSBmb3IgaXRcbiAgICAgICAgaWYgKG9sZEJsb2NrTWFwLnZlcnNpb24gIT09IG5ld0Jsb2NrTWFwLnZlcnNpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdmVyc2lvbiBpcyBkaWZmZXJlbnQgKCR7b2xkQmxvY2tNYXAudmVyc2lvbn0gLSAke25ld0Jsb2NrTWFwLnZlcnNpb259KSwgZnVsbCBkb3dubG9hZCBpcyByZXF1aXJlZGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyO1xuICAgICAgICBjb25zdCBvcGVyYXRpb25zID0gZG93bmxvYWRQbGFuQnVpbGRlcl8xLmNvbXB1dGVPcGVyYXRpb25zKG9sZEJsb2NrTWFwLCBuZXdCbG9ja01hcCwgbG9nZ2VyKTtcbiAgICAgICAgaWYgKGxvZ2dlci5kZWJ1ZyAhPSBudWxsKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoSlNPTi5zdHJpbmdpZnkob3BlcmF0aW9ucywgbnVsbCwgMikpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkb3dubG9hZFNpemUgPSAwO1xuICAgICAgICBsZXQgY29weVNpemUgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiBvcGVyYXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBvcGVyYXRpb24uZW5kIC0gb3BlcmF0aW9uLnN0YXJ0O1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5raW5kID09PSBkb3dubG9hZFBsYW5CdWlsZGVyXzEuT3BlcmF0aW9uS2luZC5ET1dOTE9BRCkge1xuICAgICAgICAgICAgICAgIGRvd25sb2FkU2l6ZSArPSBsZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb3B5U2l6ZSArPSBsZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3U2l6ZSA9IHRoaXMuYmxvY2tBd2FyZUZpbGVJbmZvLnNpemU7XG4gICAgICAgIGlmIChkb3dubG9hZFNpemUgKyBjb3B5U2l6ZSArICh0aGlzLmZpbGVNZXRhZGF0YUJ1ZmZlciA9PSBudWxsID8gMCA6IHRoaXMuZmlsZU1ldGFkYXRhQnVmZmVyLmxlbmd0aCkgIT09IG5ld1NpemUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgZXJyb3IsIHNpemUgbWlzbWF0Y2g6IGRvd25sb2FkU2l6ZTogJHtkb3dubG9hZFNpemV9LCBjb3B5U2l6ZTogJHtjb3B5U2l6ZX0sIG5ld1NpemU6ICR7bmV3U2l6ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuaW5mbyhgRnVsbDogJHtmb3JtYXRCeXRlcyhuZXdTaXplKX0sIFRvIGRvd25sb2FkOiAke2Zvcm1hdEJ5dGVzKGRvd25sb2FkU2l6ZSl9ICgke01hdGgucm91bmQoZG93bmxvYWRTaXplIC8gKG5ld1NpemUgLyAxMDApKX0lKWApO1xuICAgICAgICByZXR1cm4gdGhpcy5kb3dubG9hZEZpbGUob3BlcmF0aW9ucyk7XG4gICAgfVxuICAgIGRvd25sb2FkRmlsZSh0YXNrcykge1xuICAgICAgICBjb25zdCBmZExpc3QgPSBbXTtcbiAgICAgICAgY29uc3QgY2xvc2VGaWxlcyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChmZExpc3QubWFwKG9wZW5lZEZpbGUgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBmc19leHRyYV8xLmNsb3NlKG9wZW5lZEZpbGUuZGVzY3JpcHRvcikuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBjYW5ub3QgY2xvc2UgZmlsZSBcIiR7b3BlbmVkRmlsZS5wYXRofVwiOiAke2V9YCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmRvRG93bmxvYWRGaWxlKHRhc2tzLCBmZExpc3QpXG4gICAgICAgICAgICAudGhlbihjbG9zZUZpbGVzKVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgLy8gdGhlbiBtdXN0IGJlIGFmdGVyIGNhdGNoIGhlcmUgKHNpbmNlIHRoZW4gYWx3YXlzIHRocm93cyBlcnJvcilcbiAgICAgICAgICAgIHJldHVybiBjbG9zZUZpbGVzKClcbiAgICAgICAgICAgICAgICAuY2F0Y2goY2xvc2VGaWxlc0Vycm9yID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjbG9zZUZpbGVzIG5ldmVyIHRocm93IGVycm9yLCBidXQganVzdCB0byBiZSBzdXJlXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYGNhbm5vdCBjbG9zZSBmaWxlczogJHtjbG9zZUZpbGVzRXJyb3J9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvck9uTG9nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yT25Mb2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvaywgZ2l2ZSB1cCBhbmQgaWdub3JlIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGRvRG93bmxvYWRGaWxlKHRhc2tzLCBmZExpc3QpIHtcbiAgICAgICAgY29uc3Qgb2xkRmlsZUZkID0gYXdhaXQgZnNfZXh0cmFfMS5vcGVuKHRoaXMub3B0aW9ucy5vbGRGaWxlLCBcInJcIik7XG4gICAgICAgIGZkTGlzdC5wdXNoKHsgZGVzY3JpcHRvcjogb2xkRmlsZUZkLCBwYXRoOiB0aGlzLm9wdGlvbnMub2xkRmlsZSB9KTtcbiAgICAgICAgY29uc3QgbmV3RmlsZUZkID0gYXdhaXQgZnNfZXh0cmFfMS5vcGVuKHRoaXMub3B0aW9ucy5uZXdGaWxlLCBcIndcIik7XG4gICAgICAgIGZkTGlzdC5wdXNoKHsgZGVzY3JpcHRvcjogbmV3RmlsZUZkLCBwYXRoOiB0aGlzLm9wdGlvbnMubmV3RmlsZSB9KTtcbiAgICAgICAgY29uc3QgZmlsZU91dCA9IGZzXzEuY3JlYXRlV3JpdGVTdHJlYW0odGhpcy5vcHRpb25zLm5ld0ZpbGUsIHsgZmQ6IG5ld0ZpbGVGZCB9KTtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtcyA9IFtdO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIG91ciBkb3dubG9hZCBpbmZvIHRyYW5zZm9ybWVyIGlmIHdlIGhhdmUgb25lXG4gICAgICAgICAgICBsZXQgZG93bmxvYWRJbmZvVHJhbnNmb3JtID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNVc2VNdWx0aXBsZVJhbmdlUmVxdWVzdCAmJiB0aGlzLm9wdGlvbnMub25Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IERvZXMgbm90IHN1cHBvcnQgbXVsdGlwbGUgcmFuZ2VzIChzb21lb25lIGZlZWwgZnJlZSB0byBQUiB0aGlzISlcbiAgICAgICAgICAgICAgICBjb25zdCBleHBlY3RlZEJ5dGVDb3VudHMgPSBbXTtcbiAgICAgICAgICAgICAgICBsZXQgZ3JhbmRUb3RhbEJ5dGVzID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2sua2luZCA9PT0gZG93bmxvYWRQbGFuQnVpbGRlcl8xLk9wZXJhdGlvbktpbmQuRE9XTkxPQUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkQnl0ZUNvdW50cy5wdXNoKHRhc2suZW5kIC0gdGFzay5zdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmFuZFRvdGFsQnl0ZXMgKz0gdGFzay5lbmQgLSB0YXNrLnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZEJ5dGVDb3VudHM6IGV4cGVjdGVkQnl0ZUNvdW50cyxcbiAgICAgICAgICAgICAgICAgICAgZ3JhbmRUb3RhbDogZ3JhbmRUb3RhbEJ5dGVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZG93bmxvYWRJbmZvVHJhbnNmb3JtID0gbmV3IFByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRDYWxsYmFja1RyYW5zZm9ybV8xLlByb2dyZXNzRGlmZmVyZW50aWFsRG93bmxvYWRDYWxsYmFja1RyYW5zZm9ybShwcm9ncmVzc0RpZmZlcmVudGlhbERvd25sb2FkSW5mbywgdGhpcy5vcHRpb25zLmNhbmNlbGxhdGlvblRva2VuLCB0aGlzLm9wdGlvbnMub25Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgc3RyZWFtcy5wdXNoKGRvd25sb2FkSW5mb1RyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkaWdlc3RUcmFuc2Zvcm0gPSBuZXcgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5EaWdlc3RUcmFuc2Zvcm0odGhpcy5ibG9ja0F3YXJlRmlsZUluZm8uc2hhNTEyKTtcbiAgICAgICAgICAgIC8vIHRvIHNpbXBseSBkZWJ1ZywgZG8gbWFudWFsIHZhbGlkYXRpb24gdG8gYWxsb3cgZmlsZSB0byBiZSBmdWxseSB3cml0dGVuXG4gICAgICAgICAgICBkaWdlc3RUcmFuc2Zvcm0uaXNWYWxpZGF0ZU9uRW5kID0gZmFsc2U7XG4gICAgICAgICAgICBzdHJlYW1zLnB1c2goZGlnZXN0VHJhbnNmb3JtKTtcbiAgICAgICAgICAgIC8vIG5vaW5zcGVjdGlvbiBKU0Fycm93RnVuY3Rpb25DYW5CZVJlcGxhY2VkV2l0aFNob3J0aGFuZFxuICAgICAgICAgICAgZmlsZU91dC5vbihcImZpbmlzaFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIGZpbGVPdXQuY2xvc2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgZnJvbSBmZCBsaXN0IGJlY2F1c2UgY2xvc2VkIHN1Y2Nlc3NmdWxseVxuICAgICAgICAgICAgICAgICAgICBmZExpc3Quc3BsaWNlKDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlnZXN0VHJhbnNmb3JtLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0cmVhbXMucHVzaChmaWxlT3V0KTtcbiAgICAgICAgICAgIGxldCBsYXN0U3RyZWFtID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3RyZWFtIG9mIHN0cmVhbXMpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0ub24oXCJlcnJvclwiLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0U3RyZWFtID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFN0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RTdHJlYW0gPSBsYXN0U3RyZWFtLnBpcGUoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaXJzdFN0cmVhbSA9IHN0cmVhbXNbMF07XG4gICAgICAgICAgICBsZXQgdztcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNVc2VNdWx0aXBsZVJhbmdlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIHcgPSBtdWx0aXBsZVJhbmdlRG93bmxvYWRlcl8xLmV4ZWN1dGVUYXNrc1VzaW5nTXVsdGlwbGVSYW5nZVJlcXVlc3RzKHRoaXMsIHRhc2tzLCBmaXJzdFN0cmVhbSwgb2xkRmlsZUZkLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIHcoMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRvd25sb2FkT3BlcmF0aW9uQ291bnQgPSAwO1xuICAgICAgICAgICAgbGV0IGFjdHVhbFVybCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBEaWZmZXJlbnRpYWwgZG93bmxvYWQ6ICR7dGhpcy5vcHRpb25zLm5ld1VybH1gKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0gdGhpcy5jcmVhdGVSZXF1ZXN0T3B0aW9ucygpO1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMucmVkaXJlY3QgPSBcIm1hbnVhbFwiO1xuICAgICAgICAgICAgdyA9IChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IHRhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlTWV0YWRhdGFCdWZmZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RTdHJlYW0ud3JpdGUodGhpcy5maWxlTWV0YWRhdGFCdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0U3RyZWFtLmVuZCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHRhc2tzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIGlmIChvcGVyYXRpb24ua2luZCA9PT0gZG93bmxvYWRQbGFuQnVpbGRlcl8xLk9wZXJhdGlvbktpbmQuQ09QWSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBhcmUgY29weWluZywgbGV0J3Mgbm90IHNlbmQgc3RhdHVzIHVwZGF0ZXMgdG8gdGhlIFVJXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb3dubG9hZEluZm9UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkSW5mb1RyYW5zZm9ybS5iZWdpbkZpbGVDb3B5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgRGF0YVNwbGl0dGVyXzEuY29weURhdGEob3BlcmF0aW9uLCBmaXJzdFN0cmVhbSwgb2xkRmlsZUZkLCByZWplY3QsICgpID0+IHcoaW5kZXgpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGBieXRlcz0ke29wZXJhdGlvbi5zdGFydH0tJHtvcGVyYXRpb24uZW5kIC0gMX1gO1xuICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmhlYWRlcnMucmFuZ2UgPSByYW5nZTtcbiAgICAgICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmxvZ2dlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlYnVnKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgYGRvd25sb2FkIHJhbmdlOiAke3JhbmdlfWApO1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBzdGFydGluZyB0byBkb3dubG9hZFxuICAgICAgICAgICAgICAgIGlmIChkb3dubG9hZEluZm9UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRJbmZvVHJhbnNmb3JtLmJlZ2luUmFuZ2VEb3dubG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5odHRwRXhlY3V0b3IuY3JlYXRlUmVxdWVzdChyZXF1ZXN0T3B0aW9ucywgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbGVjdHJvbiBuZXQgaGFuZGxlcyByZWRpcmVjdHMgYXV0b21hdGljYWxseSwgb3VyIE5vZGVKUyB0ZXN0IHNlcnZlciBkb2Vzbid0IHVzZSByZWRpcmVjdHMgLSBzbywgd2UgZG9uJ3QgY2hlY2sgM3h4IGNvZGVzLlxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChidWlsZGVyX3V0aWxfcnVudGltZV8xLmNyZWF0ZUh0dHBFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnBpcGUoZmlyc3RTdHJlYW0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5vbmNlKFwiZW5kXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhc3Mgb24gdGhhdCB3ZSBhcmUgZG93bmxvYWRpbmcgYSBzZWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG93bmxvYWRJbmZvVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRJbmZvVHJhbnNmb3JtLmVuZFJhbmdlRG93bmxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgrK2Rvd25sb2FkT3BlcmF0aW9uQ291bnQgPT09IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkT3BlcmF0aW9uQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdyhpbmRleCksIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdyhpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlcXVlc3Qub24oXCJyZWRpcmVjdFwiLCAoc3RhdHVzQ29kZSwgbWV0aG9kLCByZWRpcmVjdFVybCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBSZWRpcmVjdCB0byAke3JlbW92ZVF1ZXJ5KHJlZGlyZWN0VXJsKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsVXJsID0gcmVkaXJlY3RVcmw7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEuY29uZmlndXJlUmVxdWVzdFVybChuZXcgdXJsXzEuVVJMKGFjdHVhbFVybCksIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5mb2xsb3dSZWRpcmVjdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaHR0cEV4ZWN1dG9yLmFkZEVycm9yQW5kVGltZW91dEhhbmRsZXJzKHJlcXVlc3QsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5lbmQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3KDApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZFJlbW90ZUJ5dGVzKHN0YXJ0LCBlbmRJbmNsdXNpdmUpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGVuZEluY2x1c2l2ZSArIDEgLSBzdGFydCk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0gdGhpcy5jcmVhdGVSZXF1ZXN0T3B0aW9ucygpO1xuICAgICAgICByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzLnJhbmdlID0gYGJ5dGVzPSR7c3RhcnR9LSR7ZW5kSW5jbHVzaXZlfWA7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IDA7XG4gICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdChyZXF1ZXN0T3B0aW9ucywgY2h1bmsgPT4ge1xuICAgICAgICAgICAgY2h1bmsuY29weShidWZmZXIsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgIHBvc2l0aW9uICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWNlaXZlZCBkYXRhIGxlbmd0aCAke3Bvc2l0aW9ufSBpcyBub3QgZXF1YWwgdG8gZXhwZWN0ZWQgJHtidWZmZXIubGVuZ3RofWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxuICAgIHJlcXVlc3QocmVxdWVzdE9wdGlvbnMsIGRhdGFIYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5odHRwRXhlY3V0b3IuY3JlYXRlUmVxdWVzdChyZXF1ZXN0T3B0aW9ucywgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghbXVsdGlwbGVSYW5nZURvd25sb2FkZXJfMS5jaGVja0lzUmFuZ2VzU3VwcG9ydGVkKHJlc3BvbnNlLCByZWplY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uub24oXCJkYXRhXCIsIGRhdGFIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5vbihcImVuZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmh0dHBFeGVjdXRvci5hZGRFcnJvckFuZFRpbWVvdXRIYW5kbGVycyhyZXF1ZXN0LCByZWplY3QpO1xuICAgICAgICAgICAgcmVxdWVzdC5lbmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5EaWZmZXJlbnRpYWxEb3dubG9hZGVyID0gRGlmZmVyZW50aWFsRG93bmxvYWRlcjtcbmZ1bmN0aW9uIGZvcm1hdEJ5dGVzKHZhbHVlLCBzeW1ib2wgPSBcIiBLQlwiKSB7XG4gICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdChcImVuXCIpLmZvcm1hdCgodmFsdWUgLyAxMDI0KS50b0ZpeGVkKDIpKSArIHN5bWJvbDtcbn1cbi8vIHNhZmV0eVxuZnVuY3Rpb24gcmVtb3ZlUXVlcnkodXJsKSB7XG4gICAgY29uc3QgaW5kZXggPSB1cmwuaW5kZXhPZihcIj9cIik7XG4gICAgcmV0dXJuIGluZGV4IDwgMCA/IHVybCA6IHVybC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGlmZmVyZW50aWFsRG93bmxvYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRmlsZVdpdGhFbWJlZGRlZEJsb2NrTWFwRGlmZmVyZW50aWFsRG93bmxvYWRlciA9IHZvaWQgMDtcbmNvbnN0IGZzX2V4dHJhXzEgPSByZXF1aXJlKFwiZnMtZXh0cmFcIik7XG5jb25zdCBEaWZmZXJlbnRpYWxEb3dubG9hZGVyXzEgPSByZXF1aXJlKFwiLi9EaWZmZXJlbnRpYWxEb3dubG9hZGVyXCIpO1xuY29uc3QgemxpYl8xID0gcmVxdWlyZShcInpsaWJcIik7XG5jbGFzcyBGaWxlV2l0aEVtYmVkZGVkQmxvY2tNYXBEaWZmZXJlbnRpYWxEb3dubG9hZGVyIGV4dGVuZHMgRGlmZmVyZW50aWFsRG93bmxvYWRlcl8xLkRpZmZlcmVudGlhbERvd25sb2FkZXIge1xuICAgIGFzeW5jIGRvd25sb2FkKCkge1xuICAgICAgICBjb25zdCBwYWNrYWdlSW5mbyA9IHRoaXMuYmxvY2tBd2FyZUZpbGVJbmZvO1xuICAgICAgICBjb25zdCBmaWxlU2l6ZSA9IHBhY2thZ2VJbmZvLnNpemU7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGZpbGVTaXplIC0gKHBhY2thZ2VJbmZvLmJsb2NrTWFwU2l6ZSArIDQpO1xuICAgICAgICB0aGlzLmZpbGVNZXRhZGF0YUJ1ZmZlciA9IGF3YWl0IHRoaXMucmVhZFJlbW90ZUJ5dGVzKG9mZnNldCwgZmlsZVNpemUgLSAxKTtcbiAgICAgICAgY29uc3QgbmV3QmxvY2tNYXAgPSByZWFkQmxvY2tNYXAodGhpcy5maWxlTWV0YWRhdGFCdWZmZXIuc2xpY2UoMCwgdGhpcy5maWxlTWV0YWRhdGFCdWZmZXIubGVuZ3RoIC0gNCkpO1xuICAgICAgICBhd2FpdCB0aGlzLmRvRG93bmxvYWQoYXdhaXQgcmVhZEVtYmVkZGVkQmxvY2tNYXBEYXRhKHRoaXMub3B0aW9ucy5vbGRGaWxlKSwgbmV3QmxvY2tNYXApO1xuICAgIH1cbn1cbmV4cG9ydHMuRmlsZVdpdGhFbWJlZGRlZEJsb2NrTWFwRGlmZmVyZW50aWFsRG93bmxvYWRlciA9IEZpbGVXaXRoRW1iZWRkZWRCbG9ja01hcERpZmZlcmVudGlhbERvd25sb2FkZXI7XG5mdW5jdGlvbiByZWFkQmxvY2tNYXAoZGF0YSkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHpsaWJfMS5pbmZsYXRlUmF3U3luYyhkYXRhKS50b1N0cmluZygpKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHJlYWRFbWJlZGRlZEJsb2NrTWFwRGF0YShmaWxlKSB7XG4gICAgY29uc3QgZmQgPSBhd2FpdCBmc19leHRyYV8xLm9wZW4oZmlsZSwgXCJyXCIpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZpbGVTaXplID0gKGF3YWl0IGZzX2V4dHJhXzEuZnN0YXQoZmQpKS5zaXplO1xuICAgICAgICBjb25zdCBzaXplQnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKDQpO1xuICAgICAgICBhd2FpdCBmc19leHRyYV8xLnJlYWQoZmQsIHNpemVCdWZmZXIsIDAsIHNpemVCdWZmZXIubGVuZ3RoLCBmaWxlU2l6ZSAtIHNpemVCdWZmZXIubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgZGF0YUJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShzaXplQnVmZmVyLnJlYWRVSW50MzJCRSgwKSk7XG4gICAgICAgIGF3YWl0IGZzX2V4dHJhXzEucmVhZChmZCwgZGF0YUJ1ZmZlciwgMCwgZGF0YUJ1ZmZlci5sZW5ndGgsIGZpbGVTaXplIC0gc2l6ZUJ1ZmZlci5sZW5ndGggLSBkYXRhQnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIGF3YWl0IGZzX2V4dHJhXzEuY2xvc2UoZmQpO1xuICAgICAgICByZXR1cm4gcmVhZEJsb2NrTWFwKGRhdGFCdWZmZXIpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBhd2FpdCBmc19leHRyYV8xLmNsb3NlKGZkKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWxlV2l0aEVtYmVkZGVkQmxvY2tNYXBEaWZmZXJlbnRpYWxEb3dubG9hZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BcHBJbWFnZVVwZGF0ZXIgPSB2b2lkIDA7XG5jb25zdCBidWlsZGVyX3V0aWxfcnVudGltZV8xID0gcmVxdWlyZShcImJ1aWxkZXItdXRpbC1ydW50aW1lXCIpO1xuY29uc3QgY2hpbGRfcHJvY2Vzc18xID0gcmVxdWlyZShcImNoaWxkX3Byb2Nlc3NcIik7XG5jb25zdCBmc19leHRyYV8xID0gcmVxdWlyZShcImZzLWV4dHJhXCIpO1xuY29uc3QgZnNfMSA9IHJlcXVpcmUoXCJmc1wiKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbmNvbnN0IEJhc2VVcGRhdGVyXzEgPSByZXF1aXJlKFwiLi9CYXNlVXBkYXRlclwiKTtcbmNvbnN0IEZpbGVXaXRoRW1iZWRkZWRCbG9ja01hcERpZmZlcmVudGlhbERvd25sb2FkZXJfMSA9IHJlcXVpcmUoXCIuL2RpZmZlcmVudGlhbERvd25sb2FkZXIvRmlsZVdpdGhFbWJlZGRlZEJsb2NrTWFwRGlmZmVyZW50aWFsRG93bmxvYWRlclwiKTtcbmNvbnN0IG1haW5fMSA9IHJlcXVpcmUoXCIuL21haW5cIik7XG5jb25zdCBQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vcHJvdmlkZXJzL1Byb3ZpZGVyXCIpO1xuY2xhc3MgQXBwSW1hZ2VVcGRhdGVyIGV4dGVuZHMgQmFzZVVwZGF0ZXJfMS5CYXNlVXBkYXRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgYXBwKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMsIGFwcCk7XG4gICAgfVxuICAgIGlzVXBkYXRlckFjdGl2ZSgpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52W1wiQVBQSU1BR0VcIl0gPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52W1wiU05BUFwiXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLndhcm4oXCJBUFBJTUFHRSBlbnYgaXMgbm90IGRlZmluZWQsIGN1cnJlbnQgYXBwbGljYXRpb24gaXMgbm90IGFuIEFwcEltYWdlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oXCJTTkFQIGVudiBpcyBkZWZpbmVkLCB1cGRhdGVyIGlzIGRpc2FibGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5pc1VwZGF0ZXJBY3RpdmUoKTtcbiAgICB9XG4gICAgLyoqKiBAcHJpdmF0ZSAqL1xuICAgIGRvRG93bmxvYWRVcGRhdGUoZG93bmxvYWRVcGRhdGVPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gZG93bmxvYWRVcGRhdGVPcHRpb25zLnVwZGF0ZUluZm9BbmRQcm92aWRlci5wcm92aWRlcjtcbiAgICAgICAgY29uc3QgZmlsZUluZm8gPSBQcm92aWRlcl8xLmZpbmRGaWxlKHByb3ZpZGVyLnJlc29sdmVGaWxlcyhkb3dubG9hZFVwZGF0ZU9wdGlvbnMudXBkYXRlSW5mb0FuZFByb3ZpZGVyLmluZm8pLCBcIkFwcEltYWdlXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlRG93bmxvYWQoe1xuICAgICAgICAgICAgZmlsZUV4dGVuc2lvbjogXCJBcHBJbWFnZVwiLFxuICAgICAgICAgICAgZmlsZUluZm8sXG4gICAgICAgICAgICBkb3dubG9hZFVwZGF0ZU9wdGlvbnMsXG4gICAgICAgICAgICB0YXNrOiBhc3luYyAodXBkYXRlRmlsZSwgZG93bmxvYWRPcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkRmlsZSA9IHByb2Nlc3MuZW52W1wiQVBQSU1BR0VcIl07XG4gICAgICAgICAgICAgICAgaWYgKG9sZEZpbGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBidWlsZGVyX3V0aWxfcnVudGltZV8xLm5ld0Vycm9yKFwiQVBQSU1BR0UgZW52IGlzIG5vdCBkZWZpbmVkXCIsIFwiRVJSX1VQREFURVJfT0xEX0ZJTEVfTk9UX0ZPVU5EXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgaXNEb3dubG9hZEZ1bGwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3dubG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdVcmw6IGZpbGVJbmZvLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZEZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXI6IHRoaXMuX2xvZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ZpbGU6IHVwZGF0ZUZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1VzZU11bHRpcGxlUmFuZ2VSZXF1ZXN0OiBwcm92aWRlci5pc1VzZU11bHRpcGxlUmFuZ2VSZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IGRvd25sb2FkVXBkYXRlT3B0aW9ucy5yZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbGxhdGlvblRva2VuOiBkb3dubG9hZFVwZGF0ZU9wdGlvbnMuY2FuY2VsbGF0aW9uVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpc3RlbmVyQ291bnQobWFpbl8xLkRPV05MT0FEX1BST0dSRVNTKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkT3B0aW9ucy5vblByb2dyZXNzID0gaXQgPT4gdGhpcy5lbWl0KG1haW5fMS5ET1dOTE9BRF9QUk9HUkVTUywgaXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBGaWxlV2l0aEVtYmVkZGVkQmxvY2tNYXBEaWZmZXJlbnRpYWxEb3dubG9hZGVyXzEuRmlsZVdpdGhFbWJlZGRlZEJsb2NrTWFwRGlmZmVyZW50aWFsRG93bmxvYWRlcihmaWxlSW5mby5pbmZvLCB0aGlzLmh0dHBFeGVjdXRvciwgZG93bmxvYWRPcHRpb25zKS5kb3dubG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIuZXJyb3IoYENhbm5vdCBkb3dubG9hZCBkaWZmZXJlbnRpYWxseSwgZmFsbGJhY2sgdG8gZnVsbCBkb3dubG9hZDogJHtlLnN0YWNrIHx8IGV9YCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGR1cmluZyB0ZXN0IChkZXZlbG9wZXIgbWFjaGluZSBtYWMpIHdlIG11c3QgdGhyb3cgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaXNEb3dubG9hZEZ1bGwgPSBwcm9jZXNzLnBsYXRmb3JtID09PSBcImxpbnV4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0Rvd25sb2FkRnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmh0dHBFeGVjdXRvci5kb3dubG9hZChmaWxlSW5mby51cmwsIHVwZGF0ZUZpbGUsIGRvd25sb2FkT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF3YWl0IGZzX2V4dHJhXzEuY2htb2QodXBkYXRlRmlsZSwgMG83NTUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRvSW5zdGFsbChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGFwcEltYWdlRmlsZSA9IHByb2Nlc3MuZW52W1wiQVBQSU1BR0VcIl07XG4gICAgICAgIGlmIChhcHBJbWFnZUZpbGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5uZXdFcnJvcihcIkFQUElNQUdFIGVudiBpcyBub3QgZGVmaW5lZFwiLCBcIkVSUl9VUERBVEVSX09MRF9GSUxFX05PVF9GT1VORFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTcxMjA1MS8xOTEwMTkxXG4gICAgICAgIGZzXzEudW5saW5rU3luYyhhcHBJbWFnZUZpbGUpO1xuICAgICAgICBsZXQgZGVzdGluYXRpb247XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQmFzZU5hbWUgPSBwYXRoLmJhc2VuYW1lKGFwcEltYWdlRmlsZSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGVjdHJvbi11c2VybGFuZC9lbGVjdHJvbi1idWlsZGVyL2lzc3Vlcy8yOTY0XG4gICAgICAgIC8vIGlmIG5vIHZlcnNpb24gaW4gZXhpc3RpbmcgZmlsZSBuYW1lLCBpdCBtZWFucyB0aGF0IHVzZXIgd2FudHMgdG8gcHJlc2VydmUgY3VycmVudCBjdXN0b20gbmFtZVxuICAgICAgICBpZiAocGF0aC5iYXNlbmFtZShvcHRpb25zLmluc3RhbGxlclBhdGgpID09PSBleGlzdGluZ0Jhc2VOYW1lIHx8ICEvXFxkK1xcLlxcZCtcXC5cXGQrLy50ZXN0KGV4aXN0aW5nQmFzZU5hbWUpKSB7XG4gICAgICAgICAgICAvLyBubyB2ZXJzaW9uIGluIHRoZSBmaWxlIG5hbWUsIG92ZXJ3cml0ZSBleGlzdGluZ1xuICAgICAgICAgICAgZGVzdGluYXRpb24gPSBhcHBJbWFnZUZpbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbiA9IHBhdGguam9pbihwYXRoLmRpcm5hbWUoYXBwSW1hZ2VGaWxlKSwgcGF0aC5iYXNlbmFtZShvcHRpb25zLmluc3RhbGxlclBhdGgpKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZF9wcm9jZXNzXzEuZXhlY0ZpbGVTeW5jKFwibXZcIiwgW1wiLWZcIiwgb3B0aW9ucy5pbnN0YWxsZXJQYXRoLCBkZXN0aW5hdGlvbl0pO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gIT09IGFwcEltYWdlRmlsZSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwiYXBwaW1hZ2UtZmlsZW5hbWUtdXBkYXRlZFwiLCBkZXN0aW5hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW52ID0ge1xuICAgICAgICAgICAgLi4ucHJvY2Vzcy5lbnYsXG4gICAgICAgICAgICBBUFBJTUFHRV9TSUxFTlRfSU5TVEFMTDogXCJ0cnVlXCIsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRpb25zLmlzRm9yY2VSdW5BZnRlcikge1xuICAgICAgICAgICAgY2hpbGRfcHJvY2Vzc18xLnNwYXduKGRlc3RpbmF0aW9uLCBbXSwge1xuICAgICAgICAgICAgICAgIGRldGFjaGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0ZGlvOiBcImlnbm9yZVwiLFxuICAgICAgICAgICAgICAgIGVudixcbiAgICAgICAgICAgIH0pLnVucmVmKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbnYuQVBQSU1BR0VfRVhJVF9BRlRFUl9JTlNUQUxMID0gXCJ0cnVlXCI7XG4gICAgICAgICAgICBjaGlsZF9wcm9jZXNzXzEuZXhlY0ZpbGVTeW5jKGRlc3RpbmF0aW9uLCBbXSwgeyBlbnYgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZXhwb3J0cy5BcHBJbWFnZVVwZGF0ZXIgPSBBcHBJbWFnZVVwZGF0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcHBJbWFnZVVwZGF0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1hY1VwZGF0ZXIgPSB2b2lkIDA7XG5jb25zdCBidWlsZGVyX3V0aWxfcnVudGltZV8xID0gcmVxdWlyZShcImJ1aWxkZXItdXRpbC1ydW50aW1lXCIpO1xuY29uc3QgZnNfZXh0cmFfMSA9IHJlcXVpcmUoXCJmcy1leHRyYVwiKTtcbmNvbnN0IGZzXzEgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBodHRwXzEgPSByZXF1aXJlKFwiaHR0cFwiKTtcbmNvbnN0IEFwcFVwZGF0ZXJfMSA9IHJlcXVpcmUoXCIuL0FwcFVwZGF0ZXJcIik7XG5jb25zdCBQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vcHJvdmlkZXJzL1Byb3ZpZGVyXCIpO1xuY29uc3QgY2hpbGRfcHJvY2Vzc18xID0gcmVxdWlyZShcImNoaWxkX3Byb2Nlc3NcIik7XG5jbGFzcyBNYWNVcGRhdGVyIGV4dGVuZHMgQXBwVXBkYXRlcl8xLkFwcFVwZGF0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGFwcCkge1xuICAgICAgICBzdXBlcihvcHRpb25zLCBhcHApO1xuICAgICAgICB0aGlzLm5hdGl2ZVVwZGF0ZXIgPSByZXF1aXJlKFwiZWxlY3Ryb25cIikuYXV0b1VwZGF0ZXI7XG4gICAgICAgIHRoaXMuc3F1aXJyZWxEb3dubG9hZGVkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubmF0aXZlVXBkYXRlci5vbihcImVycm9yXCIsIGl0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci53YXJuKGl0KTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcImVycm9yXCIsIGl0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmF0aXZlVXBkYXRlci5vbihcInVwZGF0ZS1kb3dubG9hZGVkXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3F1aXJyZWxEb3dubG9hZGVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlYnVnKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvZ2dlci5kZWJ1ZyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIuZGVidWcobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZG9Eb3dubG9hZFVwZGF0ZShkb3dubG9hZFVwZGF0ZU9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGZpbGVzID0gZG93bmxvYWRVcGRhdGVPcHRpb25zLnVwZGF0ZUluZm9BbmRQcm92aWRlci5wcm92aWRlci5yZXNvbHZlRmlsZXMoZG93bmxvYWRVcGRhdGVPcHRpb25zLnVwZGF0ZUluZm9BbmRQcm92aWRlci5pbmZvKTtcbiAgICAgICAgY29uc3QgbG9nID0gdGhpcy5fbG9nZ2VyO1xuICAgICAgICAvLyBkZXRlY3QgaWYgd2UgYXJlIHJ1bm5pbmcgaW5zaWRlIFJvc2V0dGEgZW11bGF0aW9uXG4gICAgICAgIGNvbnN0IHN5c2N0bFJvc2V0dGFJbmZvS2V5ID0gXCJzeXNjdGwucHJvY190cmFuc2xhdGVkXCI7XG4gICAgICAgIGxldCBpc1Jvc2V0dGEgPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVidWcoXCJDaGVja2luZyBmb3IgbWFjT1MgUm9zZXR0YSBlbnZpcm9ubWVudFwiKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNoaWxkX3Byb2Nlc3NfMS5leGVjRmlsZVN5bmMoXCJzeXNjdGxcIiwgW3N5c2N0bFJvc2V0dGFJbmZvS2V5XSwgeyBlbmNvZGluZzogXCJ1dGY4XCIgfSk7XG4gICAgICAgICAgICBpc1Jvc2V0dGEgPSByZXN1bHQuaW5jbHVkZXMoYCR7c3lzY3RsUm9zZXR0YUluZm9LZXl9OiAxYCk7XG4gICAgICAgICAgICBsb2cuaW5mbyhgQ2hlY2tlZCBmb3IgbWFjT1MgUm9zZXR0YSBlbnZpcm9ubWVudCAoaXNSb3NldHRhPSR7aXNSb3NldHRhfSlgKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nLndhcm4oYHN5c2N0bCBzaGVsbCBjb21tYW5kIHRvIGNoZWNrIGZvciBtYWNPUyBSb3NldHRhIGVudmlyb25tZW50IGZhaWxlZDogJHtlfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQXJtNjRNYWMgPSBwcm9jZXNzLmFyY2ggPT09IFwiYXJtNjRcIiB8fCBpc1Jvc2V0dGE7XG4gICAgICAgIC8vIGFsbG93IGFybTY0IG1hY3MgdG8gaW5zdGFsbCB1bml2ZXJzYWwgb3Igcm9zZXR0YTIoeDY0KSAtIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGVjdHJvbi11c2VybGFuZC9lbGVjdHJvbi1idWlsZGVyL3B1bGwvNTUyNFxuICAgICAgICBjb25zdCBpc0FybTY0ID0gKGZpbGUpID0+IHsgdmFyIF9hOyByZXR1cm4gZmlsZS51cmwucGF0aG5hbWUuaW5jbHVkZXMoXCJhcm02NFwiKSB8fCAoKF9hID0gZmlsZS5pbmZvLnVybCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKFwiYXJtNjRcIikpOyB9O1xuICAgICAgICBpZiAoaXNBcm02NE1hYyAmJiBmaWxlcy5zb21lKGlzQXJtNjQpKSB7XG4gICAgICAgICAgICBmaWxlcyA9IGZpbGVzLmZpbHRlcihmaWxlID0+IGlzQXJtNjRNYWMgPT09IGlzQXJtNjQoZmlsZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiAhaXNBcm02NChmaWxlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgemlwRmlsZUluZm8gPSBQcm92aWRlcl8xLmZpbmRGaWxlKGZpbGVzLCBcInppcFwiLCBbXCJwa2dcIiwgXCJkbWdcIl0pO1xuICAgICAgICBpZiAoemlwRmlsZUluZm8gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5uZXdFcnJvcihgWklQIGZpbGUgbm90IHByb3ZpZGVkOiAke2J1aWxkZXJfdXRpbF9ydW50aW1lXzEuc2FmZVN0cmluZ2lmeUpzb24oZmlsZXMpfWAsIFwiRVJSX1VQREFURVJfWklQX0ZJTEVfTk9UX0ZPVU5EXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGVEb3dubG9hZCh7XG4gICAgICAgICAgICBmaWxlRXh0ZW5zaW9uOiBcInppcFwiLFxuICAgICAgICAgICAgZmlsZUluZm86IHppcEZpbGVJbmZvLFxuICAgICAgICAgICAgZG93bmxvYWRVcGRhdGVPcHRpb25zLFxuICAgICAgICAgICAgdGFzazogKGRlc3RpbmF0aW9uRmlsZSwgZG93bmxvYWRPcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHR0cEV4ZWN1dG9yLmRvd25sb2FkKHppcEZpbGVJbmZvLnVybCwgZGVzdGluYXRpb25GaWxlLCBkb3dubG9hZE9wdGlvbnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRvbmU6IGV2ZW50ID0+IHRoaXMudXBkYXRlRG93bmxvYWRlZCh6aXBGaWxlSW5mbywgZXZlbnQpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlRG93bmxvYWRlZCh6aXBGaWxlSW5mbywgZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkb3dubG9hZGVkRmlsZSA9IGV2ZW50LmRvd25sb2FkZWRGaWxlO1xuICAgICAgICBjb25zdCB1cGRhdGVGaWxlU2l6ZSA9IChfYSA9IHppcEZpbGVJbmZvLmluZm8uc2l6ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGF3YWl0IGZzX2V4dHJhXzEuc3RhdChkb3dubG9hZGVkRmlsZSkpLnNpemU7XG4gICAgICAgIGNvbnN0IGxvZyA9IHRoaXMuX2xvZ2dlcjtcbiAgICAgICAgY29uc3QgbG9nQ29udGV4dCA9IGBmaWxlVG9Qcm94eT0ke3ppcEZpbGVJbmZvLnVybC5ocmVmfWA7XG4gICAgICAgIHRoaXMuZGVidWcoYENyZWF0aW5nIHByb3h5IHNlcnZlciBmb3IgbmF0aXZlIFNxdWlycmVsLk1hYyAoJHtsb2dDb250ZXh0fSlgKTtcbiAgICAgICAgY29uc3Qgc2VydmVyID0gaHR0cF8xLmNyZWF0ZVNlcnZlcigpO1xuICAgICAgICB0aGlzLmRlYnVnKGBQcm94eSBzZXJ2ZXIgZm9yIG5hdGl2ZSBTcXVpcnJlbC5NYWMgaXMgY3JlYXRlZCAoJHtsb2dDb250ZXh0fSlgKTtcbiAgICAgICAgc2VydmVyLm9uKFwiY2xvc2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbG9nLmluZm8oYFByb3h5IHNlcnZlciBmb3IgbmF0aXZlIFNxdWlycmVsLk1hYyBpcyBjbG9zZWQgKCR7bG9nQ29udGV4dH0pYCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBtdXN0IGJlIGNhbGxlZCBhZnRlciBzZXJ2ZXIgaXMgbGlzdGVuaW5nLCBvdGhlcndpc2UgYWRkcmVzcyBpcyBudWxsXG4gICAgICAgIGZ1bmN0aW9uIGdldFNlcnZlclVybCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBzZXJ2ZXIuYWRkcmVzcygpO1xuICAgICAgICAgICAgcmV0dXJuIGBodHRwOi8vMTI3LjAuMC4xOiR7YWRkcmVzcy5wb3J0fWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIGluc2VjdXJlIHJhbmRvbSBpcyBva1xuICAgICAgICAgICAgY29uc3QgZmlsZVVybCA9IGAvJHtEYXRlLm5vdygpLnRvU3RyaW5nKDE2KX0tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA5OTk5KS50b1N0cmluZygxNil9LnppcGA7XG4gICAgICAgICAgICBzZXJ2ZXIub24oXCJyZXF1ZXN0XCIsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RVcmwgPSByZXF1ZXN0LnVybDtcbiAgICAgICAgICAgICAgICBsb2cuaW5mbyhgJHtyZXF1ZXN0VXJsfSByZXF1ZXN0ZWRgKTtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdFVybCA9PT0gXCIvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5mcm9tKGB7IFwidXJsXCI6IFwiJHtnZXRTZXJ2ZXJVcmwoKX0ke2ZpbGVVcmx9XCIgfWApO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS53cml0ZUhlYWQoMjAwLCB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkNvbnRlbnQtTGVuZ3RoXCI6IGRhdGEubGVuZ3RoIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5lbmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFyZXF1ZXN0VXJsLnN0YXJ0c1dpdGgoZmlsZVVybCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLndhcm4oYCR7cmVxdWVzdFVybH0gcmVxdWVzdGVkLCBidXQgbm90IHN1cHBvcnRlZGApO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS53cml0ZUhlYWQoNDA0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9nLmluZm8oYCR7ZmlsZVVybH0gcmVxdWVzdGVkIGJ5IFNxdWlycmVsLk1hYywgcGlwZSAke2Rvd25sb2FkZWRGaWxlfWApO1xuICAgICAgICAgICAgICAgIGxldCBlcnJvck9jY3VycmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uub24oXCJmaW5pc2hcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHNlcnZlci5jbG9zZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3JPY2N1cnJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlVXBkYXRlci5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkU3RyZWFtID0gZnNfMS5jcmVhdGVSZWFkU3RyZWFtKGRvd25sb2FkZWRGaWxlKTtcbiAgICAgICAgICAgICAgICByZWFkU3RyZWFtLm9uKFwiZXJyb3JcIiwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZy53YXJuKGBjYW5ub3QgZW5kIHJlc3BvbnNlOiAke2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXJyb3JPY2N1cnJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlVXBkYXRlci5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYENhbm5vdCBwaXBlIFwiJHtkb3dubG9hZGVkRmlsZX1cIjogJHtlcnJvcn1gKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uud3JpdGVIZWFkKDIwMCwge1xuICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3ppcFwiLFxuICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtTGVuZ3RoXCI6IHVwZGF0ZUZpbGVTaXplLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlYWRTdHJlYW0ucGlwZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZGVidWcoYFByb3h5IHNlcnZlciBmb3IgbmF0aXZlIFNxdWlycmVsLk1hYyBpcyBzdGFydGluZyB0byBsaXN0ZW4gKCR7bG9nQ29udGV4dH0pYCk7XG4gICAgICAgICAgICBzZXJ2ZXIubGlzdGVuKDAsIFwiMTI3LjAuMC4xXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKGBQcm94eSBzZXJ2ZXIgZm9yIG5hdGl2ZSBTcXVpcnJlbC5NYWMgaXMgbGlzdGVuaW5nIChhZGRyZXNzPSR7Z2V0U2VydmVyVXJsKCl9LCAke2xvZ0NvbnRleHR9KWApO1xuICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlVXBkYXRlci5zZXRGZWVkVVJMKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBnZXRTZXJ2ZXJVcmwoKSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNhY2hlLUNvbnRyb2xcIjogXCJuby1jYWNoZVwiIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHVwZGF0ZSBoYXMgYmVlbiBkb3dubG9hZGVkIGFuZCBpcyByZWFkeSB0byBiZSBzZXJ2ZWQgdG8gU3F1aXJyZWxcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoVXBkYXRlRG93bmxvYWRlZChldmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXV0b0luc3RhbGxPbkFwcFF1aXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXRpdmVVcGRhdGVyLm9uY2UoXCJlcnJvclwiLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgdHJpZ2dlciBmZXRjaGluZyBhbmQgaW5zdGFsbGluZyB0aGUgZmlsZSBvbiBTcXVpcnJlbCBzaWRlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlVXBkYXRlci5jaGVja0ZvclVwZGF0ZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcXVpdEFuZEluc3RhbGwoKSB7XG4gICAgICAgIGlmICh0aGlzLnNxdWlycmVsRG93bmxvYWRlZFVwZGF0ZSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGFscmVhZHkgZmV0Y2hlZCBieSBTcXVpcnJlbCwgaXQncyByZWFkeSB0byBpbnN0YWxsXG4gICAgICAgICAgICB0aGlzLm5hdGl2ZVVwZGF0ZXIucXVpdEFuZEluc3RhbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHF1aXQgYW5kIGluc3RhbGwgYXMgc29vbiBhcyBTcXVpcnJlbCBnZXQgdGhlIHVwZGF0ZVxuICAgICAgICAgICAgdGhpcy5uYXRpdmVVcGRhdGVyLm9uKFwidXBkYXRlLWRvd25sb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlVXBkYXRlci5xdWl0QW5kSW5zdGFsbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLk1hY1VwZGF0ZXIgPSBNYWNVcGRhdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFjVXBkYXRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR2VuZXJpY0RpZmZlcmVudGlhbERvd25sb2FkZXIgPSB2b2lkIDA7XG5jb25zdCBEaWZmZXJlbnRpYWxEb3dubG9hZGVyXzEgPSByZXF1aXJlKFwiLi9EaWZmZXJlbnRpYWxEb3dubG9hZGVyXCIpO1xuY2xhc3MgR2VuZXJpY0RpZmZlcmVudGlhbERvd25sb2FkZXIgZXh0ZW5kcyBEaWZmZXJlbnRpYWxEb3dubG9hZGVyXzEuRGlmZmVyZW50aWFsRG93bmxvYWRlciB7XG4gICAgZG93bmxvYWQob2xkQmxvY2tNYXAsIG5ld0Jsb2NrTWFwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvRG93bmxvYWQob2xkQmxvY2tNYXAsIG5ld0Jsb2NrTWFwKTtcbiAgICB9XG59XG5leHBvcnRzLkdlbmVyaWNEaWZmZXJlbnRpYWxEb3dubG9hZGVyID0gR2VuZXJpY0RpZmZlcmVudGlhbERvd25sb2FkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW5lcmljRGlmZmVyZW50aWFsRG93bmxvYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudmVyaWZ5U2lnbmF0dXJlID0gdm9pZCAwO1xuY29uc3QgYnVpbGRlcl91dGlsX3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJidWlsZGVyLXV0aWwtcnVudGltZVwiKTtcbmNvbnN0IGNoaWxkX3Byb2Nlc3NfMSA9IHJlcXVpcmUoXCJjaGlsZF9wcm9jZXNzXCIpO1xuY29uc3Qgb3MgPSByZXF1aXJlKFwib3NcIik7XG4vLyAkY2VydGlmaWNhdGVJbmZvID0gKEdldC1BdXRoZW50aWNvZGVTaWduYXR1cmUgJ3h4eFxceXl5LmV4ZSdcbi8vIHwgd2hlcmUgeyRfLlN0YXR1cy5FcXVhbHMoW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uU2lnbmF0dXJlU3RhdHVzXTo6VmFsaWQpIC1hbmQgJF8uU2lnbmVyQ2VydGlmaWNhdGUuU3ViamVjdC5Db250YWlucyhcIkNOPXNpZW1lbnMuY29tXCIpfSlcbi8vIHwgT3V0LVN0cmluZyA7IGlmICgkY2VydGlmaWNhdGVJbmZvKSB7IGV4aXQgMCB9IGVsc2UgeyBleGl0IDEgfVxuZnVuY3Rpb24gdmVyaWZ5U2lnbmF0dXJlKHB1Ymxpc2hlck5hbWVzLCB1bmVzY2FwZWRUZW1wVXBkYXRlRmlsZSwgbG9nZ2VyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAvLyBFc2NhcGUgcXVvdGVzIGFuZCBiYWNrdGlja3MgaW4gZmlsZW5hbWVzIHRvIHByZXZlbnQgdXNlciBmcm9tIGJyZWFraW5nIHRoZVxuICAgICAgICAvLyBhcmd1bWVudHMgYW5kIHBlcmZvcm0gYSByZW1vdGUgY29tbWFuZCBpbmplY3Rpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIENvbnNpZGVyIGV4YW1wbGUgcG93ZXJzaGVsbCBjb21tYW5kOlxuICAgICAgICAvLyBgYGBwb3dlcnNoZWxsXG4gICAgICAgIC8vIEdldC1BdXRoZW50aWNvZGVTaWduYXR1cmUgJ0M6XFxcXHBhdGhcXFxcbXktYmFkLSc7Y2FsYzsnZmlsZW5hbWUuZXhlJ1xuICAgICAgICAvLyBgYGBcbiAgICAgICAgLy8gVGhlIGFib3ZlIHdvdWxkIHdvcmsgZXhwZWN0ZWQgYW5kIGZpbmQgdGhlIGZpbGUgbmFtZSwgaG93ZXZlciwgaXQgd2lsbCBhbHNvIGV4ZWN1dGUgYDtjYWxjO2BcbiAgICAgICAgLy8gY29tbWFuZCBhbmQgc3RhcnQgdGhlIGNhbGN1bGF0b3IgYXBwLlxuICAgICAgICAvL1xuICAgICAgICAvLyBGcm9tIFBvd2Vyc2hlbGwgcXVvdGluZyBydWxlczpcbiAgICAgICAgLy8gaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvcG93ZXJzaGVsbC9tb2R1bGUvbWljcm9zb2Z0LnBvd2Vyc2hlbGwuY29yZS9hYm91dC9hYm91dF9xdW90aW5nX3J1bGVzP3ZpZXc9cG93ZXJzaGVsbC03XG4gICAgICAgIC8vICogRG91YmxlIHF1b3RlcyBgXCJgIGFyZSB0cmVhdGVkIGxpdGVyYWxseSB3aXRoaW4gc2luZ2xlLXF1b3RlZCBzdHJpbmdzO1xuICAgICAgICAvLyAqIFNpbmdsZSBxdW90ZXMgY2FuIGJlIGVzY2FwZWQgYnkgZG91YmxpbmcgdGhlbTogJ2RvbicndCcgLT4gZG9uJ3Q7XG4gICAgICAgIC8vICogQmFja3RpY2tzIGNhbiBiZSBlc2NhcGVkIGJ5IGRvdWJsaW5nIHRoZW06ICdBIGJhY2t0aWNrIChgYCkgY2hhcmFjdGVyJztcbiAgICAgICAgLy9cbiAgICAgICAgLy8gQWxzbyBub3RlIHRoYXQgYXQgdGhpcyBwb2ludCB0aGUgZmlsZSBoYXMgYWxyZWFkeSBiZWVuIHdyaXR0ZW4gdG8gdGhlIGRpc2ssIHRodXMgd2UgYXJlXG4gICAgICAgIC8vIGd1YXJhbnRlZWQgdGhhdCB0aGUgcGF0aCB3aWxsIG5vdCBjb250YWluIGFueSBpbGxlZ2FsIGNoYXJhY3RlcnMgbGlrZSA8PjpcIi9cXHw/KlxuICAgICAgICAvLyBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy93aW5kb3dzL3dpbjMyL2ZpbGVpby9uYW1pbmctYS1maWxlXG4gICAgICAgIGNvbnN0IHRlbXBVcGRhdGVGaWxlID0gdW5lc2NhcGVkVGVtcFVwZGF0ZUZpbGUucmVwbGFjZSgvJy9nLCBcIicnXCIpLnJlcGxhY2UoL2AvZywgXCJgYFwiKTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2VsZWN0cm9uLXVzZXJsYW5kL2VsZWN0cm9uLWJ1aWxkZXIvaXNzdWVzLzI0MjFcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2VsZWN0cm9uLXVzZXJsYW5kL2VsZWN0cm9uLWJ1aWxkZXIvaXNzdWVzLzI1MzVcbiAgICAgICAgY2hpbGRfcHJvY2Vzc18xLmV4ZWNGaWxlKFwicG93ZXJzaGVsbC5leGVcIiwgW1xuICAgICAgICAgICAgXCItTm9Qcm9maWxlXCIsXG4gICAgICAgICAgICBcIi1Ob25JbnRlcmFjdGl2ZVwiLFxuICAgICAgICAgICAgXCItSW5wdXRGb3JtYXRcIixcbiAgICAgICAgICAgIFwiTm9uZVwiLFxuICAgICAgICAgICAgXCItQ29tbWFuZFwiLFxuICAgICAgICAgICAgYEdldC1BdXRoZW50aWNvZGVTaWduYXR1cmUgJyR7dGVtcFVwZGF0ZUZpbGV9JyB8IENvbnZlcnRUby1Kc29uIC1Db21wcmVzcyB8IEZvckVhY2gtT2JqZWN0IHsgW0NvbnZlcnRdOjpUb0Jhc2U2NFN0cmluZyhbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldEJ5dGVzKCRfKSkgfWAsXG4gICAgICAgIF0sIHtcbiAgICAgICAgICAgIHRpbWVvdXQ6IDIwICogMTAwMCxcbiAgICAgICAgfSwgKGVycm9yLCBzdGRvdXQsIHN0ZGVycikgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgIT0gbnVsbCB8fCBzdGRlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IobG9nZ2VyLCBlcnJvciwgc3RkZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcGFyc2VPdXQoQnVmZmVyLmZyb20oc3Rkb3V0LCBcImJhc2U2NFwiKS50b1N0cmluZyhcInV0Zi04XCIpKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5TdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEucGFyc2VEbihkYXRhLlNpZ25lckNlcnRpZmljYXRlLlN1YmplY3QpLmdldChcIkNOXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHVibGlzaGVyTmFtZXMuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYHB1Ymxpc2hlck5hbWVzOiAke3B1Ymxpc2hlck5hbWVzLmpvaW4oXCIgfCBcIil9LCByYXcgaW5mbzogYCArIEpTT04uc3RyaW5naWZ5KGRhdGEsIChuYW1lLCB2YWx1ZSkgPT4gKG5hbWUgPT09IFwiUmF3RGF0YVwiID8gdW5kZWZpbmVkIDogdmFsdWUpLCAyKTtcbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybihgU2lnbiB2ZXJpZmljYXRpb24gZmFpbGVkLCBpbnN0YWxsZXIgc2lnbmVkIHdpdGggaW5jb3JyZWN0IGNlcnRpZmljYXRlOiAke3Jlc3VsdH1gKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKGBDYW5ub3QgZXhlY3V0ZSBHZXQtQXV0aGVudGljb2RlU2lnbmF0dXJlOiAke2Vycm9yfS4gSWdub3Jpbmcgc2lnbmF0dXJlIHZhbGlkYXRpb24gZHVlIHRvIHVua25vd24gZXJyb3IuYCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0cy52ZXJpZnlTaWduYXR1cmUgPSB2ZXJpZnlTaWduYXR1cmU7XG5mdW5jdGlvbiBwYXJzZU91dChvdXQpIHtcbiAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShvdXQpO1xuICAgIGRlbGV0ZSBkYXRhLlByaXZhdGVLZXk7XG4gICAgZGVsZXRlIGRhdGEuSXNPU0JpbmFyeTtcbiAgICBkZWxldGUgZGF0YS5TaWduYXR1cmVUeXBlO1xuICAgIGNvbnN0IHNpZ25lckNlcnRpZmljYXRlID0gZGF0YS5TaWduZXJDZXJ0aWZpY2F0ZTtcbiAgICBpZiAoc2lnbmVyQ2VydGlmaWNhdGUgIT0gbnVsbCkge1xuICAgICAgICBkZWxldGUgc2lnbmVyQ2VydGlmaWNhdGUuQXJjaGl2ZWQ7XG4gICAgICAgIGRlbGV0ZSBzaWduZXJDZXJ0aWZpY2F0ZS5FeHRlbnNpb25zO1xuICAgICAgICBkZWxldGUgc2lnbmVyQ2VydGlmaWNhdGUuSGFuZGxlO1xuICAgICAgICBkZWxldGUgc2lnbmVyQ2VydGlmaWNhdGUuSGFzUHJpdmF0ZUtleTtcbiAgICAgICAgLy8gZHVwbGljYXRlcyBkYXRhLlNpZ25lckNlcnRpZmljYXRlIChjb250YWlucyBSYXdEYXRhKVxuICAgICAgICBkZWxldGUgc2lnbmVyQ2VydGlmaWNhdGUuU3ViamVjdE5hbWU7XG4gICAgfVxuICAgIGRlbGV0ZSBkYXRhLlBhdGg7XG4gICAgcmV0dXJuIGRhdGE7XG59XG5mdW5jdGlvbiBoYW5kbGVFcnJvcihsb2dnZXIsIGVycm9yLCBzdGRlcnIpIHtcbiAgICBpZiAoaXNPbGRXaW42KCkpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oYENhbm5vdCBleGVjdXRlIEdldC1BdXRoZW50aWNvZGVTaWduYXR1cmU6ICR7ZXJyb3IgfHwgc3RkZXJyfS4gSWdub3Jpbmcgc2lnbmF0dXJlIHZhbGlkYXRpb24gZHVlIHRvIHVuc3VwcG9ydGVkIHBvd2Vyc2hlbGwgdmVyc2lvbi4gUGxlYXNlIHVwZ3JhZGUgdG8gcG93ZXJzaGVsbCAzIG9yIGhpZ2hlci5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjaGlsZF9wcm9jZXNzXzEuZXhlY0ZpbGVTeW5jKFwicG93ZXJzaGVsbC5leGVcIiwgW1wiLU5vUHJvZmlsZVwiLCBcIi1Ob25JbnRlcmFjdGl2ZVwiLCBcIi1Db21tYW5kXCIsIFwiQ29udmVydFRvLUpzb24gdGVzdFwiXSwgeyB0aW1lb3V0OiAxMCAqIDEwMDAgfSk7XG4gICAgfVxuICAgIGNhdGNoICh0ZXN0RXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oYENhbm5vdCBleGVjdXRlIENvbnZlcnRUby1Kc29uOiAke3Rlc3RFcnJvci5tZXNzYWdlfS4gSWdub3Jpbmcgc2lnbmF0dXJlIHZhbGlkYXRpb24gZHVlIHRvIHVuc3VwcG9ydGVkIHBvd2Vyc2hlbGwgdmVyc2lvbi4gUGxlYXNlIHVwZ3JhZGUgdG8gcG93ZXJzaGVsbCAzIG9yIGhpZ2hlci5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXJyb3IgIT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgaWYgKHN0ZGVycikge1xuICAgICAgICBsb2dnZXIud2FybihgQ2Fubm90IGV4ZWN1dGUgR2V0LUF1dGhlbnRpY29kZVNpZ25hdHVyZSwgc3RkZXJyOiAke3N0ZGVycn0uIElnbm9yaW5nIHNpZ25hdHVyZSB2YWxpZGF0aW9uIGR1ZSB0byB1bmtub3duIHN0ZGVyci5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzT2xkV2luNigpIHtcbiAgICBjb25zdCB3aW5WZXJzaW9uID0gb3MucmVsZWFzZSgpO1xuICAgIHJldHVybiB3aW5WZXJzaW9uLnN0YXJ0c1dpdGgoXCI2LlwiKSAmJiAhd2luVmVyc2lvbi5zdGFydHNXaXRoKFwiNi4zXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93c0V4ZWN1dGFibGVDb2RlU2lnbmF0dXJlVmVyaWZpZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk5zaXNVcGRhdGVyID0gdm9pZCAwO1xuY29uc3QgYnVpbGRlcl91dGlsX3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJidWlsZGVyLXV0aWwtcnVudGltZVwiKTtcbmNvbnN0IGNoaWxkX3Byb2Nlc3NfMSA9IHJlcXVpcmUoXCJjaGlsZF9wcm9jZXNzXCIpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgQmFzZVVwZGF0ZXJfMSA9IHJlcXVpcmUoXCIuL0Jhc2VVcGRhdGVyXCIpO1xuY29uc3QgRmlsZVdpdGhFbWJlZGRlZEJsb2NrTWFwRGlmZmVyZW50aWFsRG93bmxvYWRlcl8xID0gcmVxdWlyZShcIi4vZGlmZmVyZW50aWFsRG93bmxvYWRlci9GaWxlV2l0aEVtYmVkZGVkQmxvY2tNYXBEaWZmZXJlbnRpYWxEb3dubG9hZGVyXCIpO1xuY29uc3QgR2VuZXJpY0RpZmZlcmVudGlhbERvd25sb2FkZXJfMSA9IHJlcXVpcmUoXCIuL2RpZmZlcmVudGlhbERvd25sb2FkZXIvR2VuZXJpY0RpZmZlcmVudGlhbERvd25sb2FkZXJcIik7XG5jb25zdCBtYWluXzEgPSByZXF1aXJlKFwiLi9tYWluXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9wcm92aWRlcnMvUHJvdmlkZXJcIik7XG5jb25zdCBmc19leHRyYV8xID0gcmVxdWlyZShcImZzLWV4dHJhXCIpO1xuY29uc3Qgd2luZG93c0V4ZWN1dGFibGVDb2RlU2lnbmF0dXJlVmVyaWZpZXJfMSA9IHJlcXVpcmUoXCIuL3dpbmRvd3NFeGVjdXRhYmxlQ29kZVNpZ25hdHVyZVZlcmlmaWVyXCIpO1xuY29uc3QgdXJsXzEgPSByZXF1aXJlKFwidXJsXCIpO1xuY29uc3QgemxpYl8xID0gcmVxdWlyZShcInpsaWJcIik7XG5jbGFzcyBOc2lzVXBkYXRlciBleHRlbmRzIEJhc2VVcGRhdGVyXzEuQmFzZVVwZGF0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGFwcCkge1xuICAgICAgICBzdXBlcihvcHRpb25zLCBhcHApO1xuICAgIH1cbiAgICAvKioqIEBwcml2YXRlICovXG4gICAgZG9Eb3dubG9hZFVwZGF0ZShkb3dubG9hZFVwZGF0ZU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBkb3dubG9hZFVwZGF0ZU9wdGlvbnMudXBkYXRlSW5mb0FuZFByb3ZpZGVyLnByb3ZpZGVyO1xuICAgICAgICBjb25zdCBmaWxlSW5mbyA9IFByb3ZpZGVyXzEuZmluZEZpbGUocHJvdmlkZXIucmVzb2x2ZUZpbGVzKGRvd25sb2FkVXBkYXRlT3B0aW9ucy51cGRhdGVJbmZvQW5kUHJvdmlkZXIuaW5mbyksIFwiZXhlXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlRG93bmxvYWQoe1xuICAgICAgICAgICAgZmlsZUV4dGVuc2lvbjogXCJleGVcIixcbiAgICAgICAgICAgIGRvd25sb2FkVXBkYXRlT3B0aW9ucyxcbiAgICAgICAgICAgIGZpbGVJbmZvLFxuICAgICAgICAgICAgdGFzazogYXN5bmMgKGRlc3RpbmF0aW9uRmlsZSwgZG93bmxvYWRPcHRpb25zLCBwYWNrYWdlRmlsZSwgcmVtb3ZlVGVtcERpcklmQW55KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFja2FnZUluZm8gPSBmaWxlSW5mby5wYWNrYWdlSW5mbztcbiAgICAgICAgICAgICAgICBjb25zdCBpc1dlYkluc3RhbGxlciA9IHBhY2thZ2VJbmZvICE9IG51bGwgJiYgcGFja2FnZUZpbGUgIT0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoaXNXZWJJbnN0YWxsZXIgfHwgKGF3YWl0IHRoaXMuZGlmZmVyZW50aWFsRG93bmxvYWRJbnN0YWxsZXIoZmlsZUluZm8sIGRvd25sb2FkVXBkYXRlT3B0aW9ucywgZGVzdGluYXRpb25GaWxlLCBwcm92aWRlcikpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaHR0cEV4ZWN1dG9yLmRvd25sb2FkKGZpbGVJbmZvLnVybCwgZGVzdGluYXRpb25GaWxlLCBkb3dubG9hZE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzaWduYXR1cmVWZXJpZmljYXRpb25TdGF0dXMgPSBhd2FpdCB0aGlzLnZlcmlmeVNpZ25hdHVyZShkZXN0aW5hdGlvbkZpbGUpO1xuICAgICAgICAgICAgICAgIGlmIChzaWduYXR1cmVWZXJpZmljYXRpb25TdGF0dXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZW1vdmVUZW1wRGlySWZBbnkoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm9pbnNwZWN0aW9uIFRocm93SW5zaWRlRmluYWxseUJsb2NrSlNcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5uZXdFcnJvcihgTmV3IHZlcnNpb24gJHtkb3dubG9hZFVwZGF0ZU9wdGlvbnMudXBkYXRlSW5mb0FuZFByb3ZpZGVyLmluZm8udmVyc2lvbn0gaXMgbm90IHNpZ25lZCBieSB0aGUgYXBwbGljYXRpb24gb3duZXI6ICR7c2lnbmF0dXJlVmVyaWZpY2F0aW9uU3RhdHVzfWAsIFwiRVJSX1VQREFURVJfSU5WQUxJRF9TSUdOQVRVUkVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1dlYkluc3RhbGxlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXdhaXQgdGhpcy5kaWZmZXJlbnRpYWxEb3dubG9hZFdlYlBhY2thZ2UoZG93bmxvYWRVcGRhdGVPcHRpb25zLCBwYWNrYWdlSW5mbywgcGFja2FnZUZpbGUsIHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmh0dHBFeGVjdXRvci5kb3dubG9hZChuZXcgdXJsXzEuVVJMKHBhY2thZ2VJbmZvLnBhdGgpLCBwYWNrYWdlRmlsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBkb3dubG9hZFVwZGF0ZU9wdGlvbnMucmVxdWVzdEhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbGxhdGlvblRva2VuOiBkb3dubG9hZFVwZGF0ZU9wdGlvbnMuY2FuY2VsbGF0aW9uVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYTUxMjogcGFja2FnZUluZm8uc2hhNTEyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmc19leHRyYV8xLnVubGluayhwYWNrYWdlRmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vICRjZXJ0aWZpY2F0ZUluZm8gPSAoR2V0LUF1dGhlbnRpY29kZVNpZ25hdHVyZSAneHh4XFx5eXkuZXhlJ1xuICAgIC8vIHwgd2hlcmUgeyRfLlN0YXR1cy5FcXVhbHMoW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uU2lnbmF0dXJlU3RhdHVzXTo6VmFsaWQpIC1hbmQgJF8uU2lnbmVyQ2VydGlmaWNhdGUuU3ViamVjdC5Db250YWlucyhcIkNOPXNpZW1lbnMuY29tXCIpfSlcbiAgICAvLyB8IE91dC1TdHJpbmcgOyBpZiAoJGNlcnRpZmljYXRlSW5mbykgeyBleGl0IDAgfSBlbHNlIHsgZXhpdCAxIH1cbiAgICBhc3luYyB2ZXJpZnlTaWduYXR1cmUodGVtcFVwZGF0ZUZpbGUpIHtcbiAgICAgICAgbGV0IHB1Ymxpc2hlck5hbWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwdWJsaXNoZXJOYW1lID0gKGF3YWl0IHRoaXMuY29uZmlnT25EaXNrLnZhbHVlKS5wdWJsaXNoZXJOYW1lO1xuICAgICAgICAgICAgaWYgKHB1Ymxpc2hlck5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5jb2RlID09PSBcIkVOT0VOVFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gYXBwLXVwZGF0ZS55bWxcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHdpbmRvd3NFeGVjdXRhYmxlQ29kZVNpZ25hdHVyZVZlcmlmaWVyXzEudmVyaWZ5U2lnbmF0dXJlKEFycmF5LmlzQXJyYXkocHVibGlzaGVyTmFtZSkgPyBwdWJsaXNoZXJOYW1lIDogW3B1Ymxpc2hlck5hbWVdLCB0ZW1wVXBkYXRlRmlsZSwgdGhpcy5fbG9nZ2VyKTtcbiAgICB9XG4gICAgZG9JbnN0YWxsKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IFtcIi0tdXBkYXRlZFwiXTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaXNTaWxlbnQpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChcIi9TXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlzRm9yY2VSdW5BZnRlcikge1xuICAgICAgICAgICAgYXJncy5wdXNoKFwiLS1mb3JjZS1ydW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFja2FnZVBhdGggPSB0aGlzLmRvd25sb2FkZWRVcGRhdGVIZWxwZXIgPT0gbnVsbCA/IG51bGwgOiB0aGlzLmRvd25sb2FkZWRVcGRhdGVIZWxwZXIucGFja2FnZUZpbGU7XG4gICAgICAgIGlmIChwYWNrYWdlUGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBvbmx5ID0gZm9ybSBpcyBzdXBwb3J0ZWRcbiAgICAgICAgICAgIGFyZ3MucHVzaChgLS1wYWNrYWdlLWZpbGU9JHtwYWNrYWdlUGF0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWxsVXNpbmdFbGV2YXRpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICBfc3Bhd24ocGF0aC5qb2luKHByb2Nlc3MucmVzb3VyY2VzUGF0aCwgXCJlbGV2YXRlLmV4ZVwiKSwgW29wdGlvbnMuaW5zdGFsbGVyUGF0aF0uY29uY2F0KGFyZ3MpKS5jYXRjaChlID0+IHRoaXMuZGlzcGF0Y2hFcnJvcihlKSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRpb25zLmlzQWRtaW5SaWdodHNSZXF1aXJlZCkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oXCJpc0FkbWluUmlnaHRzUmVxdWlyZWQgaXMgc2V0IHRvIHRydWUsIHJ1biBpbnN0YWxsZXIgdXNpbmcgZWxldmF0ZS5leGVcIik7XG4gICAgICAgICAgICBjYWxsVXNpbmdFbGV2YXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIF9zcGF3bihvcHRpb25zLmluc3RhbGxlclBhdGgsIGFyZ3MpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZWxlY3Ryb24tdXNlcmxhbmQvZWxlY3Ryb24tYnVpbGRlci9pc3N1ZXMvMTEyOVxuICAgICAgICAgICAgLy8gTm9kZSA4IHNlbmRzIGVycm9yczogaHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvbGF0ZXN0LXY4LngvZG9jcy9hcGkvZXJyb3JzLmh0bWwjZXJyb3JzX2NvbW1vbl9zeXN0ZW1fZXJyb3JzXG4gICAgICAgICAgICBjb25zdCBlcnJvckNvZGUgPSBlLmNvZGU7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhgQ2Fubm90IHJ1biBpbnN0YWxsZXI6IGVycm9yIGNvZGU6ICR7ZXJyb3JDb2RlfSwgZXJyb3IgbWVzc2FnZTogXCIke2UubWVzc2FnZX1cIiwgd2lsbCBiZSBleGVjdXRlZCBhZ2FpbiB1c2luZyBlbGV2YXRlIGlmIEVBQ0NFU1wiYCk7XG4gICAgICAgICAgICBpZiAoZXJyb3JDb2RlID09PSBcIlVOS05PV05cIiB8fCBlcnJvckNvZGUgPT09IFwiRUFDQ0VTXCIpIHtcbiAgICAgICAgICAgICAgICBjYWxsVXNpbmdFbGV2YXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBhc3luYyBkaWZmZXJlbnRpYWxEb3dubG9hZEluc3RhbGxlcihmaWxlSW5mbywgZG93bmxvYWRVcGRhdGVPcHRpb25zLCBpbnN0YWxsZXJQYXRoLCBwcm92aWRlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Rlc3RPbmx5T3B0aW9ucyAhPSBudWxsICYmICF0aGlzLl90ZXN0T25seU9wdGlvbnMuaXNVc2VEaWZmZXJlbnRpYWxEb3dubG9hZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYmxvY2ttYXBGaWxlVXJscyA9IHV0aWxfMS5ibG9ja21hcEZpbGVzKGZpbGVJbmZvLnVybCwgdGhpcy5hcHAudmVyc2lvbiwgZG93bmxvYWRVcGRhdGVPcHRpb25zLnVwZGF0ZUluZm9BbmRQcm92aWRlci5pbmZvLnZlcnNpb24pO1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oYERvd25sb2FkIGJsb2NrIG1hcHMgKG9sZDogXCIke2Jsb2NrbWFwRmlsZVVybHNbMF19XCIsIG5ldzogJHtibG9ja21hcEZpbGVVcmxzWzFdfSlgKTtcbiAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkQmxvY2tNYXAgPSBhc3luYyAodXJsKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuaHR0cEV4ZWN1dG9yLmRvd25sb2FkVG9CdWZmZXIodXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGRvd25sb2FkVXBkYXRlT3B0aW9ucy5yZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsbGF0aW9uVG9rZW46IGRvd25sb2FkVXBkYXRlT3B0aW9ucy5jYW5jZWxsYXRpb25Ub2tlbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PSBudWxsIHx8IGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQmxvY2ttYXAgXCIke3VybC5ocmVmfVwiIGlzIGVtcHR5YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHpsaWJfMS5ndW56aXBTeW5jKGRhdGEpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBwYXJzZSBibG9ja21hcCBcIiR7dXJsLmhyZWZ9XCIsIGVycm9yOiAke2V9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBuZXdVcmw6IGZpbGVJbmZvLnVybCxcbiAgICAgICAgICAgICAgICBvbGRGaWxlOiBwYXRoLmpvaW4odGhpcy5kb3dubG9hZGVkVXBkYXRlSGVscGVyLmNhY2hlRGlyLCBidWlsZGVyX3V0aWxfcnVudGltZV8xLkNVUlJFTlRfQVBQX0lOU1RBTExFUl9GSUxFX05BTUUpLFxuICAgICAgICAgICAgICAgIGxvZ2dlcjogdGhpcy5fbG9nZ2VyLFxuICAgICAgICAgICAgICAgIG5ld0ZpbGU6IGluc3RhbGxlclBhdGgsXG4gICAgICAgICAgICAgICAgaXNVc2VNdWx0aXBsZVJhbmdlUmVxdWVzdDogcHJvdmlkZXIuaXNVc2VNdWx0aXBsZVJhbmdlUmVxdWVzdCxcbiAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyczogZG93bmxvYWRVcGRhdGVPcHRpb25zLnJlcXVlc3RIZWFkZXJzLFxuICAgICAgICAgICAgICAgIGNhbmNlbGxhdGlvblRva2VuOiBkb3dubG9hZFVwZGF0ZU9wdGlvbnMuY2FuY2VsbGF0aW9uVG9rZW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJDb3VudChtYWluXzEuRE9XTkxPQURfUFJPR1JFU1MpID4gMCkge1xuICAgICAgICAgICAgICAgIGRvd25sb2FkT3B0aW9ucy5vblByb2dyZXNzID0gaXQgPT4gdGhpcy5lbWl0KG1haW5fMS5ET1dOTE9BRF9QUk9HUkVTUywgaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYmxvY2tNYXBEYXRhTGlzdCA9IGF3YWl0IFByb21pc2UuYWxsKGJsb2NrbWFwRmlsZVVybHMubWFwKHUgPT4gZG93bmxvYWRCbG9ja01hcCh1KSkpO1xuICAgICAgICAgICAgYXdhaXQgbmV3IEdlbmVyaWNEaWZmZXJlbnRpYWxEb3dubG9hZGVyXzEuR2VuZXJpY0RpZmZlcmVudGlhbERvd25sb2FkZXIoZmlsZUluZm8uaW5mbywgdGhpcy5odHRwRXhlY3V0b3IsIGRvd25sb2FkT3B0aW9ucykuZG93bmxvYWQoYmxvY2tNYXBEYXRhTGlzdFswXSwgYmxvY2tNYXBEYXRhTGlzdFsxXSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5lcnJvcihgQ2Fubm90IGRvd25sb2FkIGRpZmZlcmVudGlhbGx5LCBmYWxsYmFjayB0byBmdWxsIGRvd25sb2FkOiAke2Uuc3RhY2sgfHwgZX1gKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXN0T25seU9wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHRlc3QgbW9kZVxuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBkaWZmZXJlbnRpYWxEb3dubG9hZFdlYlBhY2thZ2UoZG93bmxvYWRVcGRhdGVPcHRpb25zLCBwYWNrYWdlSW5mbywgcGFja2FnZVBhdGgsIHByb3ZpZGVyKSB7XG4gICAgICAgIGlmIChwYWNrYWdlSW5mby5ibG9ja01hcFNpemUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBuZXdVcmw6IG5ldyB1cmxfMS5VUkwocGFja2FnZUluZm8ucGF0aCksXG4gICAgICAgICAgICAgICAgb2xkRmlsZTogcGF0aC5qb2luKHRoaXMuZG93bmxvYWRlZFVwZGF0ZUhlbHBlci5jYWNoZURpciwgYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5DVVJSRU5UX0FQUF9QQUNLQUdFX0ZJTEVfTkFNRSksXG4gICAgICAgICAgICAgICAgbG9nZ2VyOiB0aGlzLl9sb2dnZXIsXG4gICAgICAgICAgICAgICAgbmV3RmlsZTogcGFja2FnZVBhdGgsXG4gICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IHRoaXMucmVxdWVzdEhlYWRlcnMsXG4gICAgICAgICAgICAgICAgaXNVc2VNdWx0aXBsZVJhbmdlUmVxdWVzdDogcHJvdmlkZXIuaXNVc2VNdWx0aXBsZVJhbmdlUmVxdWVzdCxcbiAgICAgICAgICAgICAgICBjYW5jZWxsYXRpb25Ub2tlbjogZG93bmxvYWRVcGRhdGVPcHRpb25zLmNhbmNlbGxhdGlvblRva2VuLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxpc3RlbmVyQ291bnQobWFpbl8xLkRPV05MT0FEX1BST0dSRVNTKSA+IDApIHtcbiAgICAgICAgICAgICAgICBkb3dubG9hZE9wdGlvbnMub25Qcm9ncmVzcyA9IGl0ID0+IHRoaXMuZW1pdChtYWluXzEuRE9XTkxPQURfUFJPR1JFU1MsIGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IG5ldyBGaWxlV2l0aEVtYmVkZGVkQmxvY2tNYXBEaWZmZXJlbnRpYWxEb3dubG9hZGVyXzEuRmlsZVdpdGhFbWJlZGRlZEJsb2NrTWFwRGlmZmVyZW50aWFsRG93bmxvYWRlcihwYWNrYWdlSW5mbywgdGhpcy5odHRwRXhlY3V0b3IsIGRvd25sb2FkT3B0aW9ucykuZG93bmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmVycm9yKGBDYW5ub3QgZG93bmxvYWQgZGlmZmVyZW50aWFsbHksIGZhbGxiYWNrIHRvIGZ1bGwgZG93bmxvYWQ6ICR7ZS5zdGFjayB8fCBlfWApO1xuICAgICAgICAgICAgLy8gZHVyaW5nIHRlc3QgKGRldmVsb3BlciBtYWNoaW5lIG1hYyBvciBsaW51eCkgd2UgbXVzdCB0aHJvdyBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3MucGxhdGZvcm0gPT09IFwid2luMzJcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0cy5Oc2lzVXBkYXRlciA9IE5zaXNVcGRhdGVyO1xuLyoqXG4gKiBUaGlzIGhhbmRsZXMgYm90aCBub2RlIDggYW5kIG5vZGUgMTAgd2F5IG9mIGVtaXR0aW5nIGVycm9yIHdoZW4gc3Bhd25pbmcgYSBwcm9jZXNzXG4gKiAgIC0gbm9kZSA4OiBUaHJvd3MgdGhlIGVycm9yXG4gKiAgIC0gbm9kZSAxMDogRW1pdCB0aGUgZXJyb3IoTmVlZCB0byBsaXN0ZW4gd2l0aCBvbilcbiAqL1xuYXN5bmMgZnVuY3Rpb24gX3NwYXduKGV4ZSwgYXJncykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzID0gY2hpbGRfcHJvY2Vzc18xLnNwYXduKGV4ZSwgYXJncywge1xuICAgICAgICAgICAgICAgIGRldGFjaGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0ZGlvOiBcImlnbm9yZVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9jZXNzLm9uKFwiZXJyb3JcIiwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByb2Nlc3MudW5yZWYoKTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLnBpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5zaXNVcGRhdGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5VcGRhdGVyU2lnbmFsID0gZXhwb3J0cy5VUERBVEVfRE9XTkxPQURFRCA9IGV4cG9ydHMuRE9XTkxPQURfUFJPR1JFU1MgPSBleHBvcnRzLk5zaXNVcGRhdGVyID0gZXhwb3J0cy5NYWNVcGRhdGVyID0gZXhwb3J0cy5BcHBJbWFnZVVwZGF0ZXIgPSBleHBvcnRzLlByb3ZpZGVyID0gZXhwb3J0cy5DYW5jZWxsYXRpb25Ub2tlbiA9IGV4cG9ydHMuTm9PcExvZ2dlciA9IGV4cG9ydHMuQXBwVXBkYXRlciA9IHZvaWQgMDtcbmNvbnN0IGJ1aWxkZXJfdXRpbF9ydW50aW1lXzEgPSByZXF1aXJlKFwiYnVpbGRlci11dGlsLXJ1bnRpbWVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDYW5jZWxsYXRpb25Ub2tlblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYnVpbGRlcl91dGlsX3J1bnRpbWVfMS5DYW5jZWxsYXRpb25Ub2tlbjsgfSB9KTtcbnZhciBBcHBVcGRhdGVyXzEgPSByZXF1aXJlKFwiLi9BcHBVcGRhdGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQXBwVXBkYXRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQXBwVXBkYXRlcl8xLkFwcFVwZGF0ZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJOb09wTG9nZ2VyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBBcHBVcGRhdGVyXzEuTm9PcExvZ2dlcjsgfSB9KTtcbnZhciBQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vcHJvdmlkZXJzL1Byb3ZpZGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUHJvdmlkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb3ZpZGVyXzEuUHJvdmlkZXI7IH0gfSk7XG52YXIgQXBwSW1hZ2VVcGRhdGVyXzEgPSByZXF1aXJlKFwiLi9BcHBJbWFnZVVwZGF0ZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJBcHBJbWFnZVVwZGF0ZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEFwcEltYWdlVXBkYXRlcl8xLkFwcEltYWdlVXBkYXRlcjsgfSB9KTtcbnZhciBNYWNVcGRhdGVyXzEgPSByZXF1aXJlKFwiLi9NYWNVcGRhdGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTWFjVXBkYXRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFjVXBkYXRlcl8xLk1hY1VwZGF0ZXI7IH0gfSk7XG52YXIgTnNpc1VwZGF0ZXJfMSA9IHJlcXVpcmUoXCIuL05zaXNVcGRhdGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTnNpc1VwZGF0ZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE5zaXNVcGRhdGVyXzEuTnNpc1VwZGF0ZXI7IH0gfSk7XG4vLyBhdXRvVXBkYXRlciB0byBtaW1pYyBlbGVjdHJvbiBidW5kbGVkIGF1dG9VcGRhdGVyXG5sZXQgX2F1dG9VcGRhdGVyO1xuZnVuY3Rpb24gZG9Mb2FkQXV0b1VwZGF0ZXIoKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGU6cHJlZmVyLWNvbmRpdGlvbmFsLWV4cHJlc3Npb25cbiAgICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gXCJ3aW4zMlwiKSB7XG4gICAgICAgIF9hdXRvVXBkYXRlciA9IG5ldyAocmVxdWlyZShcIi4vTnNpc1VwZGF0ZXJcIikuTnNpc1VwZGF0ZXIpKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09IFwiZGFyd2luXCIpIHtcbiAgICAgICAgX2F1dG9VcGRhdGVyID0gbmV3IChyZXF1aXJlKFwiLi9NYWNVcGRhdGVyXCIpLk1hY1VwZGF0ZXIpKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBfYXV0b1VwZGF0ZXIgPSBuZXcgKHJlcXVpcmUoXCIuL0FwcEltYWdlVXBkYXRlclwiKS5BcHBJbWFnZVVwZGF0ZXIpKCk7XG4gICAgfVxuICAgIHJldHVybiBfYXV0b1VwZGF0ZXI7XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhdXRvVXBkYXRlclwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIF9hdXRvVXBkYXRlciB8fCBkb0xvYWRBdXRvVXBkYXRlcigpO1xuICAgIH0sXG59KTtcbmV4cG9ydHMuRE9XTkxPQURfUFJPR1JFU1MgPSBcImRvd25sb2FkLXByb2dyZXNzXCI7XG5leHBvcnRzLlVQREFURV9ET1dOTE9BREVEID0gXCJ1cGRhdGUtZG93bmxvYWRlZFwiO1xuY2xhc3MgVXBkYXRlclNpZ25hbCB7XG4gICAgY29uc3RydWN0b3IoZW1pdHRlcikge1xuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBlbWl0dGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0dGVkIHdoZW4gYW4gYXV0aGVudGljYXRpbmcgcHJveHkgaXMgW2Fza2luZyBmb3IgdXNlciBjcmVkZW50aWFsc10oaHR0cHM6Ly9naXRodWIuY29tL2VsZWN0cm9uL2VsZWN0cm9uL2Jsb2IvbWFzdGVyL2RvY3MvYXBpL2NsaWVudC1yZXF1ZXN0Lm1kI2V2ZW50LWxvZ2luKS5cbiAgICAgKi9cbiAgICBsb2dpbihoYW5kbGVyKSB7XG4gICAgICAgIGFkZEhhbmRsZXIodGhpcy5lbWl0dGVyLCBcImxvZ2luXCIsIGhhbmRsZXIpO1xuICAgIH1cbiAgICBwcm9ncmVzcyhoYW5kbGVyKSB7XG4gICAgICAgIGFkZEhhbmRsZXIodGhpcy5lbWl0dGVyLCBleHBvcnRzLkRPV05MT0FEX1BST0dSRVNTLCBoYW5kbGVyKTtcbiAgICB9XG4gICAgdXBkYXRlRG93bmxvYWRlZChoYW5kbGVyKSB7XG4gICAgICAgIGFkZEhhbmRsZXIodGhpcy5lbWl0dGVyLCBleHBvcnRzLlVQREFURV9ET1dOTE9BREVELCBoYW5kbGVyKTtcbiAgICB9XG4gICAgdXBkYXRlQ2FuY2VsbGVkKGhhbmRsZXIpIHtcbiAgICAgICAgYWRkSGFuZGxlcih0aGlzLmVtaXR0ZXIsIFwidXBkYXRlLWNhbmNlbGxlZFwiLCBoYW5kbGVyKTtcbiAgICB9XG59XG5leHBvcnRzLlVwZGF0ZXJTaWduYWwgPSBVcGRhdGVyU2lnbmFsO1xuY29uc3QgaXNMb2dFdmVudCA9IGZhbHNlO1xuZnVuY3Rpb24gYWRkSGFuZGxlcihlbWl0dGVyLCBldmVudCwgaGFuZGxlcikge1xuICAgIGlmIChpc0xvZ0V2ZW50KSB7XG4gICAgICAgIGVtaXR0ZXIub24oZXZlbnQsICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVzICVzXCIsIGV2ZW50LCBhcmdzKTtcbiAgICAgICAgICAgIGhhbmRsZXIoLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW1pdHRlci5vbihldmVudCwgaGFuZGxlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbi5qcy5tYXAiXSwibmFtZXMiOlsiQ2FuY2VsbGF0aW9uVG9rZW5fMSIsImV2ZW50c18xIiwicmVxdWlyZSQkMCIsInBhcnNlIiwiY29tbW9uIiwiUHJvZ3Jlc3NDYWxsYmFja1RyYW5zZm9ybV8xIiwic3RyZWFtXzEiLCJjcnlwdG9fMSIsImRlYnVnXzEiLCJyZXF1aXJlJCQxIiwiZnNfMSIsInJlcXVpcmUkJDIiLCJyZXF1aXJlJCQzIiwidXJsXzEiLCJyZXF1aXJlJCQ0IiwicmVxdWlyZSQkNSIsImluZGV4XzEiLCJyZXF1aXJlJCQ2IiwicmVxdWlyZSQkNyIsImRlYnVnIiwic3RyaW5naWZ5IiwiY29uc3RhbnRzIiwicG9seWZpbGxzIiwicGF0Y2giLCJsZWdhY3kiLCJjbG9uZSIsImZzIiwidXRpbCIsImdsb2JhbCIsInBhdGgiLCJ1IiwibWtkaXJzIiwidXRpbWVzTWlsbGlzIiwidXRpbWVzTWlsbGlzU3luYyIsImdldFN0YXRzIiwiYXJlSWRlbnRpY2FsIiwic3RhdCIsIm1rZGlyc1N5bmMiLCJvbkRpciIsIm9uRmlsZSIsIm9uTGluayIsIm1heUNvcHlGaWxlIiwiY29weUZpbGUiLCJzZXREZXN0TW9kZSIsImZpbGVJc05vdFdyaXRhYmxlIiwibWFrZUZpbGVXcml0YWJsZSIsInNldERlc3RUaW1lc3RhbXBzIiwiY29weURpciIsIm1rRGlyQW5kQ29weSIsImNvcHlEaXJJdGVtIiwic3RhcnRDb3B5IiwiY29weUxpbmsiLCJjb3B5U3luYyIsInBhdGhFeGlzdHMiLCJjb3B5IiwicmltcmFmIiwicmVtb3ZlIiwicmVtb3ZlU3luYyIsIm1rZGlyIiwiZmlsZSIsImxpbmsiLCJzeW1saW5rUGF0aHMiLCJzeW1saW5rUGF0aHNTeW5jIiwic3ltbGlua1R5cGUiLCJzeW1saW5rVHlwZVN5bmMiLCJzeW1saW5rIiwic3RyaXBCb20iLCJqc29uZmlsZSIsImpzb25GaWxlIiwib3V0cHV0RmlsZSIsIm91dHB1dEZpbGVTeW5jIiwianNvbiIsImlzUGFyZW50Um9vdCIsImRvUmVuYW1lIiwicmVuYW1lIiwibW92ZUFjcm9zc0RldmljZSIsIm1vdmVTeW5jIiwibW92ZSIsInJlcXVpcmUkJDgiLCJyZXF1aXJlJCQ5IiwicmVxdWlyZSQkMTAiLCJyZXF1aXJlJCQxMSIsIllBTUxFeGNlcHRpb24iLCJtYWtlU25pcHBldCIsIlR5cGUiLCJTY2hlbWEiLCJfaGFzT3duUHJvcGVydHkiLCJfdG9TdHJpbmciLCJERUZBVUxUX1NDSEVNQSIsIlN0YXRlIiwicmVxdWlyZSQkMTIiLCJyZXF1aXJlJCQxMyIsInJlcXVpcmUkJDE0IiwicmVxdWlyZSQkMTUiLCJyZXF1aXJlJCQxNiIsInJlcXVpcmUkJDE3IiwicmVxdWlyZSQkMTgiLCJyZXF1aXJlJCQxOSIsInJlcXVpcmUkJDIwIiwicmVxdWlyZSQkMjEiLCJtYWluIiwiTUFYX0xFTkdUSCIsIk1BWF9TQUZFX0lOVEVHRVIiLCJwYXJzZU9wdGlvbnMiLCJjb21wYXJlSWRlbnRpZmllcnMiLCJyZSIsInQiLCJTZW1WZXIiLCJzZW12ZXIiLCJ2YWxpZCIsImNvbXBhcmUiLCJlcSIsImNvbXBhcmVCdWlsZCIsImd0IiwibHQiLCJuZXEiLCJndGUiLCJsdGUiLCJjbXAiLCJZYWxsaXN0IiwiUmFuZ2UiLCJDb21wYXJhdG9yIiwiQU5ZIiwic2F0aXNmaWVzIiwib3V0c2lkZSIsInJlcXVpcmUkJDIyIiwicmVxdWlyZSQkMjMiLCJyZXF1aXJlJCQyNCIsInJlcXVpcmUkJDI1IiwicmVxdWlyZSQkMjYiLCJyZXF1aXJlJCQyNyIsInJlcXVpcmUkJDI4IiwicmVxdWlyZSQkMjkiLCJyZXF1aXJlJCQzMCIsInJlcXVpcmUkJDMxIiwicmVxdWlyZSQkMzIiLCJyZXF1aXJlJCQzMyIsInJlcXVpcmUkJDM0IiwicmVxdWlyZSQkMzUiLCJyZXF1aXJlJCQzNiIsInJlcXVpcmUkJDM3IiwicmVxdWlyZSQkMzgiLCJyZXF1aXJlJCQzOSIsInJlcXVpcmUkJDQwIiwiRG93bmxvYWRlZFVwZGF0ZUhlbHBlcl8xIiwiZnNfZXh0cmFfMSIsIkVsZWN0cm9uQXBwQWRhcHRlcl8xIiwiU3ltYm9sIiwiZXNjYXBlUmVnRXhwIiwiUHJvdmlkZXJfMSIsImJ1aWxkZXJfdXRpbF9ydW50aW1lXzEiLCJqc195YW1sXzEiLCJ1dGlsXzEiLCJHZW5lcmljUHJvdmlkZXJfMSIsIkJpbnRyYXlQcm92aWRlcl8xIiwiQml0YnVja2V0UHJvdmlkZXJfMSIsIkdpdEh1YlByb3ZpZGVyXzEiLCJLZXlnZW5Qcm92aWRlcl8xIiwiUHJpdmF0ZUdpdEh1YlByb3ZpZGVyXzEiLCJBcHBVcGRhdGVyXzEiLCJtYWluXzEiLCJCYXNlVXBkYXRlcl8xIiwiRGF0YVNwbGl0dGVyXzEiLCJkb3dubG9hZFBsYW5CdWlsZGVyXzEiLCJQcm9ncmVzc0RpZmZlcmVudGlhbERvd25sb2FkQ2FsbGJhY2tUcmFuc2Zvcm1fMSIsIkRpZmZlcmVudGlhbERvd25sb2FkZXJfMSIsIkZpbGVXaXRoRW1iZWRkZWRCbG9ja01hcERpZmZlcmVudGlhbERvd25sb2FkZXJfMSIsInpsaWJfMSIsIkFwcEltYWdlVXBkYXRlcl8xIiwiY2hpbGRfcHJvY2Vzc18xIiwiTWFjVXBkYXRlcl8xIiwiR2VuZXJpY0RpZmZlcmVudGlhbERvd25sb2FkZXJfMSIsIk5zaXNVcGRhdGVyXzEiXSwibWFwcGluZ3MiOiI4dURBQ0EsT0FBTyxlQUFlQSxHQUFTLGFBQWMsQ0FB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QUNWLE1BQVMsSUFDVCxPQUFVLElBQ1YsS0FBUSxJQUNSLE9BQVUsSUFDVixLQUFRLElBQ1IsS0FBUSxJQUNSLElBQU8sSUFDUCxLQUFRLElBQ1IsTUFBUyxJQUNULEtBQVEsSUFDUixNQUFTLElBQ1QsT0FBVSxJQUNWLElBQU8sSUFDUCxPQUFVLElBQ1YsS0FBUSxJQUNSLElBQU8sSUFDUCxLQUFRLElBQ1IsTUFBUyxJQUNULElBQU8sSUFDUCxJQUFPLElBQ1AsS0FBUSxJQUNSLElBQU8sSUFDUCxPQUFVLElBQ1YsS0FBUSxJQUNSLEtBQVEsSUFDUixLQUFRLElBQ1IsTUFBUyxJQUNULE1BQVMsSUFDVCxLQUFRLElBQ1IsT0FBVSxJQUNWLE1BQVMsSUFDVCxLQUFRLElBQ1IsTUFBUyxJQUNULE9BQVUsSUFDVixPQUFVLElBQ1YsT0FBVSxJQUNWLE9BQVUsSUFDVixNQUFTLElBQ1QsT0FBVSxJQUNWLE1BQVMsSUFDVCxNQUFTLElBQ1QsT0FBVSxJQUNWLE9BQVUsSUFDVixLQUFRLElBQ1IsS0FBUSxJQUNSLEtBQVEsSUFDUixNQUFTLElBQ1QsTUFBUyxJQUNULEtBQVEsSUFDUixNQUFTLElBQ1QsTUFBUyxJQUNULFFBQVcsSUFDWCxLQUFRLElBQ1IsSUFBTyxJQUNQLE1BQVMsSUFDVCxLQUFRLElBQ1IsTUFBUyxJQUNULE9BQVUsSUFDVixHQUFNLElBQ04sR0FBTSxJQUNOLEdBQU0sSUFDTixRQUFXLElBQ1gsR0FBTSxJQUNOLElBQU8sSUFDUCxNQUFTLElBQ1QsSUFBTyxJQUNQLFFBQVcsSUFDWCxJQUFPLElBQ1AsSUFBTyxJQUNQLElBQU8sSUFDUCxNQUFTLElBQ1QsTUFBUyxJQUNULEtBQVEsSUFDUixNQUFTLElBQ1QsTUFBUyxJQUNULFFBQVcsSUFDWCxLQUFRLElBQ1IsSUFBTyxJQUNQLE1BQVMsSUFDVCxLQUFRLElBQ1IsTUFBUyxJQUNULE9BQVUsSUFDVixHQUFNLElBQ04sR0FBTSxJQUNOLEdBQU0sSUFDTixRQUFXLElBQ1gsR0FBTSxJQUNOLElBQU8sSUFDUCxPQUFVLElBQ1YsTUFBUyxJQUNULElBQU8sSUFDUCxRQUFXLElBQ1gsSUFBTyxJQUNQLElBQU8sSUFDUCxJQUFPLElBQ1AsTUFBUyxJQUNULFNBQVksSUFDWixNQUFTLElBQ1QsSUFBTyxJQUNQLEtBQVEsS0FDUixLQUFRLEtBQ1IsT0FBVSxLQUNWLEtBQVEsS0FDUixJQUFPLEtBQ1AsSUFBTyxLQUNQLElBQU8sS0FDUCxNQUFTLEtBQ1QsTUFBUyxLQUNULE1BQVMsS0FDVCxNQUFTLEtBQ1QsTUFBUyxLQUNULE1BQVMsS0FDVCxNQUFTLEtBQ1QsTUFBUyxLQUNULE9BQVUsS0FDVixPQUFVLEtBQ1YsS0FBUSxLQUNSLE9BQVUsS0FDVixPQUFVLEtBQ1YsTUFBUyxLQUNULE1BQVMsS0FDVCxPQUFVLEtBQ1YsT0FBVSxLQUNWLE1BQVMsS0FDVCxNQUFTLEtBQ1QsS0FBUSxLQUNSLE1BQVMsS0FDVCxPQUFVLEtBQ1YsS0FBUSxLQUNSLE1BQVMsS0FDVCxRQUFXLEtBQ1gsS0FBUSxLQUNSLEtBQVEsS0FDUixLQUFRLEtBQ1IsS0FBUSxLQUNSLEtBQVEsS0FDUixNQUFTLEtBQ1QsS0FBUSxLQUNSLEtBQVEsS0FDUixLQUFRLEtBQ1IsS0FBUSxLQUNSLEtBQVEsS0FDUixPQUFVLEtBQ1YsS0FBUSxLQUNSLE1BQVMsS0FDVCxNQUFTLEtBQ1QsTUFBUyxLQUNULEtBQVEsS0FDUixNQUFTLEtBQ1QsR0FBTSxLQUNOLEtBQVEsS0FDUixJQUFPLEtBQ1AsTUFBUyxLQUNULE9BQVUsS0FDVixNQUFTLEtBQ1QsS0FBUSxLQUNSLE1BQVMsS0FDVCxJQUFPLEtBQ1AsSUFBTyxLQUNQLEdBQU0sS0FDTixJQUFPLEtBQ1AsSUFBTyxLQUNQLElBQU8sS0FDUCxPQUFVLEtBQ1YsSUFBTyxLQUNQLEtBQVEsS0FDUixNQUFTLEtBQ1QsR0FBTSxLQUNOLE1BQVMsS0FDVCxHQUFNLEtBQ04sR0FBTSxLQUNOLElBQU8sS0FDUCxJQUFPLEtBQ1AsS0FBUSxLQUNSLEtBQVEsS0FDUixLQUFRLEtBQ1IsTUFBUyxLQUNULE9BQVUsS0FDVixLQUFRLEtBQ1IsS0FBUSxL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
